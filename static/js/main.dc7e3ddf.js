/*! For license information please see main.dc7e3ddf.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=mi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Ae=!1;function Ne(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Re(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,_t,St,It=!1,Et=[],Tt=null,Ct=null,Rt=null,At=new Map,Nt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==Rt&&Ft(Rt)&&(Rt=null),At.forEach(Ut),Nt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return jt(t,e)}if(0<Et.length){jt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==Rt&&jt(Rt,e),At.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&bt(a),null===(a=Gt(e,t,n,r))&&Br(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=nn(fn),hn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function _n(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=nn(Sn),En=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=nn(Rn),Nn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Mn=l&&(!Pn||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Hn(e){Lr(e,0)}function Gn(e){if(G(yi(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;Qn=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Ne(Hn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==$(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function _r(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=_r("animationend"),Ir=_r("animationiteration"),Er=_r("animationstart"),Tr=_r("transitionend"),Cr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Cr.set(e,t),s(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Pr=Rr[Nr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Sr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(Er,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Fr(e,t){var n=t[di];void 0===n&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Ir:case Er:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=En}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(qr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=dn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:yi(s),h=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,vi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Kr(h))p++;for(h=0,v=d;v;v=Kr(v))h++;for(;0<p-h;)l=Kr(l),p--;for(;0<h-p;)d=Kr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Kr(l),d=Kr(d)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Bn(u))if(Qn)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==k?"onCompositionEnd"===k&&jn&&(g=Jt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(y=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Un(e,t)?(e=Jt(),Xt=Yt=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Lr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,di="__reactEvents$"+si,hi="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function _i(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ii=wi(Si),Ei=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){xi(Ei),xi(Ii)}function Ni(e,t,n){if(Ii.current!==Si)throw Error(a(168));_i(Ii,t),_i(Ei,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ii.current,_i(Ii,e),_i(Ei,Ei.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(Ei),xi(Ii),_i(Ii,e)):xi(Ei),_i(Ei,n)}var Mi=null,Li=!1,Fi=!1;function Ui(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=gt;try{var n=Mi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Li=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ge(Ze,Vi),i}finally{gt=t,Fi=!1}}return null}var ji=b.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Ki=null;function Hi(){Ki=Wi=qi=null}function Gi(e){var t=Bi.current;xi(Bi),e._currentValue=t}function $i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Is|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ri(t)?Ti:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ri(t)?Ti:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ka=0,ba=null,wa=1,xa="";function _a(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ia(e){null!==e.return&&(_a(e,1),Sa(e,1,0))}function Ea(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Ra=!1,Aa=null;function Na(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Ra){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Na(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Ta=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Ta=e}}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function La(e){if(e!==Ta)return!1;if(!Ra)return Ma(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ca)){if(Oa(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Na(e,t),t=oi(t.nextSibling)}if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Ra=!1}function Ua(e){null===Aa?Aa=[e]:Aa.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&za(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ec(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Sc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Ra&&_a(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ra&&_a(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Ra&&_a(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Ra&&_a(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Ra&&_a(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Ra&&_a(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Va(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=_c(o.type,o.key,o.props,null,r.mode,s)).ref=Va(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ec(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ha=wi(Ka),Ga=wi(Ka),$a=wi(Ka);function Qa(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(_i($a,t),_i(Ga,e),_i(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ha),_i(Ha,t)}function Xa(){xi(Ha),xi(Ga),xi($a)}function Ja(e){Qa($a.current);var t=Qa(Ha.current),n=se(t,e.type);t!==n&&(_i(Ga,e),_i(Ha,n))}function Za(e){Ga.current===e&&(xi(Ha),xi(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,uo.lanes|=f,Is|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Is|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Io(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Lo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,No(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ro(t)&&Ws(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Oo(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=No(t,n,a,r))}uo.flags|=e,i.memoizedState=No(1|t,n,a,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Uo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function zo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Ho(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Qo(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=Bs()))&&Xo(e,t,r))}function Go(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Qo(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=Bs()))&&Xo(e,t,r)}}function $o(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Qo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Ao,useDebugValue:zo,useDeferredValue:function(e){var t=Ao(e),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ao(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,No(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Ra){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Lo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Lo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Uo,useMemo:qo,useReducer:_o,useRef:Po,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Io,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function du(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function hu(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ri(t.type)&&Ai(),pu(t),null;case 3:return r=t.stateNode,Xa(),xi(Ei),xi(Ii),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(La(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Aa&&(Qs(Aa),Aa=null))),pu(t),null;case 5:Za(t);var i=Qa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Qa(Ha.current),La(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa($a.current),Qa(Ha.current),La(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Ra&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=La(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Aa&&(Qs(Aa),Aa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?La(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===_s&&(_s=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Xa(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)hu(o,!1);else{if(0!==_s||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ns&&(t.flags|=128,r=!0,hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ra)return pu(t),null}else 2*Xe()-o.renderingStartTime>Ns&&1073741824!==n&&(t.flags|=128,r=!0,hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,_i(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ha.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=b.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Ra&&n&&Ia(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},_i(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,_i(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,_i(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ri(n)?Ti:Ii.current;return a=Ci(t,a),Qi(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Ra&&r&&Ia(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function Iu(e,t,n,r,i){if(Ri(n)){var a=!0;Oi(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ci(t,c=Ri(n)?Ti:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&da(t,o,r,c),Ji=!1;var d=t.memoizedState;o.state=d,aa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ei.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ci(t,s=Ri(n)?Ti:Ii.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&da(t,o,r,s),Ji=!1,d=t.memoizedState,o.state=d,aa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ei.current||Ji?("function"===typeof h&&(sa(t,n,h,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Eu(e,t,n,r,a,i)}function Eu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Vu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ya(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Ua(i),t.flags|=256,gu(e,t,n,r),t.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function Au(e){return{baseLanes:e,cachePool:null}}function Nu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ic(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Au(n),t.memoizedState=Ru,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Mu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ic({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Au(n),t.memoizedState=Ru,u);if(0===(1&t.mode))t=Mu(e,t,n,null);else if("$!"===r.data)t=Mu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Mu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Ra=!0,Aa=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Au(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Mu(e,t,n,r){return null!==r&&Ua(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$i(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lu(e,n,t);else if(19===e.tag)Lu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Is|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(Ea(t),t.tag){case 1:return Ri(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),xi(Ei),xi(Ii),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Xa(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,Bu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){hc(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){hc(e,t,r)}}var Gu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hu(t,n,a)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){hc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[di],delete t[hi],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Qu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?de(n,s):k(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Bu;u=zu;var c=Bu;if(zu=o,(Bu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,Bu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Bu||512&t.flags&&Yu(t)}catch(h){hc(t,t.return,h)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(s){hc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){hc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){hc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){hc(t,o,s)}}}catch(s){hc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var ds,hs=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ms=b.ReactCurrentBatchConfig,ys=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),_s=0,Ss=null,Is=0,Es=0,Ts=0,Cs=null,Rs=null,As=0,Ns=1/0,Ps=!1,Os=null,Ds=null,Ms=!1,Ls=null,Fs=0,Us=0,Vs=null,js=-1,zs=0;function Bs(){return 0!==(6&ys)?Xe():-1!==js?js:js=Xe()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==bs?bs&-bs:null!==ji.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Ws(e,t,n){if(50<Us)throw Us=0,Vs=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Es|=t),4===_s&&Ys(r,bs)),Hs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ns=Xe()+500,Li&&Vi())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===gs?bs:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Li=!0,Ui(e)}(Xs.bind(null,e)):Ui(Xs.bind(null,e)),ri((function(){0===ys&&Vi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(js=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=dt(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&bs===t||(Ns=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Hi(),ps.current=o,ys=i,null!==ks?t=0:(gs=null,bs=0,t=_s)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=$s(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=$s(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Rs);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=As+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Rs),t);break}lc(e,Rs);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hs(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Rs),r);break}lc(e,Rs);break;default:throw Error(a(329))}}}return Hs(e,Xe()),e.callbackNode===n?Gs.bind(null,e):null}function $s(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Rs,Rs=n,null!==t&&Qs(t)),e}function Qs(e){null===Rs?Rs=e:Rs.push.apply(Rs,e)}function Ys(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fc();var t=dt(e,0);if(0===(1&t))return Hs(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=$s(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Hs(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Rs),Hs(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ns=Xe()+500,Li&&Vi())}}function Zs(e){null!==Ls&&0===Ls.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Vi()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(Ea(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Xa(),xi(Ei),xi(Ii),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:xi(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),bs=ws=t,_s=0,Ss=null,Ts=Es=Is=0,Rs=Cs=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Hi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){_s=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,du(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Ra&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),du(y,u,s,0,t),Ua(c);break e}}o=c,4!==_s&&(_s=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ds||!Ds.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Jo,null===e?Jo:e}function ic(){0!==_s&&3!==_s&&2!==_s||(_s=4),null===gs||0===(268435455&Is)&&0===(268435455&Es)||Ys(gs,bs)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Hi(),ys=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,_s}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Qe();)sc(ks)}function sc(e){var t=ds(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return _s=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===_s&&(_s=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ls);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ms||(Ms=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){hc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){hc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&de(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(As=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,d=null!==f&&null!==f.memoizedState;e:{i=l;for(var h=null,p=r=n=t;;){if(5===p.tag){if(null===h){h=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",k)}}}else if(6===p.tag)null===h&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!d&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var _=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){hc(r,_,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){hc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),dr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ms&&(Ms=!1,Ls=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hs(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Os,Os=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Vs?Us++:(Us=0,Vs=e):Us=0,Vi()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ls){var e=kt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ls)var r=!1;else{if(e=Ls,Ls=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var d=f.child;if(null!==d)d.return=f,Wu=d;else for(;null!==Wu;){var h=(f=Wu).sibling,p=f.return;if(Ju(f),f===l){Wu=null;break}if(null!==h){h.return=p,Wu=h;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Qu(9,s)}}catch(x){hc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function dc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=Bs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Hs(e,t))}function hc(e,t,n){if(3===e.tag)dc(e,e,n);else for(;null!==t;){if(3===t.tag){dc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=Bs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Hs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===_s||3===_s&&(130023424&bs)===bs&&500>Xe()-As?tc(e,0):Ts|=n),Hs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bs();null!==(e=Ks(e,t))&&(mt(e,t,n),Hs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ge(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=bc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case R:return(e=bc(13,n,t,i)).elementType=R,e.lanes=o,e;case A:return(e=bc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Ic(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ic(e,t,n,r){return(e=bc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Ec(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rc(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Ac(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Nc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Rc(n,r,!0,e,0,a,0,u,s)).context=Nc(null),n=e.current,(a=ta(r=Bs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Hs(e,r),e}function Oc(e,t,n,r){var i=t.current,a=Bs(),o=qs(i);return n=Nc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}ds=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Ja(t);break;case 1:Ri(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Nu(e,t,n):(_i(eo,1&eo.current),null!==(e=Vu(e,t,n))?e.sibling:null);_i(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Vu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Ra&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ii.current);Qi(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,ha(t,r,e,n),t=Eu(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ia(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Ra=!0,Aa=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),_u(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Nu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(Bi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ei.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),$i(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),$i(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Qi(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),bu(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Oi(t)):e=!1,Qi(t,n),fa(t,r,i),ha(t,r,i,n),Eu(null,t,r,!0,e,n);case 19:return Uu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Uc(e){this._internalRoot=e}function Vc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Rc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),Zs((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}Vc.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Vc.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Oc(null,e,null,null)})),t[fi]=null}},Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Hs(t,Xe()),0===(6&ys)&&(Ns=Xe()+500,Vi()))}break;case 13:var r=Bs();Zs((function(){return Ws(e,1,r)})),Lc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,Bs()),Lc(e,134217728))},xt=function(e){if(13===e.tag){var t=Bs(),n=qs(e);Ws(e,n,t),Lc(e,n)}},_t=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Js,Re=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ee,Te,Js]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Hc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Ac(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Rc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Uc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),d=k("react.memo"),h=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=R(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=R(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(R([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!R());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=A,_=function(){P.postMessage(null)}}else _=function(){y(A,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return zi},SDK_VERSION:function(){return ja},_DEFAULT_ENTRY_NAME:function(){return Ta},_addComponent:function(){return Na},_addOrOverwriteComponent:function(){return Pa},_apps:function(){return Ra},_clearComponents:function(){return La},_components:function(){return Aa},_getProvider:function(){return Da},_registerComponent:function(){return Oa},_removeServiceInstance:function(){return Ma},deleteApp:function(){return Wa},getApp:function(){return Ba},getApps:function(){return qa},initializeApp:function(){return za},onLog:function(){return Ga},registerVersion:function(){return Ha},setLogLevel:function(){return $a}});var t=n(791),r=n.t(t,2),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h={xs:0,sm:600,md:900,lg:1200,xl:1536},p={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(h[e],"px)")}};function v(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||p;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||p;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||h).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function m(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function y(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function g(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}function k(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function b(e){if("string"!==typeof e)throw new Error(k(7));return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function x(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:w(e,n)||i,t&&(r=t(r)),r}var _=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=w(e.theme,i)||{};return v(e,n,(function(e){var n=x(o,a,e);return e===n&&"string"===typeof e&&(n=x(o,a,"".concat(t).concat("default"===e?"":b(e)),e)),!1===r?n:l({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};function S(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?d({},e):e;return S(e)&&S(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(S(t[i])&&i in e&&S(e[i])?r[i]=I(e[i],t[i],n):r[i]=t[i])})),r}var E=function(e,t){return t?I(e,t,{clone:!1}):e};var T={m:"margin",p:"padding"},C={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},A=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!R[e])return[e];e=R[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=T[n],a=C[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),N=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],O=[].concat(N,P);function D(e,t,n,r){var i=w(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function M(e){return D(e,"spacing",8)}function L(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function F(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=L(t,n),e}),{})}}(A(n),r);return v(e,e[n],i)}function U(e,t){var n=M(e.theme);return Object.keys(e).map((function(r){return F(e,t,r,n)})).reduce(E,{})}function V(e){return U(e,N)}function j(e){return U(e,P)}function z(e){return U(e,O)}V.propTypes={},V.filterProps=N,j.propTypes={},j.filterProps=P,z.propTypes={},z.filterProps=O;var B=z;function q(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function W(e){return function(e){if(Array.isArray(e))return o(e)}(e)||q(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?E(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function H(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var G=_({prop:"border",themeKey:"borders",transform:H}),$=_({prop:"borderTop",themeKey:"borders",transform:H}),Q=_({prop:"borderRight",themeKey:"borders",transform:H}),Y=_({prop:"borderBottom",themeKey:"borders",transform:H}),X=_({prop:"borderLeft",themeKey:"borders",transform:H}),J=_({prop:"borderColor",themeKey:"palette"}),Z=_({prop:"borderTopColor",themeKey:"palette"}),ee=_({prop:"borderRightColor",themeKey:"palette"}),te=_({prop:"borderBottomColor",themeKey:"palette"}),ne=_({prop:"borderLeftColor",themeKey:"palette"}),re=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=D(e.theme,"shape.borderRadius",4);return v(e,e.borderRadius,(function(e){return{borderRadius:L(t,e)}}))}return null};re.propTypes={},re.filterProps=["borderRadius"];var ie=K(G,$,Q,Y,X,J,Z,ee,te,ne,re),ae=K(_({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),_({prop:"display"}),_({prop:"overflow"}),_({prop:"textOverflow"}),_({prop:"visibility"}),_({prop:"whiteSpace"})),oe=K(_({prop:"flexBasis"}),_({prop:"flexDirection"}),_({prop:"flexWrap"}),_({prop:"justifyContent"}),_({prop:"alignItems"}),_({prop:"alignContent"}),_({prop:"order"}),_({prop:"flex"}),_({prop:"flexGrow"}),_({prop:"flexShrink"}),_({prop:"alignSelf"}),_({prop:"justifyItems"}),_({prop:"justifySelf"})),ue=function(e){if(void 0!==e.gap&&null!==e.gap){var t=D(e.theme,"spacing",8);return v(e,e.gap,(function(e){return{gap:L(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["gap"];var se=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=D(e.theme,"spacing",8);return v(e,e.columnGap,(function(e){return{columnGap:L(t,e)}}))}return null};se.propTypes={},se.filterProps=["columnGap"];var ce=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=D(e.theme,"spacing",8);return v(e,e.rowGap,(function(e){return{rowGap:L(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["rowGap"];var le=K(ue,se,ce,_({prop:"gridColumn"}),_({prop:"gridRow"}),_({prop:"gridAutoFlow"}),_({prop:"gridAutoColumns"}),_({prop:"gridAutoRows"}),_({prop:"gridTemplateColumns"}),_({prop:"gridTemplateRows"}),_({prop:"gridTemplateAreas"}),_({prop:"gridArea"})),fe=K(_({prop:"position"}),_({prop:"zIndex",themeKey:"zIndex"}),_({prop:"top"}),_({prop:"right"}),_({prop:"bottom"}),_({prop:"left"})),de=K(_({prop:"color",themeKey:"palette"}),_({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),_({prop:"backgroundColor",themeKey:"palette"})),he=_({prop:"boxShadow",themeKey:"shadows"});function pe(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ve=_({prop:"width",transform:pe}),me=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return v(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||h[t]||pe(t)}}))}return null};me.filterProps=["maxWidth"];var ye=_({prop:"minWidth",transform:pe}),ge=_({prop:"height",transform:pe}),ke=_({prop:"maxHeight",transform:pe}),be=_({prop:"minHeight",transform:pe}),we=(_({prop:"size",cssProperty:"width",transform:pe}),_({prop:"size",cssProperty:"height",transform:pe}),K(ve,me,ye,ge,ke,be,_({prop:"boxSizing"}))),xe=_({prop:"fontFamily",themeKey:"typography"}),_e=_({prop:"fontSize",themeKey:"typography"}),Se=_({prop:"fontStyle",themeKey:"typography"}),Ie=_({prop:"fontWeight",themeKey:"typography"}),Ee=_({prop:"letterSpacing"}),Te=_({prop:"textTransform"}),Ce=_({prop:"lineHeight"}),Re=_({prop:"textAlign"}),Ae=K(_({prop:"typography",cssProperty:!1,themeKey:"typography"}),xe,_e,Se,Ie,Ee,Ce,Re,Te),Ne={borders:ie.filterProps,display:ae.filterProps,flexbox:oe.filterProps,grid:le.filterProps,positions:fe.filterProps,palette:de.filterProps,shadows:he.filterProps,sizing:we.filterProps,spacing:B.filterProps,typography:Ae.filterProps},Pe={borders:ie,display:ae,flexbox:oe,grid:le,positions:fe,palette:de,shadows:he,sizing:we,spacing:B,typography:Ae},Oe=Object.keys(Ne).reduce((function(e,t){return Ne[t].forEach((function(n){e[n]=Pe[t]})),e}),{});var De=["sx"];function Me(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Oe[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(f(e,De)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(W(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return S(e)?d({},i,e):i}:d({},i,n),d({},a,{sx:t})}var Le=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Fe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ue=Le((function(e){return Fe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ve=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),je=Math.abs,ze=String.fromCharCode,Be=Object.assign;function qe(e){return e.trim()}function We(e,t,n){return e.replace(t,n)}function Ke(e,t){return e.indexOf(t)}function He(e,t){return 0|e.charCodeAt(t)}function Ge(e,t,n){return e.slice(t,n)}function $e(e){return e.length}function Qe(e){return e.length}function Ye(e,t){return t.push(e),e}var Xe=1,Je=1,Ze=0,et=0,tt=0,nt="";function rt(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Xe,column:Je,length:o,return:""}}function it(e,t){return Be(rt("",null,null,"",null,null,0),e,{length:-e.length},t)}function at(){return tt=et>0?He(nt,--et):0,Je--,10===tt&&(Je=1,Xe--),tt}function ot(){return tt=et<Ze?He(nt,et++):0,Je++,10===tt&&(Je=1,Xe++),tt}function ut(){return He(nt,et)}function st(){return et}function ct(e,t){return Ge(nt,e,t)}function lt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ft(e){return Xe=Je=1,Ze=$e(nt=e),et=0,[]}function dt(e){return nt="",e}function ht(e){return qe(ct(et-1,mt(91===e?e+2:40===e?e+1:e)))}function pt(e){for(;(tt=ut())&&tt<33;)ot();return lt(e)>2||lt(tt)>3?"":" "}function vt(e,t){for(;--t&&ot()&&!(tt<48||tt>102||tt>57&&tt<65||tt>70&&tt<97););return ct(e,st()+(t<6&&32==ut()&&32==ot()))}function mt(e){for(;ot();)switch(tt){case e:return et;case 34:case 39:34!==e&&39!==e&&mt(tt);break;case 40:41===e&&mt(e);break;case 92:ot()}return et}function yt(e,t){for(;ot()&&e+tt!==57&&(e+tt!==84||47!==ut()););return"/*"+ct(t,et-1)+"*"+ze(47===e?e:ot())}function gt(e){for(;!lt(ut());)ot();return ct(e,et)}var kt="-ms-",bt="-moz-",wt="-webkit-",xt="comm",_t="rule",St="decl",It="@keyframes";function Et(e,t){for(var n="",r=Qe(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Tt(e,t,n,r){switch(e.type){case"@import":case St:return e.return=e.return||e.value;case xt:return"";case It:return e.return=e.value+"{"+Et(e.children,r)+"}";case _t:e.value=e.props.join(",")}return $e(n=Et(e.children,r))?e.return=e.value+"{"+n+"}":""}function Ct(e,t){switch(function(e,t){return(((t<<2^He(e,0))<<2^He(e,1))<<2^He(e,2))<<2^He(e,3)}(e,t)){case 5103:return wt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+e+bt+e+kt+e+e;case 6828:case 4268:return wt+e+kt+e+e;case 6165:return wt+e+kt+"flex-"+e+e;case 5187:return wt+e+We(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return wt+e+kt+"flex-item-"+We(e,/flex-|-self/,"")+e;case 4675:return wt+e+kt+"flex-line-pack"+We(e,/align-content|flex-|-self/,"")+e;case 5548:return wt+e+kt+We(e,"shrink","negative")+e;case 5292:return wt+e+kt+We(e,"basis","preferred-size")+e;case 6060:return wt+"box-"+We(e,"-grow","")+wt+e+kt+We(e,"grow","positive")+e;case 4554:return wt+We(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return We(We(We(e,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),e,"")+e;case 5495:case 3959:return We(e,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return We(We(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+e+e;case 4095:case 3583:case 4068:case 2532:return We(e,/(.+)-inline(.+)/,wt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($e(e)-1-t>6)switch(He(e,t+1)){case 109:if(45!==He(e,t+4))break;case 102:return We(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+bt+(108==He(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ke(e,"stretch")?Ct(We(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==He(e,t+1))break;case 6444:switch(He(e,$e(e)-3-(~Ke(e,"!important")&&10))){case 107:return We(e,":",":"+wt)+e;case 101:return We(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(45===He(e,14)?"inline-":"")+"box$3$1"+wt+"$2$3$1"+kt+"$2box$3")+e}break;case 5936:switch(He(e,t+11)){case 114:return wt+e+kt+We(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return wt+e+kt+We(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return wt+e+kt+We(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return wt+e+kt+e+e}return e}function Rt(e){return dt(At("",null,null,null,[""],e=ft(e),0,[0],e))}function At(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,x=r,_=k;m;)switch(p=g,g=ot()){case 40:if(108!=p&&58==_.charCodeAt(f-1)){-1!=Ke(_+=We(ht(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:_+=ht(g);break;case 9:case 10:case 13:case 32:_+=pt(p);break;case 92:_+=vt(st()-1,7);continue;case 47:switch(ut()){case 42:case 47:Ye(Pt(yt(ot(),st()),t,n),s);break;default:_+="/"}break;case 123*v:u[c++]=$e(_)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:h>0&&$e(_)-f&&Ye(h>32?Ot(_+";",r,n,f-1):Ot(We(_," ","")+";",r,n,f-2),s);break;case 59:_+=";";default:if(Ye(x=Nt(_,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)At(_,t,x,x,b,a,f,u,w);else switch(d){case 100:case 109:case 115:At(e,x,x,r&&Ye(Nt(e,x,x,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:At(_,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,k=_="",f=o;break;case 58:f=1+$e(_),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==at())continue;switch(_+=ze(g),g*v){case 38:y=l>0?1:(_+="\f",-1);break;case 44:u[c++]=($e(_)-1)*y,y=1;break;case 64:45===ut()&&(_+=ht(ot())),d=ut(),l=f=$e(k=_+=gt(st())),g++;break;case 45:45===p&&2==$e(_)&&(v=0)}}return a}function Nt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=Qe(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Ge(e,f+1,f=je(v=o[p])),k=e;y<h;++y)(k=qe(v>0?d[y]+" "+g:We(g,/&\f/g,d[y])))&&(s[m++]=k);return rt(e,t,n,0===i?_t:u,s,c,l)}function Pt(e,t,n){return rt(e,t,n,xt,ze(tt),Ge(e,2,-2),0)}function Ot(e,t,n,r){return rt(e,t,n,St,Ge(e,0,r),Ge(e,r+1,-1),r)}var Dt=function(e,t,n){for(var r=0,i=0;r=i,i=ut(),38===r&&12===i&&(t[n]=1),!lt(i);)ot();return ct(e,et)},Mt=function(e,t){return dt(function(e,t){var n=-1,r=44;do{switch(lt(r)){case 0:38===r&&12===ut()&&(t[n]=1),e[n]+=Dt(et-1,t,n);break;case 2:e[n]+=ht(r);break;case 4:if(44===r){e[++n]=58===ut()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ze(r)}}while(r=ot());return e}(ft(e),t))},Lt=new WeakMap,Ft=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Lt.get(n))&&!r){Lt.set(e,!0);for(var i=[],a=Mt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Ut=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Vt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case St:e.return=Ct(e.value,e.length);break;case It:return Et([it(e,{value:We(e.value,"@","@"+wt)})],r);case _t:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Et([it(e,{props:[We(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Et([it(e,{props:[We(t,/:(plac\w+)/,":-webkit-input-$1")]}),it(e,{props:[We(t,/:(plac\w+)/,":-moz-$1")]}),it(e,{props:[We(t,/:(plac\w+)/,kt+"input-$1")]})],r)}return""}))}}],jt=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Vt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Tt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Qe(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Ft,Ut].concat(r,l));a=function(e,t,n,r){s=n,function(e){Et(Rt(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Ve({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var zt=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Bt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qt=/[A-Z]|^ms/g,Wt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Kt=function(e){return 45===e.charCodeAt(1)},Ht=function(e){return null!=e&&"boolean"!==typeof e},Gt=Le((function(e){return Kt(e)?e:e.replace(qt,"-$&").toLowerCase()})),$t=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Wt,(function(e,t,n){return Yt={name:t,styles:n,next:Yt},t}))}return 1===Bt[e]||Kt(e)||"number"!==typeof t||0===t?t:t+"px"};function Qt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Yt={name:n.name,styles:n.styles,next:Yt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Yt={name:r.name,styles:r.styles,next:Yt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ht(o)&&(r+=Gt(a)+":"+$t(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Qt(e,t,o);switch(a){case"animation":case"animationName":r+=Gt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ht(o[s])&&(r+=Gt(a)+":"+$t(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Yt,a=n(e);return Yt=i,Qt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Yt,Xt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Jt=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Yt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Qt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Qt(n,t,e[o]),r&&(i+=a[o]);Xt.lastIndex=0;for(var u,s="";null!==(u=Xt.exec(i));)s+="-"+u[1];return{name:zt(i)+s,styles:i,next:Yt}},Zt=(0,t.createContext)("undefined"!==typeof HTMLElement?jt({key:"css"}):null);Zt.Provider;var en=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Zt);return e(n,i,r)}))},tn=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function nn(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var rn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},an=function(e,t,n){rn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},on=Ue,un=function(e){return"theme"!==e},sn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?on:un},cn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},ln=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var fn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;rn(t,n,r);ln((function(){return an(t,n,r)}));return null},dn=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=cn(n,r,o),c=s||sn(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var p=f.length,v=1;v<p;v++)h.push(f[v],f[0][v])}var m=en((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(tn)}"string"===typeof e.className?o=nn(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Jt(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?sn(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(fn,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,d({},r,n,{shouldForwardProp:cn(m,n,!0)})).apply(void 0,h)},m}},hn=dn.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){hn[e]=hn(e)}));var pn=hn;function vn(e,t){return pn(e,t)}var mn=["values","unit","step"];function yn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,mn),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return d({},e,l({},t.key,t.val))}),{})}(n),c=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return d({keys:c,values:s,up:h,down:p,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):h(e)},not:function(e){var t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?p(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var gn={borderRadius:4};function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=M({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var bn=["breakpoints","palette","spacing","shape"];var wn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=f(e,bn),c=yn(n),l=kn(a),h=I({breakpoints:c,direction:"ltr",components:{},palette:d({mode:"light"},i),spacing:l,shape:d({},gn,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return h=v.reduce((function(e,t){return I(e,t)}),h)},xn=["variant"];function _n(e){return 0===e.length}function Sn(e){var t=e.variant,n=f(e,xn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?_n(r)?e[t]:b(e[t]):"".concat(_n(r)?t:b(t)).concat(b(e[t].toString()))})),r}function In(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function En(e,t){return"function"===typeof e?e(t):e}var Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(l(i={},e,n),l(i,"theme",r),i),o=t[e];return o?o(a):l({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=m(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=En(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=E(s,n(e,a,u));else{var o=v({theme:u},a,(function(t){return l({},e,t)}));In(o,a)?s[e]=r({sx:a,theme:u}):s=E(s,o)}else s=E(s,n(e,a,u))})),y(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Tn.filterProps=["sx"];var Cn=Tn,Rn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],An=["theme"],Nn=["theme"];function Pn(e){return 0===Object.keys(e).length}var On=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Dn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Sn(e.props);r[t]=e.style})),r},Mn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Sn(n.props)])})),s};function Ln(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Fn=wn();function Un(e,t,n){var r;return d({toolbar:(r={minHeight:56},l(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),l(r,e.up("sm"),{minHeight:64}),r)},n)}function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function jn(e){if(e.type)return e;if("#"===e.charAt(0))return jn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(k(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(k(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function zn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Bn(e){var t="hsl"===(e=jn(e)).type?jn(function(e){var t=(e=jn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),zn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qn(e,t){return e=jn(e),t=Vn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,zn(e)}function Wn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return zn(e)}function Kn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return zn(e)}var Hn={black:"#000",white:"#fff"},Gn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Qn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},er=["mode","contrastThreshold","tonalOffset"],tr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hn.white,default:Hn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nr={text:{primary:Hn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Kn(e.main,i):"dark"===t&&(e.dark=Wn(e.main,a)))}function ir(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=f(e,er),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[200],light:Xn[50],dark:Xn[400]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[200],light:$n[50],dark:$n[400]}:{main:$n[500],light:$n[300],dark:$n[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[500],light:Qn[300],dark:Qn[700]}:{main:Qn[700],light:Qn[400],dark:Qn[800]}}(n),h=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[500],dark:Jn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:Zn[800],light:Zn[500],dark:Zn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[400],light:Yn[300],dark:Yn[700]}:{main:"#ed6c02",light:Yn[500],dark:Yn[900]}}(n);function m(e){var t=function(e,t){var n=Bn(e),r=Bn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,nr.text.primary)>=i?nr.text.primary:tr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=d({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(k(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(k(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return rr(t,"light",u,o),rr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:nr,light:tr};return I(d({common:Hn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:h,name:"info"}),success:y({color:p,name:"success"}),grey:Gn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var ar=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var or={textTransform:"uppercase"},ur='"Roboto", "Helvetica", "Arial", sans-serif';function sr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ur:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,h=n.fontWeightMedium,p=void 0===h?500:h,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=f(n,ar);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return d({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===ur?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(p,14,1.75,.4,or),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,or)};return I(d({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function cr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var lr=["none",cr(0,2,1,-1,0,1,1,0,0,1,3,0),cr(0,3,1,-2,0,2,2,0,0,1,5,0),cr(0,3,3,-2,0,3,4,0,0,1,8,0),cr(0,2,4,-1,0,4,5,0,0,1,10,0),cr(0,3,5,-1,0,5,8,0,0,1,14,0),cr(0,3,5,-1,0,6,10,0,0,1,18,0),cr(0,4,5,-2,0,7,10,1,0,2,16,1),cr(0,5,5,-3,0,8,10,1,0,3,14,2),cr(0,5,6,-3,0,9,12,1,0,3,16,2),cr(0,6,6,-3,0,10,14,1,0,4,18,3),cr(0,6,7,-4,0,11,15,1,0,4,20,3),cr(0,7,8,-4,0,12,17,2,0,5,22,4),cr(0,7,8,-4,0,13,19,2,0,5,24,4),cr(0,7,9,-4,0,14,21,2,0,5,26,4),cr(0,8,9,-5,0,15,22,2,0,6,28,5),cr(0,8,10,-5,0,16,24,2,0,6,30,5),cr(0,8,11,-5,0,17,26,2,0,6,32,5),cr(0,9,11,-5,0,18,28,2,0,7,34,6),cr(0,9,12,-6,0,19,29,2,0,7,36,6),cr(0,10,13,-6,0,20,31,3,0,8,38,7),cr(0,10,13,-6,0,21,33,3,0,8,40,7),cr(0,10,14,-6,0,22,35,3,0,8,42,7),cr(0,11,14,-7,0,23,36,3,0,9,44,8),cr(0,11,15,-7,0,24,38,3,0,9,46,8)],fr=["duration","easing","delay"],dr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pr(e){return"".concat(Math.round(e),"ms")}function vr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function mr(e){var t=d({},dr,e.easing),n=d({},hr,e.duration);return d({getAutoHeightDuration:vr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;f(r,fr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:pr(a)," ").concat(u," ").concat("string"===typeof c?c:pr(c))})).join(",")}},e,{easing:t,duration:n})}var yr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=f(e,gr),l=ir(i),h=wn(e),p=I(h,{mixins:Un(h.breakpoints,h.spacing,n),palette:l,shadows:lr.slice(),typography:sr(l,s),transitions:mr(o),zIndex:d({},yr)});p=I(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return I(e,t)}),p)}var br=kr,wr=br(),xr=function(e){return Ln(e)&&"classes"!==e},_r=Ln,Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Fn:t,r=e.rootShouldForwardProp,i=void 0===r?Ln:r,a=e.slotShouldForwardProp,o=void 0===a?Ln:a,u=e.styleFunctionSx,s=void 0===u?Cn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,h=r.skipSx,p=r.overridesResolver,v=f(r,Rn),m=void 0!==l?l:u&&"Root"!==u||!1,y=h||!1;var g=Ln;"Root"===u?g=i:u&&(g=o);var k=vn(e,d({shouldForwardProp:g,label:t},v)),b=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=f(t,An);return e(d({theme:Pn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Pn(e.theme)?n:e.theme,r=On(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),p(e,i)}return null})),a&&!m&&o.push((function(e){var t=Pn(e.theme)?n:e.theme;return Mn(e,Dn(a,t),t,a)})),y||o.push((function(e){var t=Pn(e.theme)?n:e.theme;return s(d({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var h=new Array(l).fill("");(u=[].concat(W(e),W(h))).raw=[].concat(W(e.raw),W(h))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=f(t,Nn);return e(d({theme:Pn(r)?n:r},i))});var v=k.apply(void 0,[u].concat(W(o)));return v};return k.withConfig&&(b.withConfig=k.withConfig),b}}({defaultTheme:wr,rootShouldForwardProp:xr}),Ir=Sr;function Er(e,t){var n=d({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Tr=t.createContext(null);function Cr(){return t.useContext(Tr)}function Rr(e){return 0===Object.keys(e).length}var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Cr();return!t||Rr(t)?e:t},Nr=wn();var Pr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;return Ar(e)};function Or(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Er(t.components[n].defaultProps,r):r}({theme:Pr(r),name:n,props:t});return i}function Dr(e){return Or({props:e.props,name:e.name,defaultTheme:wr})}var Mr=n(184),Lr=["component","direction","spacing","divider","children"];function Fr(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var Ur=Ir("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=d({display:"flex"},v({theme:n},g({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=M(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),o=g({values:t.direction,base:a});r=I(r,v({theme:n},g({values:t.spacing,base:a}),(function(e,n){return{"& > :not(style) + :not(style)":l({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),L(i,e))};var r})))}return r})),Vr=t.forwardRef((function(e,t){var n=Me(Dr({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,o=void 0===a?"column":a,u=n.spacing,s=void 0===u?0:u,c=n.divider,l=n.children,h=f(n,Lr),p={direction:o,spacing:s};return(0,Mr.jsx)(Ur,d({as:i,ownerState:p,ref:t},h,{children:c?Fr(l,c):l}))})),jr=Vr;function zr(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zr(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Br(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=zr(e))&&(r&&(r+=" "),r+=t);return r}function qr(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}var Wr=b,Kr=function(e){return e},Hr=function(){var e=Kr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Kr}}}(),Gr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function $r(e,t){return Gr[t]||"".concat(Hr.generate(e),"-").concat(t)}function Qr(e,t){var n={};return t.forEach((function(t){n[t]=$r(e,t)})),n}function Yr(e){return $r("MuiSvgIcon",e)}Qr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Xr=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Jr=Ir("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Wr(n.color))],t["fontSize".concat(Wr(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(d=g.palette)||null==(h=d[k.color])?void 0:h.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Zr=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,h=n.htmlColor,p=n.inheritViewBox,v=void 0!==p&&p,m=n.titleAccess,y=n.viewBox,g=void 0===y?"0 0 24 24":y,k=f(n,Xr),b=d({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:g}),w={};v||(w.viewBox=g);var x=function(e){var t=e.color,n=e.fontSize,r=e.classes;return qr({root:["root","inherit"!==t&&"color".concat(Wr(t)),"fontSize".concat(Wr(n))]},Yr,r)}(b);return(0,Mr.jsxs)(Jr,d({as:s,className:Br(x.root,i),ownerState:b,focusable:"false",color:h,"aria-hidden":!m||void 0,role:m?"img":void 0,ref:t},w,k,{children:[r,m?(0,Mr.jsx)("title",{children:m}):null]}))}));Zr.muiName="SvgIcon";var ei=Zr;function ti(e,n){var r=function(t,r){return(0,Mr.jsx)(ei,d({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=ei.muiName,t.memo(t.forwardRef(r))}var ni=ti((0,Mr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function ri(e){return $r("MuiAvatar",e)}Qr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var ii=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ai=Ir("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return d({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),oi=Ir("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ui=Ir(ni,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var si=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,l=r.imgProps,h=r.sizes,p=r.src,v=r.srcSet,m=r.variant,y=void 0===m?"circular":m,g=f(r,ii),k=null,b=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(d({},l,{src:p,srcSet:v})),w=p||v,x=w&&"error"!==b,_=d({},r,{colorDefault:!x,component:s,variant:y}),S=function(e){var t=e.classes;return qr({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},ri,t)}(_);return k=x?(0,Mr.jsx)(oi,d({alt:i,src:p,srcSet:v,sizes:h,ownerState:_,className:S.img},l)):null!=a?a:w&&i?i[0]:(0,Mr.jsx)(ui,{className:S.fallback}),(0,Mr.jsx)(ai,d({as:s,ownerState:_,className:Br(S.root,o),ref:n},g,{children:k}))})),ci=si;var li=function(e){var t=e.image,n=e.username,r=e.caption,i=e.avatar;return(0,Mr.jsxs)("div",{className:"post",children:[(0,Mr.jsxs)(jr,{direction:"row",spacing:2.5,className:"postHeader",children:[(0,Mr.jsx)(ci,{alt:n,src:i}),(0,Mr.jsx)("h3",{children:n})]}),(0,Mr.jsxs)("div",{className:"postBody",children:[(0,Mr.jsx)("img",{className:"postImage",src:t,alt:""}),(0,Mr.jsxs)("p",{className:"postCaption",children:[(0,Mr.jsx)("strong",{children:n})," ",r]})]})]})};function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hi(e,t,n){return t&&di(e.prototype,t),n&&di(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pi(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mi(e,t){return mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mi(e,t)}function yi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mi(e,t)}function gi(e){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gi(e)}function ki(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function wi(e,t){if(t&&("object"===bi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vi(e)}function xi(e){var t=ki();return function(){var n,r=gi(e);if(t){var i=gi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wi(this,n)}}function _i(e,t,n){return _i=ki()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&mi(i,n.prototype),i},_i.apply(null,arguments)}function Si(e){var t="function"===typeof Map?new Map:void 0;return Si=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _i(e,arguments,gi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),mi(n,e)},Si(e)}var Ii=n(757),Ei=n.n(Ii),Ti=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ci={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ti(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ri=function(e){return function(e){var t=Ti(e);return Ci.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ai=function(e){try{return Ci.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ni(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ni(e[n],t[n]));return e}var Pi=function(){function e(){var t=this;fi(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return hi(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Oi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ri(JSON.stringify({alg:"none",type:"JWT"})),Ri(JSON.stringify(a)),""].join(".")}function Di(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Di())}function Li(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Fi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ui(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vi(){var e=Di();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ji(){return"object"===typeof indexedDB}var zi=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(vi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(vi(a),Bi.prototype.create),a}return hi(n)}(Si(Error)),Bi=function(){function e(t,n,r){fi(this,e),this.service=t,this.serviceName=n,this.errors=r}return hi(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?qi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new zi(n,a,t);return o}}]),e}();function qi(e,t){return e.replace(Wi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Wi=/\{\$([^}]+)}/g;function Ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Gi(u)&&Gi(s)){if(!Hi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Gi(e){return null!==e&&"object"===typeof e}function $i(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Yi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Xi(e,t){var n=new Ji(e,t);return n.subscribe.bind(n)}var Ji=function(){function e(t,n){var r=this;fi(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return hi(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=pi(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Zi),void 0===r.error&&(r.error=Zi),void 0===r.complete&&(r.complete=Zi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Zi(){}function ea(e){return e&&e._delegate?e._delegate:e}function ta(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var na=function(){function e(t){fi(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return hi(e,[{key:"transaction",value:function(e,t){return new ra(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new ia(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),ra=function(){function e(t){var n=this;fi(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return hi(e,[{key:"objectStore",value:function(e){return new ia(this._transaction.objectStore(e))}}]),e}(),ia=function(){function e(t){fi(this,e),this._store=t}return hi(e,[{key:"index",value:function(e){return new aa(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new aa(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return ta(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return ta(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return ta(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return ta(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),aa=function(){function e(t){fi(this,e),this._index=t}return hi(e,[{key:"get",value:function(e){return ta(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function oa(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ua(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){oa(a,r,i,o,u,"next",e)}function u(e){oa(a,r,i,o,u,"throw",e)}o(void 0)}))}}var sa=function(){function e(t,n,r){fi(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return hi(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ca="[DEFAULT]",la=function(){function e(t,n){fi(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return hi(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch(s){}var t,n=pi(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ua(Ii.mark((function e(){var t;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(W(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),W(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=pi(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Fk){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fa(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Fk){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca;return this.component?this.component.multipleInstances?e:ca:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function fa(e){return e===ca?void 0:e}var da,ha,pa=function(){function e(t){fi(this,e),this.name=t,this.providers=new Map}return hi(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new la(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),va=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ha||(ha={}));var ma,ya,ga={debug:ha.DEBUG,verbose:ha.VERBOSE,info:ha.INFO,warn:ha.WARN,error:ha.ERROR,silent:ha.SILENT},ka=ha.INFO,ba=(l(da={},ha.DEBUG,"log"),l(da,ha.VERBOSE,"log"),l(da,ha.INFO,"info"),l(da,ha.WARN,"warn"),l(da,ha.ERROR,"error"),da),wa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ba[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xa=function(){function e(t){fi(this,e),this.name=t,this._logLevel=ka,this._logHandler=wa,this._userLogHandler=null,va.push(this)}return hi(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ha))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ga[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ha.DEBUG].concat(t)),this._logHandler.apply(this,[this,ha.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ha.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ha.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ha.INFO].concat(t)),this._logHandler.apply(this,[this,ha.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ha.WARN].concat(t)),this._logHandler.apply(this,[this,ha.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ha.ERROR].concat(t)),this._logHandler.apply(this,[this,ha.ERROR].concat(t))}}]),e}();var _a=function(){function e(t){fi(this,e),this.container=t}return hi(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Sa="@firebase/app",Ia="0.7.20",Ea=new xa("@firebase/app"),Ta="[DEFAULT]",Ca=(l(ma={},Sa,"fire-core"),l(ma,"@firebase/app-compat","fire-core-compat"),l(ma,"@firebase/analytics","fire-analytics"),l(ma,"@firebase/analytics-compat","fire-analytics-compat"),l(ma,"@firebase/app-check","fire-app-check"),l(ma,"@firebase/app-check-compat","fire-app-check-compat"),l(ma,"@firebase/auth","fire-auth"),l(ma,"@firebase/auth-compat","fire-auth-compat"),l(ma,"@firebase/database","fire-rtdb"),l(ma,"@firebase/database-compat","fire-rtdb-compat"),l(ma,"@firebase/functions","fire-fn"),l(ma,"@firebase/functions-compat","fire-fn-compat"),l(ma,"@firebase/installations","fire-iid"),l(ma,"@firebase/installations-compat","fire-iid-compat"),l(ma,"@firebase/messaging","fire-fcm"),l(ma,"@firebase/messaging-compat","fire-fcm-compat"),l(ma,"@firebase/performance","fire-perf"),l(ma,"@firebase/performance-compat","fire-perf-compat"),l(ma,"@firebase/remote-config","fire-rc"),l(ma,"@firebase/remote-config-compat","fire-rc-compat"),l(ma,"@firebase/storage","fire-gcs"),l(ma,"@firebase/storage-compat","fire-gcs-compat"),l(ma,"@firebase/firestore","fire-fst"),l(ma,"@firebase/firestore-compat","fire-fst-compat"),l(ma,"fire-js","fire-js"),l(ma,"firebase","fire-js-all"),ma),Ra=new Map,Aa=new Map;function Na(e,t){try{e.container.addComponent(t)}catch(n){Ea.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pa(e,t){e.container.addOrOverwriteComponent(t)}function Oa(e){var t=e.name;if(Aa.has(t))return Ea.debug("There were multiple attempts to register component ".concat(t,".")),!1;Aa.set(t,e);var n,r=pi(Ra.values());try{for(r.s();!(n=r.n()).done;){Na(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Da(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ta;Da(e,t).clearInstance(n)}function La(){Aa.clear()}var Fa=(l(ya={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(ya,"bad-app-name","Illegal App name: '{$appName}"),l(ya,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(ya,"app-deleted","Firebase App named '{$appName}' already deleted"),l(ya,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(ya,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(ya,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),l(ya,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),l(ya,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),l(ya,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ya),Ua=new Bi("app","Firebase",Fa),Va=function(){function e(t,n,r){var i=this;fi(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",(function(){return i}),"PUBLIC"))}return hi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}]),e}(),ja="9.6.10";function za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ta,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ua.create("bad-app-name",{appName:String(i)});var a=Ra.get(i);if(a){if(Hi(e,a.options)&&Hi(r,a.config))return a;throw Ua.create("duplicate-app",{appName:i})}var o,u=new pa(i),s=pi(Aa.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Va(e,r,u);return Ra.set(i,l),l}function Ba(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=Ra.get(e);if(!t)throw Ua.create("no-app",{appName:e});return t}function qa(){return Array.from(Ra.values())}function Wa(e){return Ka.apply(this,arguments)}function Ka(){return(Ka=ua(Ii.mark((function e(t){var n;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ra.has(n)){e.next=6;break}return Ra.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t,n){var r,i=null!==(r=Ca[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ea.warn(u.join(" "))}Oa(new sa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ga(e,t){if(null!==e&&"function"!==typeof e)throw Ua.create("invalid-log-argument");!function(e,t){var n,r=pi(va);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ga[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ha[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function $a(e){var t;t=e,va.forEach((function(e){e.setLogLevel(t)}))}var Qa="firebase-heartbeat-store",Ya=null;function Xa(){var e,t,n;return Ya||(Ya=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Qa)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new na(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new na(a.result),e.oldVersion,e.newVersion,new ra(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ua.create("storage-open",{originalErrorMessage:e.message})}))),Ya}function Ja(e){return Za.apply(this,arguments)}function Za(){return Za=ua(Ii.mark((function e(t){var n;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa();case 3:return n=e.sent,e.abrupt("return",n.transaction(Qa).objectStore(Qa).get(no(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ua.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=ua(Ii.mark((function e(t,n){var r,i,a;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xa();case 3:return r=e.sent,i=r.transaction(Qa,"readwrite"),a=i.objectStore(Qa),e.next=8,a.put(n,no(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ua.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),to.apply(this,arguments)}function no(e){return"".concat(e.name,"!").concat(e.options.appId)}var ro=function(){function e(t){var n=this;fi(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new so(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return hi(e,[{key:"triggerHeartbeat",value:function(){var e=ua(Ii.mark((function e(){var t,n,r;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=io(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ua(Ii.mark((function e(){var t,n,r,i,a;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=io(),n=ao(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ri(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function io(){return(new Date).toISOString().substring(0,10)}function ao(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=pi(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),co(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),co(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var oo,uo,so=function(){function e(t){fi(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return hi(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ua(Ii.mark((function e(){return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ji()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ua(Ii.mark((function e(){var t;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ja(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ua(Ii.mark((function e(t){var n,r;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",eo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ua(Ii.mark((function e(t){var n,r;return Ii.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",eo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(W(r.heartbeats),W(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function co(e){return Ri(JSON.stringify({version:2,heartbeats:e})).length}oo="",Oa(new sa("platform-logger",(function(e){return new _a(e)}),"PRIVATE")),Oa(new sa("heartbeat",(function(e){return new ro(e)}),"PRIVATE")),Ha(Sa,Ia,oo),Ha(Sa,Ia,"esm2017"),Ha("fire-js","");var lo=function(){function e(t,n){var r=this;fi(this,e),this._delegate=t,this.firebase=n,Na(t,new sa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return hi(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Wa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ta;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Na(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pa(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),fo=(l(uo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(uo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),uo),ho=new Bi("app-compat","Firebase",fo);var po=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=za(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ki(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ha,setLogLevel:$a,onLog:Ga,apps:null,SDK_VERSION:ja,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Oa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ho.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ni(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ki(n,e=e||Ta))throw ho.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(lo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ni(n,e)},createSubscribe:Xi,ErrorFactory:Bi,deepExtend:Ni}),n}(),vo=new xa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mo=self.firebase.SDK_VERSION;mo&&mo.indexOf("LITE")>=0&&vo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yo=po;!function(e){Ha("@firebase/app-compat","0.1.21",e)}();function go(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gi(e)););return e}function ko(){return ko="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=go(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ko.apply(this,arguments)}yo.registerVersion("firebase","9.6.10","app-compat");var bo,wo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xo={},_o=_o||{},So=wo||self;function Io(){}function Eo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function To(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Co="closure_uid_"+(1e9*Math.random()>>>0),Ro=0;function Ao(e,t,n){return e.call.apply(e.bind,arguments)}function No(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Po(e,t,n){return(Po=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ao:No).apply(null,arguments)}function Oo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Do(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Mo(){this.s=this.s,this.o=this.o}var Lo={};Mo.prototype.s=!1,Mo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Co)&&e[Co]||(e[Co]=++Ro)}(this);delete Lo[e]}},Mo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Fo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Uo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Vo(e){return Array.prototype.concat.apply([],arguments)}function jo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zo(e){return/^[\s\xa0]*$/.test(e)}var Bo,qo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wo(e,t){return-1!=e.indexOf(t)}function Ko(e,t){return e<t?-1:e>t?1:0}e:{var Ho=So.navigator;if(Ho){var Go=Ho.userAgent;if(Go){Bo=Go;break e}}Bo=""}function $o(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Qo(e){var t={};for(var n in e)t[n]=e[n];return t}var Yo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yo.length;a++)n=Yo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jo(e){return Jo[" "](e),e}Jo[" "]=Io;var Zo,eu=Wo(Bo,"Opera"),tu=Wo(Bo,"Trident")||Wo(Bo,"MSIE"),nu=Wo(Bo,"Edge"),ru=nu||tu,iu=Wo(Bo,"Gecko")&&!(Wo(Bo.toLowerCase(),"webkit")&&!Wo(Bo,"Edge"))&&!(Wo(Bo,"Trident")||Wo(Bo,"MSIE"))&&!Wo(Bo,"Edge"),au=Wo(Bo.toLowerCase(),"webkit")&&!Wo(Bo,"Edge");function ou(){var e=So.document;return e?e.documentMode:void 0}e:{var uu="",su=function(){var e=Bo;return iu?/rv:([^\);]+)(\)|;)/.exec(e):nu?/Edge\/([\d\.]+)/.exec(e):tu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):au?/WebKit\/(\S+)/.exec(e):eu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(su&&(uu=su?su[1]:""),tu){var cu=ou();if(null!=cu&&cu>parseFloat(uu)){Zo=String(cu);break e}}Zo=uu}var lu,fu={};function du(){return function(e){var t=fu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=qo(String(Zo)).split("."),n=qo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ko(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ko(0==a[2].length,0==o[2].length)||Ko(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(So.document&&tu){var hu=ou();lu=hu||(parseInt(Zo,10)||void 0)}else lu=void 0;var pu=lu,vu=function(){if(!So.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{So.addEventListener("test",Io,t),So.removeEventListener("test",Io,t)}catch(n){}return e}();function mu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function yu(e,t){if(mu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(iu){e:{try{Jo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:gu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yu.Z.h.call(this)}}mu.prototype.h=function(){this.defaultPrevented=!0},Do(yu,mu);var gu={2:"touch",3:"pen",4:"mouse"};yu.prototype.h=function(){yu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ku="closure_listenable_"+(1e6*Math.random()|0),bu=0;function wu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++bu,this.ca=this.fa=!1}function xu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _u(e){this.src=e,this.g={},this.h=0}function Su(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Fo(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Iu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_u.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Iu(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new wu(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Eu="closure_lm_"+(1e6*Math.random()|0),Tu={};function Cu(e,t,n,r,i){if(r&&r.once)return Au(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Cu(e,t[a],n,r,i);return null}return n=Fu(n),e&&e[ku]?e.N(t,n,To(r)?!!r.capture:!!r,i):Ru(e,t,n,!1,r,i)}function Ru(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=To(i)?!!i.capture:!!i,u=Mu(e);if(u||(e[Eu]=u=new _u(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Du;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ou(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Au(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Au(e,t[a],n,r,i);return null}return n=Fu(n),e&&e[ku]?e.O(t,n,To(r)?!!r.capture:!!r,i):Ru(e,t,n,!0,r,i)}function Nu(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Nu(e,t[a],n,r,i);else r=To(r)?!!r.capture:!!r,n=Fu(n),e&&e[ku]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Iu(a=e.g[t],n,r,i))&&(xu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Mu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Iu(t,n,r,i)),(n=-1<e?t[e]:null)&&Pu(n))}function Pu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ku])Su(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ou(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mu(t))?(Su(n,e),0==n.h&&(n.src=null,t[Eu]=null)):xu(e)}}}function Ou(e){return e in Tu?Tu[e]:Tu[e]="on"+e}function Du(e,t){if(e.ca)e=!0;else{t=new yu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Pu(e),e=n.call(r,t)}return e}function Mu(e){return(e=e[Eu])instanceof _u?e:null}var Lu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(e){return"function"===typeof e?e:(e[Lu]||(e[Lu]=function(t){return e.handleEvent(t)}),e[Lu])}function Uu(){Mo.call(this),this.i=new _u(this),this.P=this,this.I=null}function Vu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new mu(t,e);else if(t instanceof mu)t.target=t.target||e;else{var i=t;Xo(t=new mu(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ju(o,r,!0,t)&&i}if(i=ju(o=t.g=e,r,!0,t)&&i,i=ju(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ju(o=t.g=n[a],r,!1,t)&&i}function ju(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Su(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Do(Uu,Mo),Uu.prototype[ku]=!0,Uu.prototype.removeEventListener=function(e,t,n,r){Nu(this,e,t,n,r)},Uu.prototype.M=function(){if(Uu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xu(n[r]);delete t.g[e],t.h--}}this.I=null},Uu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zu=So.JSON.stringify;function Bu(){var e=Yu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qu,Wu=function(){function e(){fi(this,e),this.h=this.g=null}return hi(e,[{key:"add",value:function(e,t){var n=Ku.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ku=new(function(){function e(t,n){fi(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return hi(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hu}),(function(e){return e.reset()})),Hu=function(){function e(){fi(this,e),this.next=this.g=this.h=null}return hi(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gu(e){So.setTimeout((function(){throw e}),0)}function $u(e,t){qu||function(){var e=So.Promise.resolve(void 0);qu=function(){e.then(Xu)}}(),Qu||(qu(),Qu=!0),Yu.add(e,t)}var Qu=!1,Yu=new Wu;function Xu(){for(var e;e=Bu();){try{e.h.call(e.g)}catch(n){Gu(n)}var t=Ku;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qu=!1}function Ju(e,t){Uu.call(this),this.h=e||1,this.g=t||So,this.j=Po(this.kb,this),this.l=Date.now()}function Zu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function es(e,t,n){if("function"===typeof e)n&&(e=Po(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Po(e.handleEvent,e)}return 2147483647<Number(t)?-1:So.setTimeout(e,t||0)}function ts(e){e.g=es((function(){e.g=null,e.i&&(e.i=!1,ts(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Do(Ju,Uu),(bo=Ju.prototype).da=!1,bo.S=null,bo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vu(this,"tick"),this.da&&(Zu(this),this.start()))}},bo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bo.M=function(){Ju.Z.M.call(this),Zu(this),delete this.g};var ns=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return hi(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ts(this)}},{key:"M",value:function(){ko(gi(n.prototype),"M",this).call(this),this.g&&(So.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Mo);function rs(e){Mo.call(this),this.h=e,this.g={}}Do(rs,Mo);var is=[];function as(e,t,n,r){Array.isArray(n)||(n&&(is[0]=n.toString()),n=is);for(var i=0;i<n.length;i++){var a=Cu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function os(e){$o(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Pu(e)}),e),e.g={}}function us(){this.g=!0}function ss(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return zu(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}rs.prototype.M=function(){rs.Z.M.call(this),os(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},us.prototype.Aa=function(){this.g=!1},us.prototype.info=function(){};var cs={},ls=null;function fs(){return ls=ls||new Uu}function ds(e){mu.call(this,cs.Ma,e)}function hs(e){var t=fs();Vu(t,new ds(t,e))}function ps(e,t){mu.call(this,cs.STAT_EVENT,e),this.stat=t}function vs(e){var t=fs();Vu(t,new ps(t,e))}function ms(e,t){mu.call(this,cs.Na,e),this.size=t}function ys(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return So.setTimeout((function(){e()}),t)}cs.Ma="serverreachability",Do(ds,mu),cs.STAT_EVENT="statevent",Do(ps,mu),cs.Na="timingevent",Do(ms,mu);var gs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ks={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bs(){}function ws(e){return e.h||(e.h=e.i())}function xs(){}bs.prototype.h=null;var _s,Ss={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Is(){mu.call(this,"d")}function Es(){mu.call(this,"c")}function Ts(){}function Cs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rs(this),this.P=As,e=ru?125:void 0,this.W=new Ju(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}Do(Is,mu),Do(Es,mu),Do(Ts,bs),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},_s=new Ts;var As=45e3,Ns={},Ps={};function Os(e,t,n){e.K=1,e.v=nc(Ys(t)),e.s=n,e.U=!0,Ds(e,null)}function Ds(e,t){e.F=Date.now(),Us(e),e.A=Ys(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Rs,e.g=yl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ns(Po(e.Ia,e,e.g),e.O)),as(e.V,e.g,"readystatechange",e.gb),t=e.H?Qo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hs(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ms(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ls(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Fs(e,n))==Ps){4==t&&(e.o=4,vs(14),i=!1),ss(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ns){e.o=4,vs(15),ss(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ss(e.j,e.m,r,null),qs(e,r)}Ms(e)&&r!=Ps&&r!=Ns&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,vs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cl(t),t.L=!0,vs(11))):(ss(e.j,e.m,n,"[Invalid Chunked Response]"),Bs(e),zs(e))}function Fs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ps:(n=Number(t.substring(n,r)),isNaN(n)?Ns:(r+=1)+n>t.length?Ps:(t=t.substr(r,n),e.C=r+n,t))}function Us(e){e.Y=Date.now()+e.P,Vs(e,e.P)}function Vs(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ys(Po(e.eb,e),t)}function js(e){e.B&&(So.clearTimeout(e.B),e.B=null)}function zs(e){0==e.l.G||e.I||dl(e.l,e)}function Bs(e){js(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zu(e.W),os(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_c(n.i,e)))if(n.I=e.N,!e.J&&_c(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fl(n),el(n)}sl(n),vs(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ys(Po(n.ab,n),6e3));if(1>=xc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else pl(n,11)}else if((e.J||n.g==e)&&fl(n),!zo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Wo(l,"spdy")||Wo(l,"quic")||Wo(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Sc(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,tc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=ml(r,r.H?r.la:null,r.W),h.J){Ic(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(js(p),Us(p)),r.g=h}else ul(r);0<n.l.length&&rl(n)}else"stop"!=a[0]&&"close"!=a[0]||pl(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?pl(n,7):Zc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}hs(4)}catch(a){}}function Ws(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Eo(e)||"string"===typeof e)Uo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Eo(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Eo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ks(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ks)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gs(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(bo=Cs.prototype).setTimeout=function(e){this.P=e},bo.gb=function(e){e=e.target;var t=this.L;t&&3==$c(e)?t.l():this.Ia(e)},bo.Ia=function(e){try{if(e==this.g)e:{var t=$c(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ru||this.g&&(this.h.h||this.g.ga()||Qc(this.g)))){this.I||4!=t||7==n||hs(8==n||0>=r?3:2),js(this);var i=this.g.ba();this.N=i;t:if(Ms(this)){var a=Qc(this.g);e="";var o=a.length,u=4==$c(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bs(this),zs(this);var s="";break t}this.h.i=new So.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zo(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,vs(12),Bs(this),zs(this);break e}ss(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qs(this,i)}this.U?(Ls(this,t,s),ru&&this.i&&3==t&&(as(this.V,this.W,"tick",this.fb),this.W.start())):(ss(this.j,this.m,s,null),qs(this,s)),4==t&&Bs(this),this.i&&!this.I&&(4==t?dl(this.l,this):(this.i=!1,Us(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,vs(12)):(this.o=0,vs(13)),Bs(this),zs(this)}}}catch(t){}},bo.fb=function(){if(this.g){var e=$c(this.g),t=this.g.ga();this.C<t.length&&(js(this),Ls(this,e,t),this.i&&4!=e&&Us(this))}},bo.cancel=function(){this.I=!0,Bs(this)},bo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(hs(3),vs(17)),Bs(this),this.o=2,zs(this)):Vs(this,this.Y-e)},(bo=Ks.prototype).R=function(){Hs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},bo.T=function(){return Hs(this),this.g.concat()},bo.get=function(e,t){return Gs(this.h,e)?this.h[e]:t},bo.set=function(e,t){Gs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},bo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var $s=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qs){this.g=void 0!==t?t:e.g,Xs(this,e.j),this.s=e.s,Js(this,e.i),Zs(this,e.m),this.l=e.l,t=e.h;var n=new fc;n.i=t.i,t.g&&(n.g=new Ks(t.g),n.h=t.h),ec(this,n),this.o=e.o}else e&&(n=String(e).match($s))?(this.g=!!t,Xs(this,n[1]||"",!0),this.s=rc(n[2]||""),Js(this,n[3]||"",!0),Zs(this,n[4]),this.l=rc(n[5]||"",!0),ec(this,n[6]||"",!0),this.o=rc(n[7]||"")):(this.g=!!t,this.h=new fc(null,this.g))}function Ys(e){return new Qs(e)}function Xs(e,t,n){e.j=n?rc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Js(e,t,n){e.i=n?rc(t,!0):t}function Zs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ec(e,t,n){t instanceof fc?(e.h=t,function(e,t){t&&!e.j&&(dc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(hc(this,t),vc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ic(t,cc)),e.h=new fc(t,e.g))}function tc(e,t,n){e.h.set(t,n)}function nc(e){return tc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ic(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ac),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ac(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Qs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ic(t,oc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ic(t,oc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ic(n,"/"==n.charAt(0)?sc:uc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ic(n,lc)),e.join("")};var oc=/[#\/\?@]/g,uc=/[#\?:]/g,sc=/[#\?]/g,cc=/[#\?@]/g,lc=/#/g;function fc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dc(e){e.g||(e.g=new Ks,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function hc(e,t){dc(e),t=mc(e,t),Gs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gs((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hs(e)))}function pc(e,t){return dc(e),t=mc(e,t),Gs(e.g.h,t)}function vc(e,t,n){hc(e,t),0<n.length&&(e.i=null,e.g.set(mc(e,t),jo(n)),e.h+=n.length)}function mc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(bo=fc.prototype).add=function(e,t){dc(this),this.i=null,e=mc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},bo.forEach=function(e,t){dc(this),this.g.forEach((function(n,r){Uo(n,(function(n){e.call(t,n,r,this)}),this)}),this)},bo.T=function(){dc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},bo.R=function(e){dc(this);var t=[];if("string"===typeof e)pc(this,e)&&(t=Vo(t,this.g.get(mc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vo(t,e[n])}return t},bo.set=function(e,t){return dc(this),this.i=null,pc(this,e=mc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},bo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},bo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var yc=hi((function e(t,n){fi(this,e),this.h=t,this.g=n}));function gc(e){this.l=e||bc,So.PerformanceNavigationTiming?e=0<(e=So.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(So.g&&So.g.Ea&&So.g.Ea()&&So.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kc,bc=10;function wc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xc(e){return e.h?1:e.g?e.g.size:0}function _c(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sc(e,t){e.g?e.g.add(t):e.h=t}function Ic(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ec(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=pi(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return jo(e.i)}function Tc(){}function Cc(){this.g=new Tc}function Rc(e,t,n){var r=n||"";try{Ws(e,(function(e,n){var i=e;To(e)&&(i=zu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ac(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Nc(e){this.l=e.$b||null,this.j=e.ib||!1}function Pc(e,t){Uu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gc.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=pi(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tc.prototype.stringify=function(e){return So.JSON.stringify(e,void 0)},Tc.prototype.parse=function(e){return So.JSON.parse(e,void 0)},Do(Nc,bs),Nc.prototype.g=function(){return new Pc(this.l,this.j)},Nc.prototype.i=(kc={},function(){return kc}),Do(Pc,Uu);var Oc=0;function Dc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Mc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Lc(e)}function Lc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(bo=Pc.prototype).open=function(e,t){if(this.readyState!=Oc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Lc(this)},bo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||So).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},bo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=Oc},bo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof So.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Dc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},bo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mc(this):Lc(this),3==this.readyState&&Dc(this)}},bo.Ua=function(e){this.g&&(this.response=this.responseText=e,Mc(this))},bo.Ta=function(e){this.g&&(this.response=e,Mc(this))},bo.ha=function(){this.g&&Mc(this)},bo.setRequestHeader=function(e,t){this.v.append(e,t)},bo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},bo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fc=So.JSON.parse;function Uc(e){Uu.call(this),this.headers=new Ks,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vc,this.K=this.L=!1}Do(Uc,Uu);var Vc="",jc=/^https?$/i,zc=["POST","PUT"];function Bc(e){return"content-type"==e.toLowerCase()}function qc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wc(e),Hc(e)}function Wc(e){e.D||(e.D=!0,Vu(e,"complete"),Vu(e,"error"))}function Kc(e){if(e.h&&"undefined"!=typeof _o&&(!e.C[1]||4!=$c(e)||2!=e.ba()))if(e.v&&4==$c(e))es(e.Fa,0,e);else if(Vu(e,"readystatechange"),4==$c(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match($s)[1]||null;if(!a&&So.self&&So.self.location){var o=So.self.location.protocol;a=o.substr(0,o.length-1)}i=!jc.test(a?a.toLowerCase():"")}t=i}if(t)Vu(e,"complete"),Vu(e,"success");else{e.m=6;try{var u=2<$c(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Wc(e)}}finally{Hc(e)}}}function Hc(e,t){if(e.g){Gc(e);var n=e.g,r=e.C[0]?Io:null;e.g=null,e.C=null,t||Vu(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Gc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(So.clearTimeout(e.A),e.A=null)}function $c(e){return e.g?e.g.readyState:0}function Qc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return $o(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):tc(e,t,n))}function Xc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jc(e){this.za=0,this.l=[],this.h=new us,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xc("baseRetryDelayMs",5e3,e),this.$a=Xc("retryDelaySeedMs",1e4,e),this.Ya=Xc("forwardChannelMaxRetries",2,e),this.ra=Xc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new gc(e&&e.concurrentRequestLimit),this.Ca=new Cc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zc(e){if(tl(e),3==e.G){var t=e.V++,n=Ys(e.F);tc(n,"SID",e.J),tc(n,"RID",t),tc(n,"TYPE","terminate"),al(e,n),(t=new Cs(e,e.h,t,void 0)).K=2,t.v=nc(Ys(n)),n=!1,So.navigator&&So.navigator.sendBeacon&&(n=So.navigator.sendBeacon(t.v.toString(),"")),!n&&So.Image&&((new Image).src=t.v,n=!0),n||(t.g=yl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Us(t)}vl(e)}function el(e){e.g&&(cl(e),e.g.cancel(),e.g=null)}function tl(e){el(e),e.u&&(So.clearTimeout(e.u),e.u=null),fl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&So.clearTimeout(e.m),e.m=null)}function nl(e,t){e.l.push(new yc(e.Za++,t)),3==e.G&&rl(e)}function rl(e){wc(e.i)||e.m||(e.m=!0,$u(e.Ha,e),e.C=0)}function il(e,t){var n;n=t?t.m:e.V++;var r=Ys(e.F);tc(r,"SID",e.J),tc(r,"RID",n),tc(r,"AID",e.U),al(e,r),e.o&&e.s&&Yc(r,e.o,e.s),n=new Cs(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ol(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Sc(e.i,n),Os(n,r,t)}function al(e,t){e.j&&Ws({},(function(e,n){tc(t,n,e)}))}function ol(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Po(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Rc(l,o,"req"+c+"_")}catch(Wl){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function ul(e){e.g||e.u||(e.Y=1,$u(e.Ga,e),e.A=0)}function sl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ys(Po(e.Ga,e),hl(e,e.A)),e.A++,!0)}function cl(e){null!=e.B&&(So.clearTimeout(e.B),e.B=null)}function ll(e){e.g=new Cs(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ys(e.oa);tc(t,"RID","rpc"),tc(t,"SID",e.J),tc(t,"CI",e.N?"0":"1"),tc(t,"AID",e.U),al(e,t),tc(t,"TYPE","xmlhttp"),e.o&&e.s&&Yc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=nc(Ys(t)),n.s=null,n.U=!0,Ds(n,e)}function fl(e){null!=e.v&&(So.clearTimeout(e.v),e.v=null)}function dl(e,t){var n=null;if(e.g==t){fl(e),cl(e),e.g=null;var r=2}else{if(!_c(e.i,t))return;n=t.D,Ic(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vu(r=fs(),new ms(r,n,t,i)),rl(e)}else ul(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ys(Po(e.Ha,e,t),hl(e,e.C)),e.C++,!0))}(e,t)||2==r&&sl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pl(e,5);break;case 4:pl(e,10);break;case 3:pl(e,6);break;default:pl(e,2)}}function hl(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function pl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Po(e.jb,e);n||(n=new Qs("//www.google.com/images/cleardot.gif"),So.location&&"http"==So.location.protocol||Xs(n,"https"),nc(n)),function(e,t){var n=new us;if(So.Image){var r=new Image;r.onload=Oo(Ac,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Oo(Ac,n,r,"TestLoadImage: error",!1,t),r.onabort=Oo(Ac,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Oo(Ac,n,r,"TestLoadImage: timeout",!1,t),So.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else vs(2);e.G=0,e.j&&e.j.va(t),vl(e),tl(e)}function vl(e){e.G=0,e.I=-1,e.j&&(0==Ec(e.i).length&&0==e.l.length||(e.i.i.length=0,jo(e.l),e.l.length=0),e.j.ua())}function ml(e,t,n){var r=function(e){return e instanceof Qs?Ys(e):new Qs(e,void 0)}(n);if(""!=r.i)t&&Js(r,t+"."+r.i),Zs(r,r.m);else{var i=So.location;r=function(e,t,n,r){var i=new Qs(null,void 0);return e&&Xs(i,e),t&&Js(i,t),n&&Zs(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&$o(e.aa,(function(e,t){tc(r,t,e)})),t=e.D,n=e.sa,t&&n&&tc(r,t,n),tc(r,"VER",e.ma),al(e,r),r}function yl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Uc(new Nc({ib:!0})):new Uc(e.qa)).L=e.H,t}function gl(){}function kl(){if(tu&&!(10<=Number(pu)))throw Error("Environmental error: no available transport.")}function bl(e,t){Uu.call(this),this.g=new Jc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _l(this)}function wl(e){Is.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xl(){Es.call(this),this.status=1}function _l(e){this.g=e}(bo=Uc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_s.g(),this.C=this.u?ws(this.u):ws(_s),this.g.onreadystatechange=Po(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void qc(this,a)}e=n||"";var i=new Ks(this.headers);r&&Ws(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Bc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=So.FormData&&e instanceof So.FormData,!(0<=Fo(zc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gc(this),0<this.B&&((this.K=function(e){return tu&&du()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Po(this.pa,this)):this.A=es(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){qc(this,a)}},bo.pa=function(){"undefined"!=typeof _o&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vu(this,"timeout"),this.abort(8))},bo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vu(this,"complete"),Vu(this,"abort"),Hc(this))},bo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hc(this,!0)),Uc.Z.M.call(this)},bo.Fa=function(){this.s||(this.F||this.v||this.l?Kc(this):this.cb())},bo.cb=function(){Kc(this)},bo.ba=function(){try{return 2<$c(this)?this.g.status:-1}catch(kc){return-1}},bo.ga=function(){try{return this.g?this.g.responseText:""}catch(kc){return""}},bo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fc(t)}},bo.Da=function(){return this.m},bo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(bo=Jc.prototype).ma=8,bo.G=1,bo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},bo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Cs(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Xo(n=Qo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ol(this,t,r),tc(i=Ys(this.F),"RID",e),tc(i,"CVER",22),this.D&&tc(i,"X-HTTP-Session-Id",this.D),al(this,i),this.o&&n&&Yc(i,this.o,n),Sc(this.i,t),this.Ra&&tc(i,"TYPE","init"),this.ja?(tc(i,"$req",r),tc(i,"SID","null"),t.$=!0,Os(t,i,null)):Os(t,i,r),this.G=2}}else 3==this.G&&(e?il(this,e):0==this.l.length||wc(this.i)||il(this))},bo.Ga=function(){if(this.u=null,ll(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ys(Po(this.bb,this),e)}},bo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vs(10),el(this),ll(this))},bo.ab=function(){null!=this.v&&(this.v=null,el(this),sl(this),vs(19))},bo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),vs(2)):(this.h.info("Failed to ping google.com"),vs(1))},(bo=gl.prototype).xa=function(){},bo.wa=function(){},bo.va=function(){},bo.ua=function(){},bo.Oa=function(){},kl.prototype.g=function(e,t){return new bl(e,t)},Do(bl,Uu),bl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$u(Po(e.hb,e,t))),vs(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ml(e,null,e.W),rl(e)},bl.prototype.close=function(){Zc(this.g)},bl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,nl(this.g,t)}else this.v?((t={}).__data__=zu(e),nl(this.g,t)):nl(this.g,e)},bl.prototype.M=function(){this.g.j=null,delete this.j,Zc(this.g),delete this.g,bl.Z.M.call(this)},Do(wl,Is),Do(xl,Es),Do(_l,gl),_l.prototype.xa=function(){Vu(this.g,"a")},_l.prototype.wa=function(e){Vu(this.g,new wl(e))},_l.prototype.va=function(e){Vu(this.g,new xl(e))},_l.prototype.ua=function(){Vu(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,bl.prototype.send=bl.prototype.u,bl.prototype.open=bl.prototype.m,bl.prototype.close=bl.prototype.close,gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,ks.COMPLETE="complete",xs.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Uu.prototype.listen=Uu.prototype.N,Uc.prototype.listenOnce=Uc.prototype.O,Uc.prototype.getLastError=Uc.prototype.La,Uc.prototype.getLastErrorCode=Uc.prototype.Da,Uc.prototype.getStatus=Uc.prototype.ba,Uc.prototype.getResponseJson=Uc.prototype.Qa,Uc.prototype.getResponseText=Uc.prototype.ga,Uc.prototype.send=Uc.prototype.ea;var Sl=xo.createWebChannelTransport=function(){return new kl},Il=xo.getStatEventTarget=function(){return fs()},El=xo.ErrorCode=gs,Tl=xo.EventType=ks,Cl=xo.Event=cs,Rl=xo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Al=xo.FetchXmlHttpFactory=Nc,Nl=xo.WebChannel=xs,Pl=xo.XhrIo=Uc,Ol="@firebase/firestore",Dl=function(){function e(t){fi(this,e),this.uid=t}return hi(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Dl.UNAUTHENTICATED=new Dl(null),Dl.GOOGLE_CREDENTIALS=new Dl("google-credentials-uid"),Dl.FIRST_PARTY=new Dl("first-party-uid"),Dl.MOCK_USER=new Dl("mock-user");var Ml="9.6.10",Ll=new xa("@firebase/firestore");function Fl(){return Ll.logLevel}function Ul(e){if(Ll.logLevel<=ha.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zl);Ll.debug.apply(Ll,["Firestore (".concat(Ml,"): ").concat(e)].concat(W(i)))}}function Vl(e){if(Ll.logLevel<=ha.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zl);Ll.error.apply(Ll,["Firestore (".concat(Ml,"): ").concat(e)].concat(W(i)))}}function jl(e){if(Ll.logLevel<=ha.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zl);Ll.warn.apply(Ll,["Firestore (".concat(Ml,"): ").concat(e)].concat(W(i)))}}function zl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ml,") INTERNAL ASSERTION FAILED: ")+e;throw Vl(t),new Error(t)}function ql(e,t){e||Bl()}function Wl(e,t){return e}var Kl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hl=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return hi(n)}(zi),Gl=hi((function e(){var t=this;fi(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$l=hi((function e(t,n){fi(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ql=function(){function e(){fi(this,e)}return hi(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yl=function(){function e(t){fi(this,e),this.token=t,this.changeListener=null}return hi(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Xl=function(){function e(t){fi(this,e),this.t=t,this.currentUser=Dl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return hi(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Gl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Gl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ul("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ul("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ul("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ql("string"==typeof n.accessToken),new $l(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ql(null===e||"string"==typeof e),new Dl(e)}}]),e}(),Jl=hi((function e(t,n,r){fi(this,e),this.type="FirstParty",this.user=Dl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Zl=function(){function e(t,n,r){fi(this,e),this.h=t,this.l=n,this.m=r}return hi(e,[{key:"getToken",value:function(){return Promise.resolve(new Jl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Dl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ef=hi((function e(t){fi(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),tf=function(){function e(t){fi(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return hi(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ul("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ul("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ul("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ul("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ql("string"==typeof t.token),e.p=t.token,new ef(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),nf=function(){function e(t,n){var r=this;fi(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return hi(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function rf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}nf.A=-1;var af=function(){function e(){fi(this,e)}return hi(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function of(e,t){return e<t?-1:e>t?1:0}function uf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function sf(e){return e+"\0"}var cf=function(){function e(t,n){if(fi(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hl(Kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hl(Kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hl(Kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hl(Kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return hi(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?of(this.nanoseconds,e.nanoseconds):of(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),lf=function(){function e(t){fi(this,e),this.timestamp=t}return hi(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new cf(0,0))}},{key:"max",value:function(){return new e(new cf(253402300799,999999999))}}]),e}();function ff(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function df(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var pf=function(){function e(t,n,r){fi(this,e),void 0===n?n=0:n>t.length&&Bl(),void 0===r?r=t.length-n:r>t.length-n&&Bl(),this.segments=t,this.offset=n,this.len=r}return hi(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),vf=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,W(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pf),mf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yf=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return mf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Hl(Kl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hl(Kl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Hl(Kl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(pf),gf=function(){function e(t){fi(this,e),this.fields=t,t.sort(yf.comparator)}return hi(e,[{key:"covers",value:function(e){var t,n=pi(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return uf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var kf=function(e){function t(e){fi(this,t),this.binaryString=e}return hi(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return of(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();kf.EMPTY_BYTE_STRING=new kf("");var bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(e){if(ql(!!e),"string"==typeof e){var t=0,n=bf.exec(e);if(ql(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xf(e.seconds),nanos:xf(e.nanos)}}function xf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _f(e){return"string"==typeof e?kf.fromBase64String(e):kf.fromUint8Array(e)}function Sf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function If(e){var t=e.mapValue.fields.__previous_value__;return Sf(t)?If(t):t}function Ef(e){var t=wf(e.mapValue.fields.__local_write_time__.timestampValue);return new cf(t.seconds,t.nanos)}var Tf=hi((function e(t,n,r,i,a,o,u,s){fi(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Cf=function(){function e(t,n){fi(this,e),this.projectId=t,this.database=n||"(default)"}return hi(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Rf(e){return null==e}function Af(e){return 0===e&&1/e==-1/0}function Nf(e){return"number"==typeof e&&Number.isInteger(e)&&!Af(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Pf=function(){function e(t){fi(this,e),this.path=t}return hi(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===vf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(vf.fromString(t))}},{key:"fromName",value:function(t){return new e(vf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(vf.emptyPath())}},{key:"comparator",value:function(e,t){return vf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new vf(t.slice()))}}]),e}(),Of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Df={nullValue:"NULL_VALUE"};function Mf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Sf(e)?4:Qf(e)?9:10:Bl()}function Lf(e,t){if(e===t)return!0;var n=Mf(e);if(n!==Mf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ef(e).isEqual(Ef(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wf(e.timestampValue),r=wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _f(e.bytesValue).isEqual(_f(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xf(e.geoPointValue.latitude)===xf(t.geoPointValue.latitude)&&xf(e.geoPointValue.longitude)===xf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xf(e.integerValue)===xf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xf(e.doubleValue),r=xf(t.doubleValue);return n===r?Af(n)===Af(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return uf(e.arrayValue.values||[],t.arrayValue.values||[],Lf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ff(n)!==ff(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lf(n[i],r[i])))return!1;return!0}(e,t);default:return Bl()}}function Ff(e,t){return void 0!==(e.values||[]).find((function(e){return Lf(e,t)}))}function Uf(e,t){if(e===t)return 0;var n=Mf(e),r=Mf(t);if(n!==r)return of(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return of(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xf(e.integerValue||e.doubleValue),r=xf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vf(e.timestampValue,t.timestampValue);case 4:return Vf(Ef(e),Ef(t));case 5:return of(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_f(e),r=_f(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=of(n[i],r[i]);if(0!==a)return a}return of(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=of(xf(e.latitude),xf(t.latitude));return 0!==n?n:of(xf(e.longitude),xf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Uf(n[i],r[i]);if(a)return a}return of(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=of(r[o],a[o]);if(0!==u)return u;var s=Uf(n[r[o]],i[a[o]]);if(0!==s)return s}return of(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Bl()}}function Vf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return of(e,t);var n=wf(e),r=wf(t),i=of(n.seconds,r.seconds);return 0!==i?i:of(n.nanos,r.nanos)}function jf(e){return zf(e)}function zf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_f(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=pi(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=pi(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Bl();var t,n}function Bf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function qf(e){return!!e&&"integerValue"in e}function Wf(e){return!!e&&"arrayValue"in e}function Kf(e){return!!e&&"nullValue"in e}function Hf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gf(e){return!!e&&"mapValue"in e}function $f(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return df(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=$f(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$f(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yf(e,t){return void 0===e?t:void 0===t||Uf(e,t)>0?e:t}function Xf(e,t){return void 0===e?t:void 0===t||Uf(e,t)<0?e:t}var Jf=function(){function e(t){fi(this,e),this.value=t}return hi(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Gf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$f(t)}},{key:"setAll",value:function(e){var t=this,n=yf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=$f(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Lf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Gf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){df(t,(function(t,n){return e[t]=n}));var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e($f(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Zf(e){var t=[];return df(e.fields,(function(e,n){var r=new yf([e]);if(Gf(n)){var i=Zf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=pi(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new gf(t)}var ed=function(){function e(t,n,r,i,a,o){fi(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return hi(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Jf.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Jf.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,lf.min(),lf.min(),Jf.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,lf.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,lf.min(),Jf.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,lf.min(),Jf.empty(),2)}}]),e}(),td=hi((function e(t,n,r,i){fi(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function nd(e){return e.fields.find((function(e){return 2===e.kind}))}function rd(e){return e.fields.filter((function(e){return 2!==e.kind}))}td.UNKNOWN_ID=-1;var id=hi((function e(t,n){fi(this,e),this.fieldPath=t,this.kind=n})),ad=function(){function e(t,n){fi(this,e),this.sequenceNumber=t,this.offset=n}return hi(e,null,[{key:"empty",value:function(){return new e(0,sd.min())}}]),e}();function od(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=lf.fromTimestamp(1e9===r?new cf(n+1,0):new cf(n,r));return new sd(i,Pf.empty(),t)}function ud(e){return new sd(e.readTime,e.key,-1)}var sd=function(){function e(t,n,r){fi(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return hi(e,null,[{key:"min",value:function(){return new e(lf.min(),Pf.empty(),-1)}},{key:"max",value:function(){return new e(lf.max(),Pf.empty(),-1)}}]),e}();function cd(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Pf.comparator(e.documentKey,t.documentKey))?n:of(e.largestBatchId,t.largestBatchId)}var ld=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;fi(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ld(e,t,n,r,i,a,o)}function dd(e){var t=Wl(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+jf(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Rf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jf(e)})).join(",")),t.P=n}return t.P}function hd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Td(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Lf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Rd(e.startAt,t.startAt)&&Rd(e.endAt,t.endAt)}function pd(e){return Pf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function vd(e,t){return e.filters.filter((function(e){return e instanceof md&&e.field.isEqual(t)}))}var md=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Uf(t,this.value)):null!==t&&Mf(this.value)===Mf(t)&&this.v(Uf(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bl()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new yd(e,t,r):"array-contains"===t?new wd(e,r):"in"===t?new xd(e,r):"not-in"===t?new _d(e,r):"array-contains-any"===t?new Sd(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new gd(e,n):new kd(e,n)}}]),n}(function(){return hi((function e(){fi(this,e)}))}()),yd=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this,e,r,i)).key=Pf.fromName(i.referenceValue),a}return hi(n,[{key:"matches",value:function(e){var t=Pf.comparator(e.key,this.key);return this.v(t)}}]),n}(md),gd=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,"in",r)).keys=bd("in",r),i}return hi(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(md),kd=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,"not-in",r)).keys=bd("not-in",r),i}return hi(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(md);function bd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Pf.fromName(e.referenceValue)}))}var wd=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"array-contains",r)}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wf(t)&&Ff(t.arrayValue,this.value)}}]),n}(md),xd=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"in",r)}return hi(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ff(this.value.arrayValue,t)}}]),n}(md),_d=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"not-in",r)}return hi(n,[{key:"matches",value:function(e){if(Ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ff(this.value.arrayValue,t)}}]),n}(md),Sd=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"array-contains-any",r)}return hi(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ff(t.value.arrayValue,e)}))}}]),n}(md),Id=hi((function e(t,n){fi(this,e),this.position=t,this.inclusive=n})),Ed=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";fi(this,e),this.field=t,this.dir=n}));function Td(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Cd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Pf.comparator(Pf.fromName(o.referenceValue),n.key):Uf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Rd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Lf(e.position[n],t.position[n]))return!1;return!0}var Ad=hi((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;fi(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Nd(e,t,n,r,i,a,o,u){return new Ad(e,t,n,r,i,a,o,u)}function Pd(e){return new Ad(e)}function Od(e){return!Rf(e.limit)&&"F"===e.limitType}function Dd(e){return!Rf(e.limit)&&"L"===e.limitType}function Md(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ld(e){var t,n=pi(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Fd(e){return null!==e.collectionGroup}function Ud(e){var t=Wl(e);if(null===t.D){t.D=[];var n=Ld(t),r=Md(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ed(n)),t.D.push(new Ed(yf.keyField(),"asc"));else{var i,a=!1,o=pi(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ed(yf.keyField(),s))}}}return t.D}function Vd(e){var t=Wl(e);if(!t.C)if("F"===t.limitType)t.C=fd(t.path,t.collectionGroup,Ud(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=pi(Ud(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ed(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Id(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Id(t.startAt.position,!t.startAt.inclusive):null;t.C=fd(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function jd(e,t,n){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zd(e,t){return hd(Vd(e),Vd(t))&&e.limitType===t.limitType}function Bd(e){return"".concat(dd(Vd(e)),"|lt:").concat(e.limitType)}function qd(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(jf(t.value));var t})).join(", "),"]")),Rf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jf(e)})).join(",")),"Target(".concat(t,")")}(Vd(e)),"; limitType=").concat(e.limitType,")")}function Wd(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=pi(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=pi(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Cd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ud(e),t))&&!(e.endAt&&!function(e,t,n){var r=Cd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ud(e),t))}(e,t)}function Kd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hd(e){return function(t,n){var r,i=!1,a=pi(Ud(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Gd(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Gd(e,t,n){var r=e.field.isKeyField()?Pf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Uf(r,i):Bl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bl()}}function $d(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(t)?"-0":t}}function Qd(e){return{integerValue:""+e}}function Yd(e,t){return Nf(t)?Qd(t):$d(e,t)}var Xd=hi((function e(){fi(this,e),this._=void 0}));function Jd(e,t,n){return e instanceof th?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nh?rh(e,t):e instanceof ih?ah(e,t):function(e,t){var n=eh(e,t),r=uh(n)+uh(e.k);return qf(n)&&qf(e.k)?Qd(r):$d(e.M,r)}(e,t)}function Zd(e,t,n){return e instanceof nh?rh(e,t):e instanceof ih?ah(e,t):n}function eh(e,t){return e instanceof oh?qf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var th=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n)}(Xd),nh=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).elements=e,r}return hi(n)}(Xd);function rh(e,t){var n,r=sh(t),i=pi(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Lf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ih=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).elements=e,r}return hi(n)}(Xd);function ah(e,t){var n,r=sh(t),i=pi(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Lf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var oh=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).M=e,i.k=r,i}return hi(n)}(Xd);function uh(e){return xf(e.integerValue||e.doubleValue)}function sh(e){return Wf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ch=hi((function e(t,n){fi(this,e),this.field=t,this.transform=n}));var lh=hi((function e(t,n){fi(this,e),this.version=t,this.transformResults=n})),fh=function(){function e(t,n){fi(this,e),this.updateTime=t,this.exists=n}return hi(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function dh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var hh=hi((function e(){fi(this,e)}));function ph(e,t,n){e instanceof kh?function(e,t,n){var r=e.value.clone(),i=xh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bh?function(e,t,n){if(dh(e.precondition,t)){var r=xh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vh(e,t,n){e instanceof kh?function(e,t,n){if(dh(e.precondition,t)){var r=e.value.clone(),i=_h(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gh(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bh?function(e,t,n){if(dh(e.precondition,t)){var r=_h(e.fieldTransforms,n,t),i=t.data;i.setAll(wh(e)),i.setAll(r),t.convertToFoundDocument(gh(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){dh(e.precondition,t)&&t.convertToNoDocument(lf.min())}(e,t)}function mh(e,t){var n,r=null,i=pi(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=eh(a.transform,o||null);null!=u&&(null==r&&(r=Jf.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function yh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&uf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nh&&t instanceof nh||e instanceof ih&&t instanceof ih?uf(e.elements,t.elements,Lf):e instanceof oh&&t instanceof oh?Lf(e.k,t.k):e instanceof th&&t instanceof th}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gh(e){return e.isFoundDocument()?e.version:lf.min()}var kh=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return fi(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return hi(n)}(hh),bh=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return fi(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return hi(n)}(hh);function wh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xh(e,t,n){var r=new Map;ql(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Zd(o,u,n[i]))}return r}function _h(e,t,n){var r,i=new Map,a=pi(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Jd(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Sh,Ih,Eh=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return hi(n)}(hh),Th=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return hi(n)}(hh),Ch=hi((function e(t){fi(this,e),this.count=t}));function Rh(e){switch(e){default:return Bl();case Kl.CANCELLED:case Kl.UNKNOWN:case Kl.DEADLINE_EXCEEDED:case Kl.RESOURCE_EXHAUSTED:case Kl.INTERNAL:case Kl.UNAVAILABLE:case Kl.UNAUTHENTICATED:return!1;case Kl.INVALID_ARGUMENT:case Kl.NOT_FOUND:case Kl.ALREADY_EXISTS:case Kl.PERMISSION_DENIED:case Kl.FAILED_PRECONDITION:case Kl.ABORTED:case Kl.OUT_OF_RANGE:case Kl.UNIMPLEMENTED:case Kl.DATA_LOSS:return!0}}function Ah(e){if(void 0===e)return Vl("GRPC error has no .code"),Kl.UNKNOWN;switch(e){case Sh.OK:return Kl.OK;case Sh.CANCELLED:return Kl.CANCELLED;case Sh.UNKNOWN:return Kl.UNKNOWN;case Sh.DEADLINE_EXCEEDED:return Kl.DEADLINE_EXCEEDED;case Sh.RESOURCE_EXHAUSTED:return Kl.RESOURCE_EXHAUSTED;case Sh.INTERNAL:return Kl.INTERNAL;case Sh.UNAVAILABLE:return Kl.UNAVAILABLE;case Sh.UNAUTHENTICATED:return Kl.UNAUTHENTICATED;case Sh.INVALID_ARGUMENT:return Kl.INVALID_ARGUMENT;case Sh.NOT_FOUND:return Kl.NOT_FOUND;case Sh.ALREADY_EXISTS:return Kl.ALREADY_EXISTS;case Sh.PERMISSION_DENIED:return Kl.PERMISSION_DENIED;case Sh.FAILED_PRECONDITION:return Kl.FAILED_PRECONDITION;case Sh.ABORTED:return Kl.ABORTED;case Sh.OUT_OF_RANGE:return Kl.OUT_OF_RANGE;case Sh.UNIMPLEMENTED:return Kl.UNIMPLEMENTED;case Sh.DATA_LOSS:return Kl.DATA_LOSS;default:return Bl()}}(Ih=Sh||(Sh={}))[Ih.OK=0]="OK",Ih[Ih.CANCELLED=1]="CANCELLED",Ih[Ih.UNKNOWN=2]="UNKNOWN",Ih[Ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ih[Ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ih[Ih.NOT_FOUND=5]="NOT_FOUND",Ih[Ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ih[Ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ih[Ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ih[Ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ih[Ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ih[Ih.ABORTED=10]="ABORTED",Ih[Ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ih[Ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ih[Ih.INTERNAL=13]="INTERNAL",Ih[Ih.UNAVAILABLE=14]="UNAVAILABLE",Ih[Ih.DATA_LOSS=15]="DATA_LOSS";var Nh=function(){function e(t,n){fi(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return hi(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){df(this.inner,(function(t,n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hf(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ph=function(){function e(t,n){fi(this,e),this.comparator=t,this.root=n||Dh.EMPTY}return hi(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Dh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Oh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Oh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Oh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Oh(this.root,e,this.comparator,!0)}}]),e}(),Oh=function(){function e(t,n,r,i){fi(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return hi(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Dh=function(){function e(t,n,r,i,a){fi(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return hi(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Bl();if(this.right.isRed())throw Bl();var e=this.left.check();if(e!==this.right.check())throw Bl();return e+(this.isRed()?0:1)}}]),e}();Dh.EMPTY=null,Dh.RED=!0,Dh.BLACK=!1,Dh.EMPTY=new(function(){function e(){fi(this,e),this.size=0}return hi(e,[{key:"key",get:function(){throw Bl()}},{key:"value",get:function(){throw Bl()}},{key:"color",get:function(){throw Bl()}},{key:"left",get:function(){throw Bl()}},{key:"right",get:function(){throw Bl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Dh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Mh=function(){function e(t){fi(this,e),this.comparator=t,this.data=new Ph(this.comparator)}return hi(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Lh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Lh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Lh=function(){function e(t){fi(this,e),this.iter=t}return hi(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fh(e){return e.hasNext()?e.getNext():void 0}var Uh=new Ph(Pf.comparator);function Vh(){return Uh}var jh=new Ph(Pf.comparator);function zh(){return jh}function Bh(){return new Nh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qh=new Ph(Pf.comparator),Wh=new Mh(Pf.comparator);function Kh(){for(var e=Wh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Hh=new Mh(of);function Gh(){return Hh}var $h=function(){function e(t,n,r,i,a){fi(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return hi(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(lf.min(),r,Gh(),Vh(),Kh())}}]),e}(),Qh=function(){function e(t,n,r,i,a){fi(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return hi(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(kf.EMPTY_BYTE_STRING,n,Kh(),Kh(),Kh())}}]),e}(),Yh=hi((function e(t,n,r,i){fi(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Xh=hi((function e(t,n){fi(this,e),this.targetId=t,this.$=n})),Jh=hi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fi(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Zh=function(){function e(){fi(this,e),this.B=0,this.L=np(),this.U=kf.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return hi(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=Kh(),t=Kh(),n=Kh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bl()}})),new Qh(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=np()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),ep=function(){function e(t){fi(this,e),this.nt=t,this.st=new Map,this.it=Vh(),this.rt=tp(),this.ot=new Mh(of)}return hi(e,[{key:"ut",value:function(e){var t,n=pi(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=pi(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Bl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(pd(i))if(0===n){var a=new Pf(i.path);this.ct(t,a,ed.newNoDocument(a,lf.min()))}else ql(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&pd(a.target)){var o=new Pf(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ed.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Kh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new $h(e,n,this.ot,this.it,r);return this.it=Vh(),this.rt=tp(),this.ot=new Mh(of),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Zh,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Mh(of),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ul("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Zh),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function tp(){return new Ph(Pf.comparator)}function np(){return new Ph(Pf.comparator)}var rp={asc:"ASCENDING",desc:"DESCENDING"},ip={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ap=hi((function e(t,n){fi(this,e),this.databaseId=t,this.N=n}));function op(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function up(e,t){return e.N?t.toBase64():t.toUint8Array()}function sp(e,t){return op(e,t.toTimestamp())}function cp(e){return ql(!!e),lf.fromTimestamp(function(e){var t=wf(e);return new cf(t.seconds,t.nanos)}(e))}function lp(e,t){return function(e){return new vf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fp(e){var t=vf.fromString(e);return ql(Dp(t)),t}function dp(e,t){return lp(e.databaseId,t.path)}function hp(e,t){var n=fp(t);if(n.get(1)!==e.databaseId.projectId)throw new Hl(Kl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hl(Kl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pf(yp(n))}function pp(e,t){return lp(e.databaseId,t)}function vp(e){var t=fp(e);return 4===t.length?vf.emptyPath():yp(t)}function mp(e){return new vf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yp(e){return ql(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gp(e,t,n){return{name:dp(e,t),fields:n.value.mapValue.fields}}function kp(e,t,n){var r=hp(e,t.name),i=cp(t.updateTime),a=new Jf({mapValue:{fields:t.fields}}),o=ed.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function bp(e,t){return"found"in t?function(e,t){ql(!!t.found),t.found.name,t.found.updateTime;var n=hp(e,t.found.name),r=cp(t.found.updateTime),i=new Jf({mapValue:{fields:t.found.fields}});return ed.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ql(!!t.missing),ql(!!t.readTime);var n=hp(e,t.missing),r=cp(t.readTime);return ed.newNoDocument(n,r)}(e,t):Bl()}function wp(e,t){var n;if(t instanceof kh)n={update:gp(e,t.key,t.value)};else if(t instanceof Eh)n={delete:dp(e,t.key)};else if(t instanceof bh)n={update:gp(e,t.key,t.data),updateMask:Op(t.fieldMask)};else{if(!(t instanceof Th))return Bl();n={verify:dp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof th)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ih)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Bl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bl()}(e,t.precondition)),n}function xp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?fh.updateTime(cp(e.updateTime)):void 0!==e.exists?fh.exists(e.exists):fh.none()}(t.currentDocument):fh.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ql("REQUEST_TIME"===t.setToServerValue),n=new th;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new nh(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ih(i)}else"increment"in t?n=new oh(e,t.increment):Bl();var a=yf.fromServerFormat(t.fieldPath);return new ch(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=hp(e,t.update.name),a=new Jf({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new gf(t.map((function(e){return yf.fromServerFormat(e)})))}(t.updateMask);return new bh(i,a,o,n,r)}return new kh(i,a,n,r)}if(t.delete){var u=hp(e,t.delete);return new Eh(u,n)}if(t.verify){var s=hp(e,t.verify);return new Th(s,n)}return Bl()}function _p(e,t){return{documents:[pp(e,t.path)]}}function Sp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=pp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=pp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Hf(e.value))return{unaryFilter:{field:Rp(e.field),op:"IS_NAN"}};if(Kf(e.value))return{unaryFilter:{field:Rp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hf(e.value))return{unaryFilter:{field:Rp(e.field),op:"IS_NOT_NAN"}};if(Kf(e.value))return{unaryFilter:{field:Rp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rp(e.field),op:Cp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Rp(e.field),direction:Tp(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Rf(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ip(e){var t=vp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ql(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ep(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ed(Ap(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Rf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Id(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Id(n,t)}(n.endAt)),Nd(t,i,u,o,s,"F",c,l)}function Ep(e){return e?void 0!==e.unaryFilter?[Pp(e)]:void 0!==e.fieldFilter?[Np(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ep(e)})).reduce((function(e,t){return e.concat(t)})):Bl():[]}function Tp(e){return rp[e]}function Cp(e){return ip[e]}function Rp(e){return{fieldPath:e.canonicalString()}}function Ap(e){return yf.fromServerFormat(e.fieldPath)}function Np(e){return md.create(Ap(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bl()}}(e.fieldFilter.op),e.fieldFilter.value)}function Pp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ap(e.unaryFilter.field);return md.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ap(e.unaryFilter.field);return md.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ap(e.unaryFilter.field);return md.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ap(e.unaryFilter.field);return md.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bl()}}function Op(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Dp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Mp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fp(t)),t=Lp(e.get(n),t);return Fp(t)}function Lp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Fp(e){return e+"\x01\x01"}function Up(e){var t=e.length;if(ql(t>=2),2===t)return ql("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),vf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Bl(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Bl()}a=o+2}return new vf(r)}var Vp=["userId","batchId"];function jp(e,t){return[e,Mp(t)]}function zp(e,t,n){return[e,Mp(t),n]}var Bp={},qp=["prefixPath","collectionGroup","readTime","documentId"],Wp=["prefixPath","collectionGroup","documentId"],Kp=["collectionGroup","readTime","prefixPath","documentId"],Hp=["canonicalId","targetId"],Gp=["targetId","path"],$p=["path","targetId"],Qp=["collectionId","parent"],Yp=["indexId","uid"],Xp=["uid","sequenceNumber"],Jp=["indexId","uid","arrayValue","directionalValue","documentKey"],Zp=["indexId","uid","documentKey"],ev=["userId","collectionPath","documentId"],tv=["userId","collectionPath","largestBatchId"],nv=["userId","collectionGroup","largestBatchId"],rv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),iv=[].concat(W(rv),["documentOverlays"]),av=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ov=[].concat(av,["indexConfiguration","indexState","indexEntries"]),uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sv=function(){function e(){fi(this,e),this.onCommittedListeners=[]}return hi(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),cv=function(){function e(t){var n=this;fi(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return hi(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Bl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=pi(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),lv=function(){function e(t,n){var r=this;fi(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Gl,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new hv(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=gv(e.target.error);r.At.reject(new hv(t,n))}}return hi(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ul("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hv(n,t)}}}]),e}(),fv=function(){function e(t,n,r){fi(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Di())&&Vl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return hi(e,[{key:"Nt",value:function(){var e=ua(Ei().mark((function e(t){var n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ul("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new hv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hl(Kl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Hl(Kl.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new hv(t,n))},i.onupgradeneeded=function(e){Ul("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ul("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ei().mark((function e(){var n,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=lv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),cv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ul("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ul("SimpleDb","Removing database:",e),mv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!ji())return!1;if(e.St())return!0;var t=Di(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),dv=function(){function e(t){fi(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return hi(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return mv(this.Ft.delete())}}]),e}(),hv=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,Kl.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return hi(n)}(Hl);function pv(e){return"IndexedDbTransactionError"===e.name}var vv=function(){function e(t){fi(this,e),this.store=t}return hi(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ul("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ul("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mv(n)}},{key:"add",value:function(e){return Ul("SimpleDb","ADD",this.store.name,e,e),mv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return mv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ul("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ul("SimpleDb","DELETE",this.store.name,e),mv(this.store.delete(e))}},{key:"count",value:function(){return Ul("SimpleDb","COUNT",this.store.name),mv(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new cv((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new cv((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ul("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new cv((function(n,r){t.onerror=function(e){var t=gv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new cv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new dv(i),o=t(i.primaryKey,i.value,a);if(o instanceof cv){var u=o.catch((function(e){return a.done(),cv.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return cv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function mv(e){return new cv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gv(e.target.error);n(t)}}))}var yv=!1;function gv(e){var t=fv.Vt(Di());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yv||(yv=!0,setTimeout((function(){throw r}),0)),r}}return e}var kv=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return hi(n)}(sv);function bv(e,t){var n=Wl(e);return fv.xt(n.Ht,t)}var wv=function(){function e(t,n,r,i){fi(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return hi(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ph(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=pi(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&vh(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=pi(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&vh(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(lf.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Kh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&uf(this.mutations,e.mutations,(function(e,t){return yh(e,t)}))&&uf(this.baseMutations,e.baseMutations,(function(e,t){return yh(e,t)}))}}]),e}(),xv=function(){function e(t,n,r,i){fi(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return hi(e,null,[{key:"from",value:function(t,n,r){ql(t.mutations.length===r.length);for(var i=qh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_v=function(){function e(t,n){fi(this,e),this.largestBatchId=t,this.mutation=n}return hi(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Sv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:lf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:lf.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kf.EMPTY_BYTE_STRING;fi(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return hi(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Iv=hi((function e(t){fi(this,e),this.Jt=t}));function Ev(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:op(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cv(t.version)};else{if(!t.isUnknownDocument())return Bl();r.unknownDocument={path:n.path.toArray(),version:Cv(t.version)}}return r}function Tv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cv(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Rv(e){var t=new cf(e.seconds,e.nanoseconds);return lf.fromTimestamp(t)}function Av(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xp(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return xp(e.Jt,t)})),u=cf.fromMillis(t.localWriteTimeMs);return new wv(t.batchId,u,n,o)}function Nv(e){var t,n,r=Rv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Rv(e.lastLimboFreeSnapshotVersion):lf.min();return void 0!==e.query.documents?(ql(1===(n=e.query).documents.length),t=Vd(Pd(vp(n.documents[0])))):t=function(e){return Vd(Ip(e))}(e.query),new Sv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,kf.fromBase64String(e.resumeToken))}function Pv(e,t){var n,r=Cv(t.snapshotVersion),i=Cv(t.lastLimboFreeSnapshotVersion);n=pd(t.target)?_p(e.Jt,t.target):Sp(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:dd(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ov(e){var t=Ip({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jd(t,t.limit,"L"):t}function Dv(e,t){return new _v(t.largestBatchId,xp(e.Jt,t.overlayMutation))}function Mv(e,t){var n=t.path.lastSegment();return[e,Mp(t.path.popLast()),n]}var Lv=function(){function e(){fi(this,e)}return hi(e,[{key:"getBundleMetadata",value:function(e,t){return Fv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Rv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Fv(e).put({bundleId:(n=t).id,createTime:Cv(cp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Uv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ov(t.bundledQuery),readTime:Rv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Uv(e).put(function(e){return{name:e.name,readTime:Cv(cp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fv(e){return bv(e,"bundles")}function Uv(e){return bv(e,"namedQueries")}var Vv=function(){function e(t,n){fi(this,e),this.M=t,this.userId=n}return hi(e,[{key:"getOverlay",value:function(e,t){var n=this;return jv(e).get(Mv(this.userId,t)).next((function(e){return e?Dv(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _v(t,a);i.push(r.Xt(e,o))})),cv.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Mp(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(jv(e).Qt("collectionPathOverlayIndex",i))})),cv.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Bh(),a=Mp(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return jv(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Dv(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Bh(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jv(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Dv(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return jv(e).put(function(e,t,n){var r=c(Mv(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:wp(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function jv(e){return bv(e,"documentOverlays")}var zv=function(){function e(){fi(this,e)}return hi(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(xf(e.integerValue));else if("doubleValue"in e){var n=xf(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Af(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_f(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Qf(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Bl()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Pf.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Bv(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qv(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zv.fe=new zv;var Wv=function(){function e(){fi(this,e),this.buffer=new Uint8Array(1024),this.position=0}return hi(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=qv(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=qv(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Kv=function(){function e(t){fi(this,e),this.De=t}return hi(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Hv=function(){function e(t){fi(this,e),this.De=t}return hi(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Gv=function(){function e(){fi(this,e),this.De=new Wv,this.Ce=new Kv(this.De),this.xe=new Hv(this.De)}return hi(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),$v=function(){function e(t,n,r,i){fi(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return hi(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Qv(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yv(e.arrayValue,t.arrayValue))?n:0!==(n=Yv(e.directionalValue,t.directionalValue))?n:Pf.comparator(e.documentKey,t.documentKey)}function Yv(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xv=function(){function e(t){fi(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=pi(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return hi(e,[{key:"$e",value:function(e){var t=nd(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=rd(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=pi(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Jv=function(){function e(){fi(this,e),this.qe=new Zv}return hi(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),cv.resolve()}},{key:"getCollectionParents",value:function(e,t){return cv.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return cv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return cv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return cv.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return cv.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return cv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return cv.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return cv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return cv.resolve()}}]),e}(),Zv=function(){function e(){fi(this,e),this.index={}}return hi(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mh(vf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Mh(vf.comparator)).toArray()}}]),e}(),em=new Uint8Array(0),tm=function(){function e(t){fi(this,e),this.user=t,this.Ge=new Zv,this.Ke=new Nh((function(e){return dd(e)}),(function(e,t){return hd(e,t)})),this.uid=t.uid||""}return hi(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Mp(i)};return nm(e).put(a)}return cv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[sf(t),""],!1,!0);return nm(e).qt(r).next((function(e){var r,i=pi(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Up(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=im(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=im(e),r=am(e),i=rm(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=rm(e),i=!0,a=new Map;return cv.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Kh();return cv.forEach(a,(function(i,a){var o;Ul("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(dd(t)));var u=function(e,t){var n=nd(t);if(void 0===n)return null;var r,i=pi(vd(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=pi(rd(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=pi(vd(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=pi(rd(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=pi(vd(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case"<":case"<=":h="nullValue"in(r=d.value)?Df:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Bf(Cf.empty(),Pf.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:Bl();break;case"==":case"in":case">=":h=d.value;break;case">":h=d.value,p=!1;break;case"!=":case"not-in":h=Df}Yf(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Yf(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Id(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=pi(rd(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=pi(vd(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var d=u.value,h=void 0,p=!0;switch(d.op){case">=":case">":h="nullValue"in(r=d.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Bf(Cf.empty(),Pf.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Of:Bl(),p=!1;break;case"==":case"in":case"<=":h=d.value;break;case"<":h=d.value,p=!1;break;case"!=":case"not-in":h=Of}Xf(c,h)===h&&(c=h,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Xf(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Id(i,a)}(a,i),f=n.je(i,a,c),d=n.je(i,a,l),h=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,d,!!l&&l.inclusive,h);return cv.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new Pf(Up(t.documentKey)))}))}))}))})).next((function(){return e}))}return cv.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):em,d=n?u.Je(e,f,n[s%c],r):u.Ye(e),h=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,W(u.createRange(d,h,o.map((function(t){return u.Je(e,f,t,!0)})))))},d=0;d<s;++d)f(d);return l}},{key:"Je",value:function(e,t,n,r){var i=new $v(e,Pf.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new $v(e,Pf.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new $v(e,Pf.empty(),em,em)}},{key:"getFieldIndex",value:function(e,t){var n=new Xv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Gv,i=pi(rd(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);zv.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Gv;return zv.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Gv);var i,a=0,o=pi(rd(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=pi(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&Wf(c))r=this.en(r,s,c);else{var d=f.Ne(s.kind);zv.fe.Zt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=W(e),a=[],o=pi(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=pi(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Gv;f.seed(l.Se()),zv.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof md&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=im(e),i=am(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return cv.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new ad(t.sequenceNumber,new sd(Rv(t.readTime),new Pf(Up(t.documentKey)),t.largestBatchId)):ad.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new id(yf.fromServerFormat(n),r)}));return new td(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:of(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=im(e),a=am(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return cv.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cv(r.readTime),documentKey:Mp(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return cv.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?cv.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),cv.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?cv.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return rm(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Mp(t.key.path)})}},{key:"cn",value:function(e,t,n){return rm(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Mp(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=rm(e),i=new Mh(Qv);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Mp(t.path)])},(function(e,r){i=i.add(new $v(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Mh(Qv),r=this.Ze(t,e);if(null==r)return n;var i=nd(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wf(a)){var o,u=pi(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new $v(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new $v(t.indexId,e.key,em,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Ul("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fh(a),s=Fh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fh(o)):l?(i(u),u=Fh(a)):(u=Fh(a),s=Fh(o))}}(n,r,Qv,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),cv.waitFor(a)}},{key:"sn",value:function(e){var t=1;return am(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Qv(e,t)})).filter((function(e,t,n){return!t||0!==Qv(e,n[t-1])}));var r=[];r.push(e);var i,a=pi(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Qv(o,e),s=Qv(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function nm(e){return bv(e,"collectionParents")}function rm(e){return bv(e,"indexEntries")}function im(e){return bv(e,"indexConfiguration")}function am(e){return bv(e,"indexState")}var om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},um=function(){function e(t,n,r){fi(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return hi(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function sm(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ql(1===u)})));var c,l=[],f=pi(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=zp(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return cv.waitFor(a).next((function(){return l}))}function cm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Bl();t=e.noDocument}return JSON.stringify(t).length}um.DEFAULT_COLLECTION_PERCENTILE=10,um.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,um.DEFAULT=new um(41943040,um.DEFAULT_COLLECTION_PERCENTILE,um.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),um.DISABLED=new um(-1,0,0);var lm=function(){function e(t,n,r,i){fi(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return hi(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dm(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=hm(e),o=dm(e);return o.add({}).next((function(u){ql("number"==typeof u);var s,c=new wv(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return wp(e.Jt,t)})),i=n.mutations.map((function(t){return wp(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],d=new Mh((function(e,t){return of(e.canonicalString(),t.canonicalString())})),h=pi(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=zp(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Bp))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),cv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return dm(e).get(t).next((function(e){return e?(ql(e.userId===n.userId),Av(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?cv.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return dm(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ql(t.batchId>=r),a=Av(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dm(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dm(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Av(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=jp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return hm(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],d=Up(l);if(s===n.userId&&t.path.isEqual(d))return dm(e).get(f).next((function(e){if(!e)throw Bl();ql(e.userId===n.userId),a.push(Av(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mh(of),i=[];return t.forEach((function(t){var a=jp(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=hm(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Up(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),cv.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=jp(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Mh(of);return hm(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],d=Up(l);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(dm(e).get(t).next((function(e){if(null===e)throw Bl();ql(e.userId===n.userId),r.push(Av(n.M,e))})))})),cv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return sm(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),cv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cv.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return hm(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Up(e[1]);i.push(a)}else r.done()})).next((function(){ql(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return fm(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return pm(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return ql(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function fm(e,t,n){var r=jp(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return hm(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function dm(e){return bv(e,"mutations")}function hm(e){return bv(e,"documentMutations")}function pm(e){return bv(e,"mutationQueues")}var vm=function(){function e(t){fi(this,e),this.wn=t}return hi(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),mm=function(){function e(t,n){fi(this,e),this.referenceDelegate=t,this.M=n}return hi(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new vm(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return lf.fromTimestamp(new cf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ym(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return ql(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return ym(e).Wt((function(o,u){var s=Nv(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return cv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return ym(e).Wt((function(e,n){var r=Nv(n);t(r)}))}},{key:"yn",value:function(e){return gm(e).get("targetGlobalKey").next((function(e){return ql(null!==e),e}))}},{key:"pn",value:function(e,t){return gm(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return ym(e).put(Pv(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=dd(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return ym(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Nv(n);hd(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=km(e);return t.forEach((function(t){var o=Mp(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),cv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=km(e);return cv.forEach(t,(function(t){var a=Mp(t.path);return cv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=km(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=km(e),i=Kh();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Up(e[1]),a=new Pf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Mp(t.path),r=IDBKeyRange.bound([n],[sf(n)],!1,!0),i=0;return km(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return ym(e).get(t).next((function(e){return e?Nv(e):null}))}}]),e}();function ym(e){return bv(e,"targets")}function gm(e){return bv(e,"targetGlobal")}function km(e){return bv(e,"targetDocuments")}function bm(e){return wm.apply(this,arguments)}function wm(){return wm=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Kl.FAILED_PRECONDITION&&t.message===uv){e.next=2;break}throw t;case 2:Ul("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=of(r,o);return 0===s?of(i,u):s}var _m=function(){function e(t){fi(this,e),this.En=t,this.buffer=new Mh(xm),this.An=0}return hi(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xm(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sm=function(){function e(t,n){fi(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return hi(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Ul("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!pv(n.t0)){n.next=12;break}Ul("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,bm(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Im=function(){function e(t,n){fi(this,e),this.Sn=t,this.params=n}return hi(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return cv.resolve(nf.A);var r=new _m(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ul("LruGarbageCollector","Garbage collection skipped; disabled"),cv.resolve(om)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ul("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),om):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ul("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Fl()<=ha.DEBUG&&Ul("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),cv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Em=function(){function e(t,n){fi(this,e),this.db=t,this.garbageCollector=function(e,t){return new Im(e,t)}(this,n)}return hi(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Tm(e,n)}},{key:"removeReference",value:function(e,t,n){return Tm(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Tm(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return pm(e).zt((function(r){return fm(e,r,t).next((function(e){return e&&(n=!0),cv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,lf.min()),km(e).delete([0,Mp(o.path)])}))}));i.push(s)}})).next((function(){return cv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Tm(e,t)}},{key:"kn",value:function(e,t){var n,r=km(e),i=nf.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==nf.A&&t(new Pf(Up(n)),i),i=s,n=u):i=nf.A})).next((function(){i!==nf.A&&t(new Pf(Up(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Tm(e,t){return km(e).put(function(e,t){return{targetId:0,path:Mp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Cm=function(){function e(){fi(this,e),this.changes=new Nh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return hi(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ed.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Rm=function(){function e(t){fi(this,e),this.M=t}return hi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Pm(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Pm(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Tv(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ed.newInvalidDocument(t);return Pm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Om(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:ed.newInvalidDocument(t)};return Pm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Om(t))},(function(e,i){r={document:n.Fn(t,i),size:cm(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Vh();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Vh(),i=new Ph(Pf.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,cm(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return cv.resolve();var r=new Mh(Mm);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Om(r.first()),Om(r.last())),a=r.getIterator(),o=a.getNext();return Pm(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Pf.fromSegments([].concat(W(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Mm(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Om(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Tv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pm(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Vh(),i=pi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(Pf.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Vh(),o=Dm(t,n),u=Dm(t,sd.max());return Pm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(Pf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Am(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Nm(e).get("remoteDocumentGlobalKey").next((function(e){return ql(!!e),e}))}},{key:"On",value:function(e,t){return Nm(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=kp(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Pf.fromSegments(t.noDocument.path),i=Rv(t.noDocument.readTime);n=ed.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Bl();var a=Pf.fromSegments(t.unknownDocument.path),o=Rv(t.unknownDocument.version);n=ed.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new cf(e[0],e[1]);return lf.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(lf.min()))return n}return ed.newInvalidDocument(e)}}]),e}(),Am=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new Nh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return hi(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Mh((function(e,t){return of(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ev(t.qn.M,o);i=i.add(a.path.popLast());var c=cm(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ev(t.qn.M,o.convertToNoDocument(lf.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),cv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Cm);function Nm(e){return bv(e,"remoteDocumentGlobal")}function Pm(e){return bv(e,"remoteDocumentsV14")}function Om(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Dm(e,t){var n=t.documentKey.path.toArray();return[e,Tv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mm(e,t){var n=e.path.length-t.path.length;return 0!==n?n:Pf.comparator(e,t)}var Lm=function(){function e(t){fi(this,e),this.M=t}return hi(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new lv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0}),e.createObjectStore("documentMutations")}(e),Fm(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=cv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Fm(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vp,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return cv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ev});t.createIndex("collectionPathOverlayIndex",tv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",nv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qp});t.createIndex("documentKeyIndex",Wp),t.createIndex("collectionGroupIndex",Kp)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Yp}).createIndex("sequenceNumberIndex",Xp,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Jp}).createIndex("documentKeyIndex",Zp,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=cm(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return cv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return cv.forEach(r,(function(r){ql(r.userId===n.userId);var i=Av(t.M,r);return sm(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new vf(n),o=function(e){return[0,Mp(e)]}(a);r.push(t.get(o).next((function(n){return n?cv.resolve():function(n){return t.put({targetId:0,path:Mp(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return cv.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Qp});var n=t.store("collectionParents"),r=new Zv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Mp(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new vf(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Up(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Nv(r),a=Pv(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Pf(vf.fromString(i.document.name).popFirst(5)):i.noDocument?Pf.fromSegments(i.noDocument.path):i.unknownDocument?Pf.fromSegments(i.unknownDocument.path):Bl()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return cv.waitFor(r)}))}}]),e}();function Fm(e){e.createObjectStore("targetDocuments",{keyPath:Gp}).createIndex("documentTargetsIndex",$p,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Hp,{unique:!0}),e.createObjectStore("targetGlobal")}var Um="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vm=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(fi(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new Hl(Kl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Em(this,i),this.cs=n+"main",this.M=new Iv(s),this.hs=new fv(this.cs,this.Zn,new Lm(this.M)),this.ls=new mm(this.referenceDelegate,this.M),this.fs=function(e){return new Rm(e)}(this.M),this.ds=new Lv,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&Vl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return hi(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hl(Kl.FAILED_PRECONDITION,Um);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new nf(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=ua(Ei().mark((function n(r){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=ua(Ei().mark((function t(n){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zm(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(pv(t))return Ul("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ul("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return jm(e).get("owner").next((function(e){return cv.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return zm(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i,a=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bv(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return cv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=pi(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?cv.resolve(!0):jm(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Hl(Kl.FAILED_PRECONDITION,Um);return!1}}return!(!t.networkEnabled||!t.inForeground)||zm(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ul("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ua(Ei().mark((function e(){var t=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kv(e,nf.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zm(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return lm.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new tm(e)}},{key:"getDocumentOverlayCache",value:function(e){return Vv.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ul("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?ov:13===i?av:12===i?iv:11===i?rv:void Bl();return this.hs.runTransaction(e,o,u,(function(i){return a=new kv(i,r.ts?r.ts.next():nf.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw Vl("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new Hl(Kl.FAILED_PRECONDITION,uv);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return jm(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hl(Kl.FAILED_PRECONDITION,Um)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jm(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=jm(e);return n.get("owner").next((function(e){return t.bs(e)?(Ul("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):cv.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Vl("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!Li()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ul("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Vl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Do){Vl("Failed to set zombie client id.",Do)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Do){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return fv.vt()}}]),e}();function jm(e){return bv(e,"owner")}function zm(e){return bv(e,"clientMetadata")}function Bm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var qm=function(){function e(t,n,r){fi(this,e),this.fs=t,this.$s=n,this.indexManager=r}return hi(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=pi(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=pi(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return Pf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Fd(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new Pf(t)).next((function(e){var t=zh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zh();return this.indexManager.getCollectionParents(e,i).next((function(o){return cv.forEach(o,(function(o){var u=function(e,t){return new Ad(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=pi(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=ed.newInvalidDocument(s),r=r.insert(s,c)),vh(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Wd(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Wm=function(){function e(t,n,r,i){fi(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return hi(e,null,[{key:"Js",value:function(t,n){var r,i=Kh(),a=Kh(),o=pi(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Km=function(){function e(){fi(this,e)}return hi(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(lf.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Od(t)||Dd(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Fl()<=ha.DEBUG&&Ul("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qd(t)),i.Xs.Ks(e,t,od(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Mh(Hd(e));return t.forEach((function(t,r){Wd(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Fl()<=ha.DEBUG&&Ul("QueryEngine","Using full collection scan to execute query:",qd(t)),this.Xs.Ks(e,t,sd.min())}}]),e}(),Hm=function(){function e(t,n,r,i){fi(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new Ph(of),this.ii=new Nh((function(e){return dd(e)}),hd),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return hi(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new qm(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function Gm(e,t,n,r){return new Hm(e,t,n,r)}function $m(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Kh(),s=pi(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=pi(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var h,p=pi(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=pi(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function Ym(e,t){var n=Wl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ql(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function Xm(e){var t=Wl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function Jm(e,t){var n=Wl(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(kf.EMPTY_BYTE_STRING,lf.min()).withLastLimboFreeSnapshotVersion(lf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=Vh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Zm(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(lf.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return cv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Zm(e,t,n){var r=Kh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(lf.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ul("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ey(e,t){var n=Wl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function ty(e,t){var n=Wl(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,cv.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Sv(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wl(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pv(e.t1)){e.next=12;break}throw e.t1;case 12:Ul("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ry.apply(this,arguments)}function iy(e,t,n){var r=Wl(e),i=lf.min(),a=Kh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Wl(e),i=r.ii.get(n);return void 0!==i?cv.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Vd(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:lf.min(),n?a:Kh())})).next((function(e){return uy(r,Kd(t),e),{documents:e,hi:a}}))}))}function ay(e,t){var n=Wl(e),r=Wl(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function oy(e,t){var n=Wl(e),r=n.ri.get(t)||lf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,od(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return uy(n,t,e),e}))}function uy(e,t,n){var r=lf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function sy(e,t,n,r){return cy.apply(this,arguments)}function cy(){return cy=ua(Ei().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Wl(t),o=Kh(),u=Vh(),s=pi(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,ty(a,function(e){return Vd(Pd(vf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Zm(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),cy.apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=ua(Ei().mark((function e(t,n){var r,i,a,o=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Kh(),e.next=3,ty(t,Vd(Ov(n.bundledQuery)));case 3:return i=e.sent,a=Wl(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=cp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(kf.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}var dy=function(){function e(t){fi(this,e),this.M=t,this._i=new Map,this.wi=new Map}return hi(e,[{key:"getBundleMetadata",value:function(e,t){return cv.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:cp(n.createTime)}),cv.resolve()}},{key:"getNamedQuery",value:function(e,t){return cv.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Ov(e.bundledQuery),readTime:cp(e.readTime)}}(t)),cv.resolve()}}]),e}(),hy=function(){function e(){fi(this,e),this.overlays=new Ph(Pf.comparator),this.mi=new Map}return hi(e,[{key:"getOverlay",value:function(e,t){return cv.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),cv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),cv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Bh(),i=t.length+1,a=new Pf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return cv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ph((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Bh(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Bh(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return cv.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _v(t,n));var a=this.mi.get(t);void 0===a&&(a=Kh(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),py=function(){function e(){fi(this,e),this.gi=new Mh(vy.yi),this.pi=new Mh(vy.Ii)}return hi(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new vy(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new vy(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new Pf(new vf([])),r=new vy(n,e),i=new vy(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new Pf(new vf([])),n=new vy(t,e),r=new vy(t,e+1),i=Kh();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new vy(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),vy=function(){function e(t,n){fi(this,e),this.key=t,this.Vi=n}return hi(e,null,[{key:"yi",value:function(e,t){return Pf.comparator(e.key,t.key)||of(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return of(e.Vi,t.Vi)||Pf.comparator(e.key,t.key)}}]),e}(),my=function(){function e(t,n){fi(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Mh(vy.yi)}return hi(e,[{key:"checkEmpty",value:function(e){return cv.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new wv(i,t,n,r);this.$s.push(a);var o,u=pi(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new vy(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return cv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cv.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return cv.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cv.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return cv.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new vy(t,0),i=new vy(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),cv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mh(of);return t.forEach((function(e){var t=new vy(e,0),i=new vy(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),cv.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Pf.isDocumentKey(i)||(i=i.child(""));var a=new vy(new Pf(i),0),o=new Mh(of);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),cv.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ql(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return cv.forEach(t.mutations,(function(i){var a=new vy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new vy(t,0),r=this.Si.firstAfterOrEqual(n);return cv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,cv.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),yy=function(){function e(t){fi(this,e),this.ki=t,this.docs=new Ph(Pf.comparator),this.size=0}return hi(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cv.resolve(n?n.document.mutableCopy():ed.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ed.newInvalidDocument(e))})),cv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Vh(),i=new Pf(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||cd(ud(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return cv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Bl()}},{key:"Mi",value:function(e,t){return cv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new gy(this)}},{key:"getSize",value:function(e){return cv.resolve(this.size)}}]),e}(),gy=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).qn=e,r}return hi(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),cv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(Cm),ky=function(){function e(t){fi(this,e),this.persistence=t,this.Oi=new Nh((function(e){return dd(e)}),hd),this.lastRemoteSnapshotVersion=lf.min(),this.highestTargetId=0,this.Fi=0,this.$i=new py,this.targetCount=0,this.Bi=vm.mn()}return hi(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),cv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cv.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),cv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),cv.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new vm(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,cv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),cv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,cv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),cv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return cv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),cv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),cv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return cv.resolve(n)}},{key:"containsKey",value:function(e,t){return cv.resolve(this.$i.containsKey(t))}}]),e}(),by=function(){function e(t,n){var r=this;fi(this,e),this.Li={},this.overlays={},this.ts=new nf(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new ky(this),this.indexManager=new Jv,this.fs=new yy((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Iv(n),this.ds=new dy(this.M)}return hi(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new hy,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new my(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Ul("MemoryPersistence","Starting transaction:",e);var i=new wy(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return cv.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),wy=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return hi(n)}(sv),xy=function(){function e(t){fi(this,e),this.persistence=t,this.Qi=new py,this.ji=null}return hi(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw Bl()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),cv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),cv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),cv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cv.forEach(this.zi,(function(r){var i=Pf.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,lf.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return cv.or([function(){return cv.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function _y(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Sy(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Iy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ey=function(){function e(t,n,r,i){fi(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return hi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Hl(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Vl("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ty=function(){function e(t,n,r){fi(this,e),this.targetId=t,this.state=n,this.error=r}return hi(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hl(i.error.code,i.error.message))),a?new e(t,i.state,r):(Vl("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Cy=function(){function e(t,n){fi(this,e),this.clientId=t,this.activeTargetIds=n}return hi(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Gh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Nf(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Vl("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ry=function(){function e(t,n){fi(this,e),this.clientId=t,this.onlineState=n}return hi(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vl("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ay=function(){function e(){fi(this,e),this.activeTargetIds=Gh()}return hi(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ny=function(){function e(t,n,r,i,a){fi(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ph(of),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=_y(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Ay),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return hi(e,[{key:"start",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=pi(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(_y(this.persistenceKey,i)))&&(o=Cy.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=pi(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Iy(this.persistenceKey,e));if(n){var r=Ty.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Iy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ul("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ul("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ul("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ul("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Vl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(ua(Ei().mark((function e(){var r,i,a,o,u,s,c;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=nf.A;if(null!=e)try{var n=JSON.parse(e);ql("number"==typeof n),t=n}catch(e){Vl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==nf.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Ey(this.currentUser,e,t,n),i=Sy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Sy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Iy(this.persistenceKey,e),i=new Ty(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Cy.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ey.Ji(new Dl(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Ty.Ji(r,t)}},{key:"wr",value:function(e){return Ry.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Ul("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Gh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Py=function(){function e(){fi(this,e),this.Fr=new Ay,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return hi(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Ay,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Oy=function(){function e(){fi(this,e)}return hi(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Dy=function(){function e(){var t=this;fi(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return hi(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Ul("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=pi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ul("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=pi(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),My={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ly=function(){function e(t){fi(this,e),this.jr=t.jr,this.Wr=t.Wr}return hi(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Fy=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return hi(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Pl;o.listenOnce(Tl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case El.NO_ERROR:var t=o.getResponseJson();Ul("Connection","XHR received:",JSON.stringify(t)),i(t);break;case El.TIMEOUT:Ul("Connection",'RPC "'+e+'" timed out'),a(new Hl(Kl.DEADLINE_EXCEEDED,"Request time out"));break;case El.HTTP_ERROR:var n=o.getStatus();if(Ul("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kl).indexOf(t)>=0?t:Kl.UNKNOWN}(r.status);a(new Hl(u,r.message))}else a(new Hl(Kl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hl(Kl.UNAVAILABLE,"Connection failed."));break;default:Bl()}}finally{Ul("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Sl(),a=Il(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Al({})),this.uo(o.initMessageHeaders,t,n),Mi()||Ui()||Di().indexOf("Electron/")>=0||Vi()||Di().indexOf("MSAppHost/")>=0||Fi()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ul("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Ly({jr:function(e){l?Ul("Connection","Not sending because WebChannel is closed:",e):(c||(Ul("Connection","Opening WebChannel transport."),s.open(),c=!0),Ul("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,Nl.EventType.OPEN,(function(){l||Ul("Connection","WebChannel transport opened.")})),d(s,Nl.EventType.CLOSE,(function(){l||(l=!0,Ul("Connection","WebChannel transport closed"),f.eo())})),d(s,Nl.EventType.ERROR,(function(e){l||(l=!0,jl("Connection","WebChannel transport errored:",e),f.eo(new Hl(Kl.UNAVAILABLE,"The operation could not be completed")))})),d(s,Nl.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ql(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ul("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Sh[e];if(void 0!==t)return Ah(t)}(a),u=i.message;void 0===o&&(o=Kl.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Hl(o,u)),s.close()}else Ul("Connection","WebChannel received:",n),f.no(n)}})),d(a,Cl.STAT_EVENT,(function(e){e.stat===Rl.PROXY?Ul("Connection","Detected buffering proxy"):e.stat===Rl.NOPROXY&&Ul("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){fi(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return hi(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Ul("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Ul("RestConnection","Received: ",e),e}),(function(t){throw jl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ml,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=My[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Uy(){return"undefined"!=typeof window?window:null}function Vy(){return"undefined"!=typeof document?document:null}function jy(e){return new ap(e,!0)}var zy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;fi(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return hi(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Ul("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),By=function(){function e(t,n,r,i,a,o,u,s){fi(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new zy(t,n)}return hi(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Kl.RESOURCE_EXHAUSTED?(Vl(n.toString()),Vl("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Kl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Hl(Kl.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Ul("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Ul("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),qy=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a,o,u){var s;return fi(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return hi(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(ql(void 0===t||"string"==typeof t),kf.fromBase64String(t||"")):(ql(void 0===t||t instanceof Uint8Array),kf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Kl.UNKNOWN:Ah(e.code);return new Hl(t,e.message||"")}(o);n=new Jh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=hp(e,s.document.name),l=cp(s.document.updateTime),f=new Jf({mapValue:{fields:s.document.fields}}),d=ed.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Yh(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=hp(e,v.document),y=v.readTime?cp(v.readTime):lf.min(),g=ed.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Yh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=hp(e,b.document),x=b.removedTargetIds||[];n=new Yh([],x,w,null)}else{if(!("filter"in t))return Bl();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new Ch(S),E=_.targetId;n=new Xh(E,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return lf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?lf.min():t.readTime?cp(t.readTime):lf.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=mp(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=pd(r)?{documents:_p(e,r)}:{query:Sp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=up(e,t.resumeToken):t.snapshotVersion.compareTo(lf.min())>0&&(n.readTime=op(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Bl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=mp(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(By),Wy=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a,o,u){var s;return fi(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return hi(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,ko(gi(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(ql(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(ql(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?cp(e.updateTime):cp(t);return n.isEqual(lf.min())&&(n=cp(t)),new lh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=cp(e.commitTime);return this.listener.Jo(n,t)}return ql(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=mp(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return wp(t.M,e)}))};this.Oo(n)}}]),n}(By),Ky=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a){var o;return fi(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return hi(n,[{key:"tu",value:function(){if(this.Zo)throw new Hl(Kl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hl(Kl.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Kl.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hl(Kl.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return hi((function e(){fi(this,e)}))}()),Hy=function(){function e(t,n){fi(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return hi(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Vl(t),this.su=!1):Ul("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),Gy=hi((function e(t,n,r,i,a){var o=this;fi(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ig(o),!e.t0){e.next=5;break}return Ul("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wl(t)).lu.add(4),e.next=4,Yy(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,$y(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new Hy(r,i)}));function $y(e){return Qy.apply(this,arguments)}function Qy(){return Qy=ua(Ei().mark((function e(t){var n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ig(t)){e.next=18;break}n=pi(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Qy.apply(this,arguments)}function Yy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=ua(Ei().mark((function e(t){var n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pi(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Xy.apply(this,arguments)}function Jy(e,t){var n=Wl(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),rg(n)?ng(n):Og(n).Co()&&eg(n,t))}function Zy(e,t){var n=Wl(e),r=Og(n);n.hu.delete(t),r.Co()&&tg(n,t),0===n.hu.size&&(r.Co()?r.ko():ig(n)&&n._u.set("Unknown"))}function eg(e,t){e.wu.Z(t.targetId),Og(e).Qo(t)}function tg(e,t){e.wu.Z(t),Og(e).jo(t)}function ng(e){e.wu=new ep({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),Og(e).start(),e._u.iu()}function rg(e){return ig(e)&&!Og(e).Do()&&e.hu.size>0}function ig(e){return 0===Wl(e).lu.size}function ag(e){e.wu=void 0}function og(e){return ug.apply(this,arguments)}function ug(){return ug=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){eg(t,e)}));case 1:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ag(t),rg(t)?(t._u.uu(n),ng(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t,n){return fg.apply(this,arguments)}function fg(){return fg=ua(Ei().mark((function e(t,n,r){var i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Jh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=pi(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ul("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,dg(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Yh?t.wu.ut(n):n instanceof Xh?t.wu._t(n):t.wu.ht(n),r.isEqual(lf.min())){e.next=29;break}return e.prev=14,e.next=17,Xm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(kf.EMPTY_BYTE_STRING,n.snapshotVersion)),tg(e,t);var r=new Sv(n.target,t,1,n.sequenceNumber);eg(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ul("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dg(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),fg.apply(this,arguments)}function dg(e,t,n){return hg.apply(this,arguments)}function hg(){return hg=ua(Ei().mark((function e(t,n,r){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pv(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Yy(t);case 5:t._u.set("Offline"),r||(r=function(){return Xm(t.localStore)}),t.asyncQueue.enqueueRetryable(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ul("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,$y(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function pg(e,t){return t().catch((function(n){return dg(e,n,t)}))}function vg(e){return mg.apply(this,arguments)}function mg(){return mg=ua(Ei().mark((function e(t){var n,r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wl(t),r=Dg(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!yg(n)){e.next=19;break}return e.prev=3,e.next=6,ey(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,gg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dg(n,e.t0);case 17:e.next=2;break;case 19:kg(n)&&bg(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),mg.apply(this,arguments)}function yg(e){return ig(e)&&e.cu.length<10}function gg(e,t){e.cu.push(t);var n=Dg(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function kg(e){return ig(e)&&!Dg(e).Do()&&e.cu.length>0}function bg(e){Dg(e).start()}function wg(e){return xg.apply(this,arguments)}function xg(){return xg=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dg(t).Xo();case 1:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function _g(e){return Sg.apply(this,arguments)}function Sg(){return Sg=ua(Ei().mark((function e(t){var n,r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dg(t),r=pi(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Sg.apply(this,arguments)}function Ig(e,t,n){return Eg.apply(this,arguments)}function Eg(){return Eg=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=xv.from(i,n,r),e.next=3,pg(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,vg(t);case 5:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Tg(e,t){return Cg.apply(this,arguments)}function Cg(){return Cg=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Dg(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rh(i=n.code)||i===Kl.ABORTED){e.next=7;break}return r=t.cu.shift(),Dg(t).No(),e.next=5,pg(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,vg(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:kg(t)&&bg(t);case 5:case"end":return e.stop()}}),e)}))),Cg.apply(this,arguments)}function Rg(e,t){return Ag.apply(this,arguments)}function Ag(){return Ag=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Wl(t)).asyncQueue.verifyOperationInProgress(),Ul("RemoteStore","RemoteStore received new credentials"),i=ig(r),r.lu.add(3),e.next=6,Yy(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,$y(r);case 12:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Ng(e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wl(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,$y(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Yy(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Og(e){return e.mu||(e.mu=function(e,t,n){var r=Wl(e);return r.tu(),new qy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:og.bind(null,e),Jr:sg.bind(null,e),Ko:lg.bind(null,e)}),e.fu.push(function(){var t=ua(Ei().mark((function t(n){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),rg(e)?ng(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:ag(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Dg(e){return e.gu||(e.gu=function(e,t,n){var r=Wl(e);return r.tu(),new Wy(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:wg.bind(null,e),Jr:Tg.bind(null,e),Yo:_g.bind(null,e),Jo:Ig.bind(null,e)}),e.fu.push(function(){var t=ua(Ei().mark((function t(n){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,vg(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Ul("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Mg=function(){function e(t,n,r,i,a){fi(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return hi(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hl(Kl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Lg(e,t){if(Vl("AsyncQueue","".concat(t,": ").concat(e)),pv(e))return new Hl(Kl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Fg=function(){function e(t){fi(this,e),this.comparator=t?function(e,n){return t(e,n)||Pf.comparator(e.key,n.key)}:function(e,t){return Pf.comparator(e.key,t.key)},this.keyedMap=zh(),this.sortedSet=new Ph(this.comparator)}return hi(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Ug=function(){function e(){fi(this,e),this.yu=new Ph(Pf.comparator)}return hi(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Bl():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vg=function(){function e(t,n,r,i,a,o,u,s){fi(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return hi(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Fg.emptySet(n),a,r,i,!0,!1)}}]),e}(),jg=hi((function e(){fi(this,e),this.Iu=void 0,this.listeners=[]})),zg=hi((function e(){fi(this,e),this.queries=new Nh((function(e){return Bd(e)}),zd),this.onlineState="Unknown",this.Tu=new Set}));function Bg(e,t){return qg.apply(this,arguments)}function qg(){return qg=ua(Ei().mark((function e(t,n){var r,i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wl(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new jg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Lg(e.t0,"Initialization of query '".concat(qd(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&$g(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),qg.apply(this,arguments)}function Wg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=ua(Ei().mark((function e(t,n){var r,i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wl(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Hg(e,t){var n,r=Wl(e),i=!1,a=pi(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=pi(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&$g(r)}function Gg(e,t,n){var r=Wl(e),i=r.queries.get(t);if(i){var a,o=pi(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function $g(e){e.Tu.forEach((function(e){e.next()}))}var Qg=function(){function e(t,n,r){fi(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return hi(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=pi(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Vg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Yg=function(){function e(t,n){fi(this,e),this.payload=t,this.byteLength=n}return hi(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Xg=function(){function e(t){fi(this,e),this.M=t}return hi(e,[{key:"li",value:function(e){return hp(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?kp(this.M,e.document,!1):ed.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return cp(e)}}]),e}(),Jg=function(){function e(t,n,r){fi(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zg(t)}return hi(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=vf.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Xg(this.M),i=pi(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=pi(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Kh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sy(this.localStore,new Xg(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=pi(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ly(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ek=hi((function e(t){fi(this,e),this.key=t})),tk=hi((function e(t){fi(this,e),this.key=t})),nk=function(){function e(t,n){fi(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Kh(),this.mutatedKeys=Kh(),this.Lu=Hd(t),this.Uu=new Fg(this.Lu)}return hi(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new Ug,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Od(this.query)&&i.size===this.query.limit?i.last():null,c=Dd(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wd(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Od(this.query)||Dd(this.query))for(;o.size>this.query.limit;){var l=Od(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bl()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Vg(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Ug,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Kh(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new tk(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new ek(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=Kh();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Vg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),rk=hi((function e(t,n,r){fi(this,e),this.query=t,this.targetId=n,this.view=r})),ik=hi((function e(t){fi(this,e),this.key=t,this.Xu=!1})),ak=function(){function e(t,n,r,i,a,o){fi(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new Nh((function(e){return Bd(e)}),zd),this.ea=new Map,this.na=new Set,this.sa=new Ph(Pf.comparator),this.ia=new Map,this.ra=new py,this.oa={},this.ua=new Map,this.aa=vm.gn(),this.onlineState="Unknown",this.ca=void 0}return hi(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function ok(e,t){return uk.apply(this,arguments)}function uk(){return uk=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zk(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,ty(r.localStore,Vd(n));case 8:return u=e.sent,r.isPrimaryClient&&Jy(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,sk(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function sk(e,t,n,r){return ck.apply(this,arguments)}function ck(){return ck=ua(Ei().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=ua(Ei().mark((function e(t,n,r,i){var a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,iy(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Rk(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,iy(t.localStore,n,!0);case 3:return a=e.sent,o=new nk(n,a.hi),u=o.Gu(a.documents),s=Qh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Rk(t,r,c.zu),l=new rk(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){return fk.apply(this,arguments)}function fk(){return fk=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wl(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!zd(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ny(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Zy(r.remoteStore,i.targetId),Tk(r,i.targetId)})).catch(bm);case 9:e.next=14;break;case 11:return Tk(r,i.targetId),e.next=14,ny(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),fk.apply(this,arguments)}function dk(e,t,n){return hk.apply(this,arguments)}function hk(){return hk=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eb(t),e.prev=1,e.next=4,function(e,t){var n,r=Wl(e),i=cf.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Kh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=pi(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=mh(c,n.get(c.key));null!=l&&u.push(new bh(c.key,l,Zf(l.value.mapValue),fh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new Ph(of)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Pk(i,a.changes);case 9:return e.next=11,vg(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Lg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),hk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),e.prev=1,e.next=4,Jm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(ql(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?ql(n.Xu):e.removedDocuments.size>0&&(ql(n.Xu),n.Xu=!1))})),e.next=8,Pk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),vk.apply(this,arguments)}function mk(e,t,n){var r=Wl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Wl(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=pi(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$g(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yk(e,t,n){return gk.apply(this,arguments)}function gk(){return gk=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s,c;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Wl(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ph(Pf.comparator)).insert(o,ed.newNoDocument(o,lf.min())),s=Kh().add(o),c=new $h(lf.min(),new Map,new Mh(of),u,s),e.next=9,pk(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),Nk(i),e.next=16;break;case 14:return e.next=16,ny(i.localStore,n,!1).then((function(){return Tk(i,n,r)})).catch(bm);case 16:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e,t){return bk.apply(this,arguments)}function bk(){return bk=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),i=n.batch.batchId,e.prev=1,e.next=4,Ym(r.localStore,n);case 4:return a=e.sent,Ek(r,i,null),Ik(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Pk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),bk.apply(this,arguments)}function wk(e,t,n){return xk.apply(this,arguments)}function xk(){return xk=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wl(t),e.prev=1,e.next=4,function(e,t){var n=Wl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return ql(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ek(i,n,r),Ik(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Pk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xk.apply(this,arguments)}function _k(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ig((r=Wl(t)).remoteStore)||Ul("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Wl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Lg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Sk.apply(this,arguments)}function Ik(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function Ek(e,t,n){var r=Wl(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function Tk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=pi(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||Ck(e,t)}))}function Ck(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(Zy(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),Nk(e))}function Rk(e,t,n){var r,i=pi(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ek?(e.ra.addReference(a.key,t),Ak(e,a)):a instanceof tk?(Ul("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||Ck(e,a.key)):Bl()}}catch(o){i.e(o)}finally{i.f()}}function Ak(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Ul("SyncEngine","New document in limbo: "+n),e.na.add(r),Nk(e))}function Nk(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new Pf(vf.fromString(t)),r=e.aa.next();e.ia.set(r,new ik(n)),e.sa=e.sa.insert(n,r),Jy(e.remoteStore,new Sv(Vd(Pd(n.path)),r,2,nf.A))}}function Pk(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=ua(Ei().mark((function e(t,n,r){var i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wl(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Wm.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cv.forEach(n,(function(t){return cv.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cv.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pv(e.t0)){e.next=10;break}throw e.t0;case 10:Ul("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=pi(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Dk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Wl(t)).currentUser.isEqual(n)){e.next=11;break}return Ul("SyncEngine","User change. New user:",n.toKey()),e.next=5,$m(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new Hl(Kl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Pk(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),Mk.apply(this,arguments)}function Lk(e,t){var n=Wl(e),r=n.ia.get(t);if(r&&r.Xu)return Kh().add(r.key);var i=Kh(),a=n.ea.get(t);if(!a)return i;var o,u=pi(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Fk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),e.next=3,iy(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Rk(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function Vk(e,t){return jk.apply(this,arguments)}function jk(){return jk=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),e.abrupt("return",oy(r.localStore,n).then((function(e){return Pk(r,e)})));case 2:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function zk(e,t,n,r){return Bk.apply(this,arguments)}function Bk(){return Bk=ua(Ei().mark((function e(t,n,r,i){var a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wl(t),e.next=3,function(e,t){var n=Wl(e),r=Wl(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):cv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,vg(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Ek(a,n,i||null),Ik(a,n),function(e,t){Wl(Wl(e).$s).dn(t)}(a.localStore,n)):Bl();case 11:return e.next=13,Pk(a,o);case 13:e.next=16;break;case 15:Ul("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function qk(e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zk(r=Wl(t)),eb(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Kk(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,Ng(r.remoteStore,!0);case 9:o=pi(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Jy(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Tk(r,t),ny(r.localStore,t,!0)})),Zy(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Kk(r,c);case 21:return function(e){var t=Wl(e);t.ia.forEach((function(e,n){Zy(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new Ph(Pf.comparator)}(r),r.ca=!1,e.next=25,Ng(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Kk(e,t,n){return Hk.apply(this,arguments)}function Hk(){return Hk=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Wl(t),a=[],o=[],u=pi(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,ty(i.localStore,Vd(f[0]));case 11:l=e.sent,d=pi(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ta.get(p),e.next=20,Fk(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ay(i.localStore,c);case 36:return y=e.sent,e.next=39,ty(i.localStore,y);case 39:return l=e.sent,e.next=42,sk(i,Gk(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Hk.apply(this,arguments)}function Gk(e){return Nd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $k(e){var t=Wl(e);return Wl(Wl(t.localStore).persistence).Os()}function Qk(e,t,n,r){return Yk.apply(this,arguments)}function Yk(){return Yk=ua(Ei().mark((function e(t,n,r,i){var a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Wl(t)).ca){e.next=3;break}return e.abrupt("return",void Ul("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,oy(a.localStore,Kd(o[0]));case 10:return u=e.sent,s=$h.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Pk(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ny(a.localStore,n,!0);case 17:return Tk(a,n,i),e.abrupt("break",20);case 19:Bl();case 20:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Xk(e,t,n){return Jk.apply(this,arguments)}function Jk(){return Jk=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Zk(t)).ca){e.next=45;break}a=pi(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return Ul("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ay(i.localStore,u);case 12:return s=e.sent,e.next=15,ty(i.localStore,s);case 15:return c=e.sent,e.next=18,sk(i,Gk(s),c.targetId,!1);case 18:Jy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=pi(r),e.prev=30,d=Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,ny(i.localStore,t,!1).then((function(){Zy(i.remoteStore,t),Tk(i,t)})).catch(bm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Jk.apply(this,arguments)}function Zk(e){var t=Wl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yk.bind(null,t),t.Zu.Ko=Hg.bind(null,t.eventManager),t.Zu.la=Gg.bind(null,t.eventManager),t}function eb(e){var t=Wl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wk.bind(null,t),t}function tb(e,t,n){var r=Wl(e);(function(){var e=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Wl(e),r=cp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Zg(i)),a=new Jg(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Pk(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Wl(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(jl("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var nb=function(){function e(){fi(this,e),this.synchronizeTabs=!1}return hi(e,[{key:"initialize",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=jy(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return Gm(this.persistence,new Km,e.initialUser,this.M)}},{key:"_a",value:function(e){return new by(xy.Wi,this.M)}},{key:"da",value:function(e){return new Py}},{key:"terminate",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rb=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return hi(n,[{key:"initialize",value:function(){var e=ua(Ei().mark((function e(t){var r=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(gi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,eb(this.ga.syncEngine);case 6:return e.next=8,vg(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return Gm(this.persistence,new Km,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Sm(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=Bm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?um.withCacheSize(this.cacheSizeBytes):um.DEFAULT;return new Vm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Uy(),Vy(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new Py}}]),n}(nb),ib=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return hi(n,[{key:"initialize",value:function(){var e=ua(Ei().mark((function e(t){var r,i=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(gi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof Ny,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:zk.bind(null,r),Mr:Qk.bind(null,r),Or:Xk.bind(null,r),Os:$k.bind(null,r),Nr:Vk.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qk(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=Uy();if(!Ny.vt(t))throw new Hl(Kl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ny(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(rb),ab=function(){function e(){fi(this,e)}return hi(e,[{key:"initialize",value:function(){var e=ua(Ei().mark((function e(t,n){var r=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return mk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dk.bind(null,this.syncEngine),e.next=12,Ng(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zg}},{key:"createDatastore",value:function(e){var t,n=jy(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fy(t));return function(e,t,n,r){return new Ky(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return mk(o.syncEngine,e,0)},a=Dy.vt()?new Dy:new Oy,new Gy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ak(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wl(t),Ul("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Yy(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ob(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ua(Ei().mark((function r(){var i;return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ub=function(){function e(t){fi(this,e),this.observer=t,this.muted=!1}return hi(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),sb=function(){function e(t,n){var r=this;fi(this,e),this.Ia=t,this.M=n,this.metadata=new Gl,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return hi(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Yg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=ua(Ei().mark((function e(){var t,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=ua(Ei().mark((function e(){var t,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cb=function(){function e(t){fi(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return hi(e,[{key:"lookup",value:function(){var e=ua(Ei().mark((function e(t){var n,r=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Hl(Kl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),i=mp(r.M)+"/documents",a={documents:n.map((function(e){return dp(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=bp(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ql(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ua(Ei().mark((function e(){var t,n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Pf.fromPath(t);n.mutations.push(new Th(r,n.precondition(r)))})),e.next=7,function(){var e=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wl(t),i=mp(r.M)+"/documents",a={writes:n.map((function(e){return wp(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Bl();t=lf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hl(Kl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fh.updateTime(t):fh.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(lf.min()))throw new Hl(Kl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fh.updateTime(t)}return fh.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),lb=function(){function e(t,n,r,i){fi(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new zy(this.asyncQueue,"transaction_retry")}return hi(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(ua(Ei().mark((function t(){var n,r;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new cb(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Rf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Rh(t)}return!1}}]),e}(),fb=function(){function e(t,n,r,i){var a=this;fi(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dl.UNAUTHENTICATED,this.clientId=af.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ul("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ul("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return hi(e,[{key:"getConfiguration",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hl(Kl.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ua(Ei().mark((function n(){var r;return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Lg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function db(e,t){return hb.apply(this,arguments)}function hb(){return hb=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ul("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$m(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,mb(t);case 3:return r=e.sent,Ul("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Rg(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Rg(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(e){return yb.apply(this,arguments)}function yb(){return yb=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ul("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,db(t,new nb);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),yb.apply(this,arguments)}function gb(e){return kb.apply(this,arguments)}function kb(){return kb=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ul("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,pb(t,new ab);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function bb(e){return mb(e).then((function(e){return e.persistence}))}function wb(e){return mb(e).then((function(e){return e.localStore}))}function xb(e){return gb(e).then((function(e){return e.remoteStore}))}function _b(e){return gb(e).then((function(e){return e.syncEngine}))}function Sb(e){return Ib.apply(this,arguments)}function Ib(){return Ib=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gb(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ok.bind(null,n.syncEngine),r.onUnlisten=lk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Eb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function i(){return Ei().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ub({next:function(a){t.enqueueAndForget((function(){return Wg(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Hl(Kl.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Hl(Kl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qg(Pd(n.path),a,{includeMetadataChanges:!0,Du:!0});return Bg(e,o)},i.next=3,Sb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Tb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function i(){return Ei().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ub({next:function(n){t.enqueueAndForget((function(){return Wg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Hl(Kl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qg(n,a,{includeMetadataChanges:!0,Du:!0});return Bg(e,o)},i.next=3,Sb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Cb=new Map;function Rb(e,t,n){if(!n)throw new Hl(Kl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ab(e,t,n,r){if(!0===t&&!0===r)throw new Hl(Kl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Nb(e){if(!Pf.isDocumentKey(e))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Pb(e){if(Pf.isDocumentKey(e))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ob(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Bl()}function Db(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hl(Kl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ob(e);throw new Hl(Kl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Mb(e,t){if(t<=0)throw new Hl(Kl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Lb=function(){function e(t){var n;if(fi(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hl(Kl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hl(Kl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ab("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return hi(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Fb=function(){function e(t,n,r){fi(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,t instanceof Cf?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hl(Kl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(e.options.projectId)}(t))}return hi(e,[{key:"app",get:function(){if(!this._app)throw new Hl(Kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hl(Kl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ql;switch(e.type){case"gapi":var t=e.client;return ql(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zl(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hl(Kl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Cb.get(e);t&&(Ul("ComponentProvider","Removing Datastore"),Cb.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ub(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Db(e,Fb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Dl.MOCK_USER;else{o=Oi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hl(Kl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Dl(s)}e._authCredentials=new Yl(new $l(o,u))}}var Vb=function(){function e(t,n,r){fi(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return hi(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),jb=function(){function e(t,n,r){fi(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return hi(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zb=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this,e,r,Pd(i)))._path=i,a.type="collection",a}return hi(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Vb(this.firestore,null,new Pf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(jb);function Bb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ea(e),Rb("collection","path",t),e instanceof Fb){var a=vf.fromString.apply(vf,[t].concat(r));return Pb(a),new zb(e,null,a)}if(!(e instanceof Vb||e instanceof zb))throw new Hl(Kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vf.fromString.apply(vf,[t].concat(r)));return Pb(o),new zb(e.firestore,null,o)}function qb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ea(e),1===arguments.length&&(t=af.R()),Rb("doc","path",t),e instanceof Fb){var a=vf.fromString.apply(vf,[t].concat(r));return Nb(a),new Vb(e,null,new Pf(a))}if(!(e instanceof Vb||e instanceof zb))throw new Hl(Kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(vf.fromString.apply(vf,[t].concat(r)));return Nb(o),new Vb(e.firestore,e instanceof zb?e.converter:null,new Pf(o))}function Wb(e,t){return e=ea(e),t=ea(t),(e instanceof Vb||e instanceof zb)&&(t instanceof Vb||t instanceof zb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Kb(e,t){return e=ea(e),t=ea(t),e instanceof jb&&t instanceof jb&&e.firestore===t.firestore&&zd(e._query,t._query)&&e.converter===t.converter}var Hb=function(){function e(){var t=this;fi(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new zy(this,"async_queue_retry"),this.Ua=function(){var e=Vy();e&&Ul("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Vy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return hi(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=Vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new Gl;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=ua(Ei().mark((function e(){var t=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pv(e.t0)){e.next=12;break}throw e.t0;case 12:Ul("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=Mg.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&Bl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=pi(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=pi(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function Gb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=pi(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $b=function(){function e(){fi(this,e),this._progressObserver={},this._taskCompletionResolver=new Gl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return hi(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Qb=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Hb,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return hi(n,[{key:"_terminate",value:function(){return this._firestoreClient||Xb(this),this._firestoreClient.terminate()}}]),n}(Fb);function Yb(e){return e._firestoreClient||Xb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Xb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Tf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new fb(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Jb(e,t,n){var r=new Gl;return e.asyncQueue.enqueue(ua(Ei().mark((function i(){return Ei().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,db(e,n);case 3:return i.next=5,pb(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Kl.FAILED_PRECONDITION||e.code===Kl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Zb(e){return function(e){return e.asyncQueue.enqueue(ua(Ei().mark((function t(){var n,r;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bb(e);case 2:return n=t.sent,t.next=5,xb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Wl(e);return t.lu.delete(0),$y(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Yb(e=Db(e,Qb)))}function ew(e){return function(e){return e.asyncQueue.enqueue(ua(Ei().mark((function t(){var n,r;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bb(e);case 2:return n=t.sent,t.next=5,xb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wl(t)).lu.add(0),e.next=4,Yy(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Yb(e=Db(e,Qb)))}function tw(e,t){var n=Yb(e=Db(e,Qb)),r=new $b;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new sb(e,t)}(function(e,t){if(e instanceof Uint8Array)return ob(e,t);if(e instanceof ArrayBuffer)return ob(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,jy(t));e.asyncQueue.enqueueAndForget(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tb,t.next=3,_b(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function nw(e,t){return function(e,t){return e.asyncQueue.enqueue(ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Wl(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,wb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Yb(e=Db(e,Qb)),t).then((function(t){return t?new jb(e,null,t.query):null}))}function rw(e){if(e._initialized||e._terminated)throw new Hl(Kl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var iw=function(){function e(){fi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yf(n)}return hi(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var aw=function(){function e(t){fi(this,e),this._byteString=t}return hi(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(kf.fromBase64String(t))}catch(t){throw new Hl(Kl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(kf.fromUint8Array(t))}}]),e}(),ow=hi((function e(t){fi(this,e),this._methodName=t})),uw=function(){function e(t,n){if(fi(this,e),!isFinite(t)||t<-90||t>90)throw new Hl(Kl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hl(Kl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return hi(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return of(this._lat,e._lat)||of(this._long,e._long)}}]),e}(),sw=/^__.*__$/,cw=function(){function e(t,n,r){fi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return hi(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bh(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}]),e}(),lw=function(){function e(t,n,r){fi(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return hi(e,[{key:"toMutation",value:function(e,t){return new bh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function fw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bl()}}var dw=function(){function e(t,n,r,i,a,o){fi(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return hi(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return Pw(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(fw(this.Ya)&&sw.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),hw=function(){function e(t,n,r){fi(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||jy(t)}return hi(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dw({Ya:e,methodName:t,oc:n,path:yf.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function pw(e){var t=e._freezeSettings(),n=jy(e._databaseId);return new hw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);Cw("Data must be an object, but it was:",o,r);var u,s,c=Ew(r,o);if(a.merge)u=new gf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=pi(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=Rw(t,h,n);if(!o.contains(p))throw new Hl(Kl.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ow(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new gf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new cw(new Jf(c),u,s)}var mw=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ow);function yw(e,t,n){return new dw({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var gw=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"_toFieldTransform",value:function(e){return new ch(e.path,new th)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ow),kw=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e)).ac=r,i}return hi(n,[{key:"_toFieldTransform",value:function(e){var t=yw(this,e,!0),n=this.ac.map((function(e){return Iw(e,t)})),r=new nh(n);return new ch(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ow),bw=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e)).ac=r,i}return hi(n,[{key:"_toFieldTransform",value:function(e){var t=yw(this,e,!0),n=this.ac.map((function(e){return Iw(e,t)})),r=new ih(n);return new ch(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ow),ww=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e)).cc=r,i}return hi(n,[{key:"_toFieldTransform",value:function(e){var t=new oh(e.M,Yd(e.M,this.cc));return new ch(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ow);function xw(e,t,n,r){var i=e.uc(1,t,n);Cw("Data must be an object, but it was:",i,r);var a=[],o=Jf.empty();df(r,(function(e,r){var u=Nw(t,e,n);r=ea(r);var s=i.nc(u);if(r instanceof mw)a.push(u);else{var c=Iw(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new gf(a);return new lw(o,u,i.fieldTransforms)}function _w(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[Rw(t,r,n)],s=[i];if(a.length%2!=0)throw new Hl(Kl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Rw(t,a[c])),s.push(a[c+1]);for(var l=[],f=Jf.empty(),d=u.length-1;d>=0;--d)if(!Ow(l,u[d])){var h=u[d],p=s[d];p=ea(p);var v=o.nc(h);if(p instanceof mw)l.push(h);else{var m=Iw(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new gf(l);return new lw(f,y,o.fieldTransforms)}function Sw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Iw(n,e.uc(r?4:3,t))}function Iw(e,t){if(Tw(e=ea(e)))return Cw("Unsupported field value:",t,e),Ew(e,t);if(e instanceof ow)return function(e,t){if(!fw(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=pi(e);try{for(a.s();!(n=a.n()).done;){var o=Iw(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ea(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yd(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=cf.fromDate(e);return{timestampValue:op(t.M,n)}}if(e instanceof cf){var r=new cf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:op(t.M,r)}}if(e instanceof uw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aw)return{bytesValue:up(t.M,e._byteString)};if(e instanceof Vb){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:lp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(Ob(e)))}(e,t)}function Ew(e,t){var n={};return hf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):df(e,(function(e,r){var i=Iw(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof cf||e instanceof uw||e instanceof aw||e instanceof Vb||e instanceof ow)}function Cw(e,t,n){if(!Tw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ob(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function Rw(e,t,n){if((t=ea(t))instanceof iw)return t._internalPath;if("string"==typeof t)return Nw(e,t);throw Pw("Field path arguments must be of type string or ",e,!1,void 0,n)}var Aw=new RegExp("[~\\*/\\[\\]]");function Nw(e,t,n){if(t.search(Aw)>=0)throw Pw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _i(iw,W(t.split(".")))._internalPath}catch(r){throw Pw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Hl(Kl.INVALID_ARGUMENT,u+e+s)}function Ow(e,t){return e.some((function(e){return e.isEqual(t)}))}var Dw=function(){function e(t,n,r,i,a){fi(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return hi(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Vb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Mw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Lw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Mw=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"data",value:function(){return ko(gi(n.prototype),"data",this).call(this)}}]),n}(Dw);function Lw(e,t){return"string"==typeof t?Nw(e,t):t instanceof iw?t._internalPath:t._delegate._internalPath}var Fw=function(){function e(t,n){fi(this,e),this.hasPendingWrites=t,this.fromCache=n}return hi(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Uw=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a,o,u){var s;return fi(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return hi(n,[{key:"exists",value:function(){return ko(gi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Lw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Dw),Vw=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ko(gi(n.prototype),"data",this).call(this,e)}}]),n}(Uw),jw=function(){function e(t,n,r,i){fi(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fw(i.hasPendingWrites,i.fromCache),this.query=r}return hi(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Vw(n._firestore,n._userDataWriter,r.key,r,new Fw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hl(Kl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Vw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Vw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Fw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bl()}}function Bw(e,t){return e instanceof Uw&&t instanceof Uw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jw&&t instanceof jw&&e._firestore===t._firestore&&Kb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qw(e){if(Dd(e)&&0===e.explicitOrderBy.length)throw new Hl(Kl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ww=hi((function e(){fi(this,e)}));function Kw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Hw=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return hi(n,[{key:"_apply",value:function(e){var t=pw(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){rx(o,a);var s,c=[],l=pi(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(nx(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=nx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||rx(o,a),u=Sw(n,"where",o,"in"===a||"not-in"===a);var d=md.create(i,a,u);return function(e,t){if(t.S()){var n=Ld(e);if(null!==n&&!n.isEqual(t.field))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Md(e);null!==r&&ix(e,t.field,r)}var i=function(e,t){var n,r=pi(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new jb(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ww);var Gw=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return hi(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ed(t,n);return function(e,t){if(null===Md(e)){var n=Ld(e);null!==n&&ix(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new jb(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ad(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ww);var $w=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return hi(n,[{key:"_apply",value:function(e){return new jb(e.firestore,e.converter,jd(e._query,this._c,this.wc))}}]),n}(Ww);var Qw=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return hi(n,[{key:"_apply",value:function(e){var t=tx(e,this.type,this.mc,this.gc);return new jb(e.firestore,e.converter,function(e,t){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ww);function Yw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qw("startAt",t,!0)}function Xw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qw("startAfter",t,!1)}var Jw=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a;return fi(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return hi(n,[{key:"_apply",value:function(e){var t=tx(e,this.type,this.mc,this.gc);return new jb(e.firestore,e.converter,function(e,t){return new Ad(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ww);function Zw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Jw("endBefore",t,!1)}function ex(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Jw("endAt",t,!0)}function tx(e,t,n,r){if(n[0]=ea(n[0]),n[0]instanceof Dw)return function(e,t,n,r,i){if(!r)throw new Hl(Kl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=pi(Ud(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Bf(t,r.key));else{var c=r.data.field(s.field);if(Sf(c))throw new Hl(Kl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Id(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=pw(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Hl(Kl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Fd(e)&&-1!==c.indexOf("/"))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(vf.fromString(c));if(!Pf.isDocumentKey(l))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Pf(l);u.push(Bf(t,f))}else{var d=Sw(n,r,c);u.push(d)}}return new Id(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function nx(e,t,n){if("string"==typeof(n=ea(n))){if(""===n)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fd(t)&&-1!==n.indexOf("/"))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(vf.fromString(n));if(!Pf.isDocumentKey(r))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Bf(e,new Pf(r))}if(n instanceof Vb)return Bf(e,n._key);throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ob(n),"."))}function rx(e,t){if(!Array.isArray(e)||0===e.length)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ix(e,t,n){if(!n.isEqual(t))throw new Hl(Kl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ax=function(){function e(){fi(this,e)}return hi(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return df(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new uw(xf(e.latitude),xf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=If(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ef(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=wf(e);return new cf(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=vf.fromString(e);ql(Dp(n));var r=new Cf(n.get(1),n.get(3)),i=new Pf(n.popFirst(5));return r.isEqual(t)||Vl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ox(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ux=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).firestore=e,r}return hi(n,[{key:"convertBytes",value:function(e){return new aw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vb(this.firestore,null,t)}}]),n}(ax),sx=function(){function e(t,n){fi(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pw(t)}return hi(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cx(e,this._firestore),i=ox(r.converter,t,n),a=vw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,fh.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ea(t))||t instanceof iw?_w(this._dataReader,"WriteBatch.update",i._key,t,n,o):xw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,fh.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cx(e,this._firestore);return this._mutations=this._mutations.concat(new Eh(t._key,fh.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Hl(Kl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cx(e,t){if((e=ea(e)).firestore!==t)throw new Hl(Kl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lx=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).firestore=e,r}return hi(n,[{key:"convertBytes",value:function(e){return new aw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vb(this.firestore,null,t)}}]),n}(ax);function fx(e){e=Db(e,Vb);var t=Db(e.firestore,Qb),n=Yb(t),r=new lx(t);return function(e,t){var n=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function r(){return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Wl(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Hl(Kl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Lg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Uw(t,r,e._key,n,new Fw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function dx(e){e=Db(e,jb);var t=Db(e.firestore,Qb),n=Yb(t),r=new lx(t);return function(e,t){var n=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function r(){return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iy(t,n,!0);case 3:i=e.sent,a=new nk(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Lg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,wb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new jw(t,r,e,n)}))}function hx(e,t,n){e=Db(e,Vb);var r=Db(e.firestore,Qb),i=ox(e.converter,t,n);return yx(r,[vw(pw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fh.none())])}function px(e,t,n){e=Db(e,Vb);for(var r=Db(e.firestore,Qb),i=pw(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return yx(r,[("string"==typeof(t=ea(t))||t instanceof iw?_w(i,"updateDoc",e._key,t,n,o):xw(i,"updateDoc",e._key,t)).toMutation(e._key,fh.exists(!0))])}function vx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ea(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Gb(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Gb(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof Vb)l=Db(e.firestore,Qb),f=Pd(e._key.path),c={next:function(t){n[s]&&n[s](gx(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Db(e,jb);l=Db(p.firestore,Qb),f=p._query;var v=new lx(l);c={next:function(e){n[s]&&n[s](new jw(l,v,p,e))},error:n[s+1],complete:n[s+2]},qw(e._query)}return function(e,t,n,r){var i=new ub(r),a=new Qg(t,i,n);return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Bg,t.next=3,Sb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wg,t.next=3,Sb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Yb(l),f,d,c)}function mx(e,t){return function(e,t){var n=new ub(t);return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wl(e).Tu.add(t),t.next()},t.next=3,Sb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wl(e).Tu.delete(t)},t.next=3,Sb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Yb(e=Db(e,Qb)),Gb(t)?t:{next:t})}function yx(e,t){return function(e,t){var n=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function r(){return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dk,r.next=3,_b(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Yb(e),t)}function gx(e,t,n){var r=n.docs.get(t._key),i=new lx(e);return new Uw(e,i,t._key,r,new Fw(n.hasPendingWrites,n.fromCache),t.converter)}var kx=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,r))._firestore=e,i}return hi(n,[{key:"get",value:function(e){var t=this,r=cx(e,this._firestore),i=new lx(this._firestore);return ko(gi(n.prototype),"get",this).call(this,e).then((function(e){return new Uw(t._firestore,i,r._key,e._document,new Fw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){fi(this,e),this._firestore=t,this._transaction=n,this._dataReader=pw(t)}return hi(e,[{key:"get",value:function(e){var t=this,n=cx(e,this._firestore),r=new ux(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Bl();var i=e[0];if(i.isFoundDocument())return new Dw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Dw(t._firestore,r,n._key,null,n.converter);throw Bl()}))}},{key:"set",value:function(e,t,n){var r=cx(e,this._firestore),i=ox(r.converter,t,n),a=vw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ea(t))||t instanceof iw?_w(this._dataReader,"Transaction.update",i._key,t,n,o):xw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function bx(e,t){return function(e,t){var n=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function r(){var i;return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return gb(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new lb(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Yb(e=Db(e,Qb)),(function(n){return t(new kx(e,n))}))}function wx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kw("arrayUnion",t)}function xx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bw("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ml=e}(ja),Oa(new sa("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Qb(i,new Xl(e.getProvider("auth-internal")),new tf(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ha(Ol,"3.4.7",e),Ha(Ol,"3.4.7","esm2017")}();function _x(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hl("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Sx(){if("undefined"===typeof Uint8Array)throw new Hl("unimplemented","Uint8Arrays are not available in this environment.")}function Ix(){if("undefined"==typeof atob)throw new Hl("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ex=function(){function e(t){fi(this,e),this._delegate=t}return hi(e,[{key:"toBase64",value:function(){return Ix(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Sx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Ix(),new e(aw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Sx(),new e(aw.fromUint8Array(t))}}]),e}();function Tx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=pi(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Cx=function(){function e(){fi(this,e)}return hi(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){rw(e=Db(e,Qb));var n=Yb(e),r=e._freezeSettings(),i=new ab;return Jb(n,i,new rb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){rw(e=Db(e,Qb));var t=Yb(e),n=e._freezeSettings(),r=new ab;return Jb(t,r,new ib(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Hl(Kl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Gl;return e._queue.enqueueAndForgetEvenWhileRestricted(ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fv.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Bm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Rx=function(){function e(t,n,r){var i=this;fi(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Cf||(this._appCompat=t)}return hi(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ub(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Zb(this._delegate)}},{key:"disableNetwork",value:function(){return ew(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Ab("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Gl;return e.asyncQueue.enqueueAndForget(ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_k,n.next=3,_b(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Yb(e=Db(e,Qb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return mx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Hl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new qx(this,Bb(this._delegate,e))}catch(t){throw Mx(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Dx(this,qb(this._delegate,e))}catch(t){throw Mx(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new jx(this,function(e,t){if(e=Db(e,Fb),Rb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hl(Kl.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jb(e,null,function(e){return new Ad(vf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Mx(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return bx(this._delegate,(function(n){return e(new Nx(t,n))}))}},{key:"batch",value:function(){var e=this;return Yb(this._delegate),new Px(new sx(this._delegate,(function(t){return yx(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return tw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return nw(this._delegate,e).then((function(e){return e?new jx(t,e):null}))}}]),e}(),Ax=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this)).firestore=e,r}return hi(n,[{key:"convertBytes",value:function(e){return new Ex(new aw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Dx.forKey(t,this.firestore,null)}}]),n}(ax);var Nx=function(){function e(t,n){fi(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return hi(e,[{key:"get",value:function(e){var t=this,n=Wx(e);return this._delegate.get(n).then((function(e){return new Ux(t._firestore,new Uw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Wx(e);return n?(_x("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wx(e);return this._delegate.delete(t),this}}]),e}(),Px=function(){function e(t){fi(this,e),this._delegate=t}return hi(e,[{key:"set",value:function(e,t,n){var r=Wx(e);return n?(_x("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=Wx(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Wx(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Ox=function(){function e(t,n,r){fi(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return hi(e,[{key:"fromFirestore",value:function(e,t){var n=new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Vx(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Ax(t),n),i.set(n,a)),a}}]),e}();Ox.INSTANCES=new WeakMap;var Dx=function(){function e(t,n){fi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return hi(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new qx(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new qx(this.firestore,Bb(this._delegate,e))}catch(t){throw Mx(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ea(e))instanceof Vb&&Wb(this._delegate,e)}},{key:"set",value:function(e,t){t=_x("DocumentReference.set",t);try{return t?hx(this._delegate,e,t):hx(this._delegate,e)}catch(n){throw Mx(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?px(this._delegate,e):px.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Mx(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return yx(Db(e.firestore,Qb),[new Eh(e._key,fh.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lx(n),a=Fx(n,(function(t){return new Ux(e.firestore,new Uw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return vx(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?fx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Db(e,Vb);var t=Db(e.firestore,Qb);return Eb(Yb(t),e._key,{source:"server"}).then((function(n){return gx(t,e,n)}))}(this._delegate):function(e){e=Db(e,Vb);var t=Db(e.firestore,Qb);return Eb(Yb(t),e._key).then((function(n){return gx(t,e,n)}))}(this._delegate),t.then((function(e){return new Ux(n.firestore,new Uw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ox.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Hl("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Vb(n._delegate,r,new Pf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Vb(n._delegate,r,t))}}]),e}();function Mx(e,t,n){return e.message=e.message.replace(t,n),e}function Lx(e){var t,n=pi(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Tx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Fx(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Tx(e[0])?e[0]:Tx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ux=function(){function e(t,n){fi(this,e),this._firestore=t,this._delegate=n}return hi(e,[{key:"ref",get:function(){return new Dx(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Bw(this._delegate,e._delegate)}}]),e}(),Vx=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Bl()}(void 0!==t),t}}]),n}(Ux),jx=function(){function e(t,n){fi(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Ax(t)}return hi(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Kw(this._delegate,function(e,t,n){var r=t,i=Lw("where",e);return new Hw(i,r,n)}(t,n,r)))}catch(i){throw Mx(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Kw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Lw("orderBy",e);return new Gw(n,t)}(t,n)))}catch(r){throw Mx(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Kw(this._delegate,function(e){return Mb("limit",e),new $w("limit",e,"F")}(t)))}catch(n){throw Mx(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Kw(this._delegate,function(e){return Mb("limitToLast",e),new $w("limitToLast",e,"L")}(t)))}catch(n){throw Mx(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Kw(this._delegate,Yw.apply(void 0,arguments)))}catch(t){throw Mx(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Kw(this._delegate,Xw.apply(void 0,arguments)))}catch(t){throw Mx(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Kw(this._delegate,Zw.apply(void 0,arguments)))}catch(t){throw Mx(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Kw(this._delegate,ex.apply(void 0,arguments)))}catch(t){throw Mx(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Kb(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Db(e,jb);var t=Db(e.firestore,Qb),n=Yb(t),r=new lx(t);return Tb(n,e._query,{source:"server"}).then((function(n){return new jw(t,r,e,n)}))}(this._delegate):function(e){e=Db(e,jb);var t=Db(e.firestore,Qb),n=Yb(t),r=new lx(t);return qw(e._query),Tb(n,e._query).then((function(n){return new jw(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Bx(n.firestore,new jw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Lx(n),a=Fx(n,(function(t){return new Bx(e.firestore,new jw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return vx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ox.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zx=function(){function e(t,n){fi(this,e),this._firestore=t,this._delegate=n}return hi(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Vx(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Bx=function(){function e(t,n){fi(this,e),this._firestore=t,this._delegate=n}return hi(e,[{key:"query",get:function(){return new jx(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Vx(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zx(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Vx(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Bw(this._delegate,e._delegate)}}]),e}(),qx=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return hi(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Dx(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Dx(this.firestore,void 0===e?qb(this._delegate):qb(this._delegate,e))}catch(t){throw Mx(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Db(e.firestore,Qb),r=qb(e),i=ox(e.converter,t);return yx(n,[vw(pw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fh.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Dx(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Wb(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Ox.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(jx);function Wx(e){return Db(e,Vb)}var Kx,Hx=function(){function e(){fi(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_i(iw,n)}return hi(e,[{key:"isEqual",value:function(e){return(e=ea(e))instanceof iw&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(yf.keyField().canonicalString())}}]),e}(),Gx=function(){function e(t){fi(this,e),this._delegate=t}return hi(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new gw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new mw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=wx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=xx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ww("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),$x={Firestore:Rx,GeoPoint:uw,Timestamp:cf,Blob:Ex,Transaction:Nx,WriteBatch:Px,DocumentReference:Dx,DocumentSnapshot:Ux,Query:jx,QueryDocumentSnapshot:Vx,QuerySnapshot:Bx,CollectionReference:qx,FieldPath:Hx,FieldValue:Gx,setLogLevel:function(e){!function(e){Ll.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new sa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$x)))})(Kx=yo,(function(e,t){return new Rx(e,t,new Cx)})),Kx.registerVersion("@firebase/firestore-compat","0.1.16");function Qx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Yx;Object.create;var Xx="facebook.com",Jx="github.com",Zx="google.com",e_="password",t_="twitter.com",n_="EMAIL_SIGNIN",r_="PASSWORD_RESET",i_="RECOVER_EMAIL",a_="REVERT_SECOND_FACTOR_ADDITION",o_="VERIFY_AND_CHANGE_EMAIL",u_="VERIFY_EMAIL";function s_(){return l({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var c_=function(){var e;return l(e={},"admin-restricted-operation","This operation is restricted to administrators only."),l(e,"argument-error",""),l(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),l(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),l(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),l(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),l(e,"cordova-not-ready","Cordova framework is not ready."),l(e,"cors-unsupported","This browser is not supported."),l(e,"credential-already-in-use","This credential is already associated with a different user account."),l(e,"custom-token-mismatch","The custom token corresponds to a different audience."),l(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),l(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),l(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),l(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),l(e,"email-already-in-use","The email address is already in use by another account."),l(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),l(e,"expired-action-code","The action code has expired."),l(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),l(e,"internal-error","An internal AuthError has occurred."),l(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),l(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),l(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),l(e,"invalid-auth-event","An internal AuthError has occurred."),l(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),l(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),l(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),l(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),l(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),l(e,"invalid-email","The email address is badly formatted."),l(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),l(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),l(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),l(e,"invalid-credential","The supplied auth credential is malformed or has expired."),l(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),l(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),l(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),l(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),l(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),l(e,"wrong-password","The password is invalid or the user does not have a password."),l(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),l(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),l(e,"invalid-provider-id","The specified provider ID is invalid."),l(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),l(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),l(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),l(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),l(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),l(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),l(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),l(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),l(e,"missing-continue-uri","A continue URL must be provided in the request."),l(e,"missing-iframe-start","An internal AuthError has occurred."),l(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),l(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),l(e,"missing-multi-factor-info","No second factor identifier is provided."),l(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),l(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),l(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),l(e,"app-deleted","This instance of FirebaseApp has been deleted."),l(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),l(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),l(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),l(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),l(e,"no-auth-event","An internal AuthError has occurred."),l(e,"no-such-provider","User was not linked to an account with the given provider."),l(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),l(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),l(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),l(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),l(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),l(e,"provider-already-linked","User can only be linked to one identity for the given provider."),l(e,"quota-exceeded","The project's quota for this operation has been exceeded."),l(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),l(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),l(e,"rejected-credential","The request contains malformed or mismatching credentials."),l(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),l(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),l(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),l(e,"timeout","The operation has timed out."),l(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),l(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),l(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),l(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),l(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),l(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),l(e,"unverified-email","The operation requires a verified email."),l(e,"user-cancelled","The user did not grant your application the permissions it requested."),l(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),l(e,"user-disabled","The user account has been disabled by an administrator."),l(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),l(e,"user-signed-out",""),l(e,"weak-password","The password must be 6 characters long or more."),l(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),l(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},l_=s_,f_=new Bi("auth","Firebase",s_()),d_=new xa("@firebase/auth");function h_(e){if(d_.logLevel<=ha.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d_.error.apply(d_,["Auth (".concat(ja,"): ").concat(e)].concat(n))}}function p_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw g_.apply(void 0,[e].concat(n))}function v_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return g_.apply(void 0,[e].concat(n))}function m_(e,t,n){var r=Object.assign(Object.assign({},l_()),l({},t,n));return new Bi("auth","Firebase",r).create(t,{appName:e.name})}function y_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p_(e,"argument-error"),m_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function g_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=W(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(W(o)))}return f_.create.apply(f_,[e].concat(n))}function k_(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw g_.apply(void 0,[t].concat(r))}}function b_(e){var t="INTERNAL ASSERTION FAILED: "+e;throw h_(t),new Error(t)}function w_(e,t){e||b_(t)}var x_=new Map;function __(e){w_(e instanceof Function,"Expected a class definition");var t=x_.get(e);return t?(w_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,x_.set(e,t),t)}function S_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function I_(){return"http:"===E_()||"https:"===E_()}function E_(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var T_=function(){function e(t,n){fi(this,e),this.shortDelay=t,this.longDelay=n,w_(n>t,"Short delay should be less than long delay!"),this.isMobile=Mi()||Ui()}return hi(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(I_()||Fi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function C_(e,t){w_(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var R_=function(){function e(){fi(this,e)}return hi(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void b_("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void b_("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void b_("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),A_=(l(Yx={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),l(Yx,"MISSING_CUSTOM_TOKEN","internal-error"),l(Yx,"INVALID_IDENTIFIER","invalid-email"),l(Yx,"MISSING_CONTINUE_URI","internal-error"),l(Yx,"INVALID_PASSWORD","wrong-password"),l(Yx,"MISSING_PASSWORD","internal-error"),l(Yx,"EMAIL_EXISTS","email-already-in-use"),l(Yx,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),l(Yx,"INVALID_IDP_RESPONSE","invalid-credential"),l(Yx,"INVALID_PENDING_TOKEN","invalid-credential"),l(Yx,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),l(Yx,"MISSING_REQ_TYPE","internal-error"),l(Yx,"EMAIL_NOT_FOUND","user-not-found"),l(Yx,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),l(Yx,"EXPIRED_OOB_CODE","expired-action-code"),l(Yx,"INVALID_OOB_CODE","invalid-action-code"),l(Yx,"MISSING_OOB_CODE","internal-error"),l(Yx,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),l(Yx,"INVALID_ID_TOKEN","invalid-user-token"),l(Yx,"TOKEN_EXPIRED","user-token-expired"),l(Yx,"USER_NOT_FOUND","user-token-expired"),l(Yx,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),l(Yx,"INVALID_CODE","invalid-verification-code"),l(Yx,"INVALID_SESSION_INFO","invalid-verification-id"),l(Yx,"INVALID_TEMPORARY_PROOF","invalid-credential"),l(Yx,"MISSING_SESSION_INFO","missing-verification-id"),l(Yx,"SESSION_EXPIRED","code-expired"),l(Yx,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),l(Yx,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),l(Yx,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),l(Yx,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),l(Yx,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),l(Yx,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),l(Yx,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),l(Yx,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),l(Yx,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),l(Yx,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),l(Yx,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Yx),N_=new T_(3e4,6e4);function P_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function O_(e,t,n,r){return D_.apply(this,arguments)}function D_(){return D_=ua(Ei().mark((function e(t,n,r,i){var a,o=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",M_(t,a,ua(Ei().mark((function e(){var a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=$i(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",R_.fetch()(V_(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function M_(e,t,n){return L_.apply(this,arguments)}function L_(){return L_=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s,l,f,d,h,p;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},A_),n),e.prev=2,a=new j_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw z_(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw z_(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw z_(t,"email-already-in-use",u);case 25:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw m_(t,p,h);case 30:p_(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof zi)){e.next=37;break}throw e.t0;case 37:p_(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),L_.apply(this,arguments)}function F_(e,t,n,r){return U_.apply(this,arguments)}function U_(){return U_=ua(Ei().mark((function e(t,n,r,i){var a,o,u=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,O_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&p_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?C_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var j_=function(){function e(t){var n=this;fi(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(v_(n.auth,"network-request-failed"))}),N_.get())}))}return hi(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function z_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=v_(e,t,r);return i.customData._tokenResponse=n,i}function B_(e,t){return q_.apply(this,arguments)}function q_(){return q_=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function W_(e,t){return K_.apply(this,arguments)}function K_(){return K_=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function H_(e,t){return G_.apply(this,arguments)}function G_(){return G_=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function $_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Q_(){return Q_=ua(Ei().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ea(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,k_((a=X_(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:$_(Y_(a.auth_time)),issuedAtTime:$_(Y_(a.iat)),expirationTime:$_(Y_(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function Y_(e){return 1e3*Number(e)}function X_(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return h_("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ai(r);return a?JSON.parse(a):(h_("Failed to decode base64 JWT payload"),null)}catch(o){return h_("Caught error parsing JWT payload as JSON",o),null}}function J_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=ua(Ei().mark((function e(t,n){var r=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof zi&&eS(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Z_.apply(this,arguments)}function eS(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var tS=function(){function e(t){fi(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return hi(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),nS=function(){function e(t,n){fi(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return hi(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=$_(this.lastLoginAt),this.creationTime=$_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function rS(e){return iS.apply(this,arguments)}function iS(){return iS=ua(Ei().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,J_(t,H_(r,{idToken:i}));case 6:k_(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?uS(o.providerUserInfo):[],s=oS(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new nS(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(){return(aS=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ea(t),e.next=3,rS(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oS(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(W(n),W(t))}function uS(e){return e.map((function(e){var t=e.providerId,n=Qx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sS(e,t){return cS.apply(this,arguments)}function cS(){return cS=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M_(t,{},ua(Ei().mark((function e(){var r,i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$i({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=V_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",R_.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}var lS=function(){function e(){fi(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return hi(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){k_(e.idToken,"internal-error"),k_("undefined"!==typeof e.idToken,"internal-error"),k_("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=X_(e);return k_(t,"internal-error"),k_("undefined"!==typeof t.exp,"internal-error"),k_("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ua(Ei().mark((function e(t){var n,r=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],k_(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sS(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return b_("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(k_("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(k_("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(k_("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function fS(e,t){k_("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var dS=function(){function e(t){fi(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Qx(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?W(a.providerData):[],this.metadata=new nS(a.createdAt||void 0,a.lastLoginAt||void 0)}return hi(e,[{key:"getIdToken",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(k_(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Q_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return aS.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(k_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){k_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ua(Ei().mark((function e(t){var n,r,i=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,rS(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,J_(this,B_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;k_(k&&_,t,"internal-error");var S=lS.fromJSON(this.name,_);k_("string"===typeof k,t,"internal-error"),fS(f,t.name),fS(d,t.name),k_("boolean"===typeof b,t,"internal-error"),k_("boolean"===typeof w,t,"internal-error"),fS(h,t.name),fS(p,t.name),fS(v,t.name),fS(m,t.name),fS(y,t.name),fS(g,t.name);var I=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=ua(Ei().mark((function t(n,r){var i,a,o,u=arguments;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new lS).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,rS(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),hS=function(){function e(){fi(this,e),this.type="NONE",this.storage={}}return hi(e,[{key:"_isAvailable",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();hS.type="NONE";var pS=hS;function vS(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var mS=function(){function e(t,n,r){fi(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=vS(this.userKey,a.apiKey,o),this.fullPersistenceKey=vS("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return hi(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?dS._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ua(Ei().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(__(pS),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||__(pS),u=vS(i,n.config.apiKey,n.name),s=null,c=pi(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=dS._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function yS(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_S(t))return"Blackberry";if(SS(t))return"Webos";if(kS(t))return"Safari";if((t.includes("chrome/")||bS(t))&&!t.includes("edge/"))return"Chrome";if(xS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function gS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/firefox\//i.test(e)}function kS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/crios\//i.test(e)}function wS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/iemobile/i.test(e)}function xS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/android/i.test(e)}function _S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/blackberry/i.test(e)}function SS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/webos/i.test(e)}function IS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/iphone|ipad|ipod/i.test(e)}function ES(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return IS(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function TS(){return Vi()&&10===document.documentMode}function CS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return IS(e)||xS(e)||SS(e)||_S(e)||/windows phone/i.test(e)||wS(e)}function RS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yS(Di());break;case"Worker":t="".concat(yS(Di()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ja,"/").concat(r)}var AS=function(){function e(t,n,r){fi(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return hi(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=__(t)),this._initializationPromise=this.queue(ua(Ei().mark((function r(){var i,a;return Ei().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,mS.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ua(Ei().mark((function e(t){var n,r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return k_(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rS(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ea(t):null)&&k_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ua(Ei().mark((function e(t){var n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&k_(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(__(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Bi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return k_(n=t&&__(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,mS.create(this,[__(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ua(Ei().mark((function e(t){var n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k_(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return k_(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ua(Ei().mark((function e(){var t,n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function NS(e){return ea(e)}var PS=function(){function e(t){var n=this;fi(this,e),this.auth=t,this.observer=null,this.addObserver=Xi((function(e){return n.observer=e}))}return hi(e,[{key:"next",get:function(){return k_(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function OS(e,t,n){var r=NS(e);k_(r._canInitEmulator,r,"emulator-config-failed"),k_(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=DS(t),o=function(e){var t=DS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:MS(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:MS(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function DS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function MS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var LS=function(){function e(t,n){fi(this,e),this.providerId=t,this.signInMethod=n}return hi(e,[{key:"toJSON",value:function(){return b_("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return b_("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return b_("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return b_("not implemented")}}]),e}();function FS(e,t){return US.apply(this,arguments)}function US(){return US=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:resetPassword",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t){return jS.apply(this,arguments)}function jS(){return jS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function zS(e,t){return BS.apply(this,arguments)}function BS(){return BS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:update",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t){return WS.apply(this,arguments)}function WS(){return WS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithPassword",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),WS.apply(this,arguments)}function KS(e,t){return HS.apply(this,arguments)}function HS(){return HS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:sendOobCode",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function GS(e,t){return $S.apply(this,arguments)}function $S(){return $S=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}function QS(e,t){return YS.apply(this,arguments)}function YS(){return YS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return eI.apply(this,arguments)}function eI(){return eI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KS(t,n));case 1:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e,t){return nI.apply(this,arguments)}function nI(){return nI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithEmailLink",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),nI.apply(this,arguments)}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithEmailLink",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}var aI=function(e){yi(n,e);var t=xi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return fi(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return hi(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qS(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tI(t,{email:this._email,oobCode:this._password}));case 5:p_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",VS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rI(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:p_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(LS);function oI(e,t){return uI.apply(this,arguments)}function uI(){return uI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithIdp",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}var sI=function(e){yi(n,e);var t=xi(n);function n(){var e;return fi(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return hi(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return oI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oI(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$i(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Qx(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(LS);function cI(e,t){return lI.apply(this,arguments)}function lI(){return lI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:sendVerificationCode",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(){return fI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithPhoneNumber",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function dI(){return dI=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F_(t,"POST","/v1/accounts:signInWithPhoneNumber",P_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw z_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}var hI=l({},"USER_NOT_FOUND","user-not-found");function pI(){return pI=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithPhoneNumber",P_(t,r),hI));case 2:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}var vI=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this,"phone","phone")).params=e,r}return hi(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return fI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return dI.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return pI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(LS);var mI=function(){function e(t){var n,r,i,a,o,u;fi(this,e);var s=Qi(Yi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);k_(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return hi(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qi(Yi(e)).link,n=t?Qi(Yi(t)).deep_link_id:null,r=Qi(Yi(e)).deep_link_id;return(r?Qi(Yi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Fk){return null}}}]),e}();var yI=function(){function e(){fi(this,e),this.providerId=e.PROVIDER_ID}return hi(e,null,[{key:"credential",value:function(e,t){return aI._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=mI.parseLink(t);return k_(n,"argument-error"),aI._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();yI.PROVIDER_ID="password",yI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",yI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var gI=function(){function e(t){fi(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return hi(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),kI=function(e){yi(n,e);var t=xi(n);function n(){var e;return fi(this,n),(e=t.apply(this,arguments)).scopes=[],e}return hi(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return W(this.scopes)}}]),n}(gI),bI=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return k_(e.idToken||e.accessToken,"argument-error"),sI._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return k_("providerId"in t&&"signInMethod"in t,"argument-error"),sI._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(kI),wI=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.call(this,"facebook.com")}return hi(n,null,[{key:"credential",value:function(e){return sI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fk){return null}}}]),n}(kI);wI.FACEBOOK_SIGN_IN_METHOD="facebook.com",wI.PROVIDER_ID="facebook.com";var xI=function(e){yi(n,e);var t=xi(n);function n(){var e;return fi(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return hi(n,null,[{key:"credential",value:function(e,t){return sI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Fk){return null}}}]),n}(kI);xI.GOOGLE_SIGN_IN_METHOD="google.com",xI.PROVIDER_ID="google.com";var _I=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.call(this,"github.com")}return hi(n,null,[{key:"credential",value:function(e){return sI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Fk){return null}}}]),n}(kI);_I.GITHUB_SIGN_IN_METHOD="github.com",_I.PROVIDER_ID="github.com";var SI=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return hi(n,[{key:"_getIdTokenResponse",value:function(e){return oI(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,oI(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,oI(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(LS),II=function(e){yi(n,e);var t=xi(n);function n(e){return fi(this,n),k_(e.startsWith("saml."),"argument-error"),t.call(this,e)}return hi(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=SI.fromJSON(e);return k_(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return SI._create(r,n)}catch(i){return null}}}]),n}(gI),EI=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.call(this,"twitter.com")}return hi(n,null,[{key:"credential",value:function(e,t){return sI._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Fk){return null}}}]),n}(kI);function TI(e,t){return CI.apply(this,arguments)}function CI(){return CI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signUp",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),CI.apply(this,arguments)}EI.TWITTER_SIGN_IN_METHOD="twitter.com",EI.PROVIDER_ID="twitter.com";var RI=function(){function e(t){fi(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return hi(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ua(Ei().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,dS._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=AI(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ua(Ei().mark((function t(n,r,i){var a;return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=AI(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function AI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function NI(){return NI=ua(Ei().mark((function e(t){var n,r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new RI({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,TI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,RI._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}var PI=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a){var o,u;return fi(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(vi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return hi(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(zi);function OI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw PI._fromErrorAndOperation(e,n,t,r);throw n}))}function DI(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function MI(e,t){return LI.apply(this,arguments)}function LI(){return LI=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,VI(!0,r,n);case 3:return e.t0=W_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=DI(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function FI(e,t){return UI.apply(this,arguments)}function UI(){return UI=ua(Ei().mark((function e(t,n){var r,i,a=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=J_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",RI._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function VI(e,t,n){return jI.apply(this,arguments)}function jI(){return(jI=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rS(n);case 2:i=DI(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",k_(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t){return BI.apply(this,arguments)}function BI(){return BI=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,J_(t,OI(i,a,n,t),r);case 6:return k_((o=e.sent).idToken,i,"internal-error"),k_(u=X_(o.idToken),i,"internal-error"),s=u.sub,k_(t.uid===s,i,"user-mismatch"),e.abrupt("return",RI._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&p_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),BI.apply(this,arguments)}function qI(e,t){return WI.apply(this,arguments)}function WI(){return WI=ua(Ei().mark((function e(t,n){var r,i,a,o,u=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,OI(t,i,n);case 4:return a=e.sent,e.next=7,RI._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function KI(e,t){return HI.apply(this,arguments)}function HI(){return HI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qI(NS(t),n));case 1:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function GI(e,t){return $I.apply(this,arguments)}function $I(){return($I=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,VI(!1,r,n.providerId);case 3:return e.abrupt("return",FI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QI(e,t){return YI.apply(this,arguments)}function YI(){return(YI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zI(ea(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XI(e,t){return JI.apply(this,arguments)}function JI(){return JI=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F_(t,"POST","/v1/accounts:signInWithCustomToken",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function ZI(){return ZI=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=NS(t),e.next=3,XI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,RI._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}var eE=function(){function e(t,n){fi(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return hi(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?tE._fromServerResponse(e,t):p_(e,"internal-error")}}]),e}(),tE=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return hi(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(eE);function nE(e,t,n){var r;k_((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),k_("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k_(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k_(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function rE(){return rE=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),a={requestType:"PASSWORD_RESET",email:n},r&&nE(i,a,r),e.next=5,QS(i,a);case 5:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(){return iE=ua(Ei().mark((function e(t,n,r){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FS(ea(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(){return aE=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zS(ea(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return uE.apply(this,arguments)}function uE(){return uE=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,FS(r,{oobCode:n});case 3:i=e.sent,k_(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return k_(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:k_(i.mfaInfo,r,"internal-error");case 13:k_(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=eE._fromServerResponse(NS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function sE(){return sE=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oE(ea(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t,n){return lE.apply(this,arguments)}function lE(){return lE=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),e.next=3,TI(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,RI._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(){return fE=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),a={requestType:"EMAIL_SIGNIN",email:n},k_(r.handleCodeInApp,i,"argument-error"),r&&nE(i,a,r),e.next=6,XS(i,a);case 6:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(){return dE=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),k_((a=yI.credentialWithLink(n,r||S_()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",KI(i,a));case 4:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function hE(e,t){return pE.apply(this,arguments)}function pE(){return pE=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:createAuthUri",P_(t,n)));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(){return vE=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I_()?S_():"http://localhost",i={identifier:n,continueUri:r},e.next=4,hE(ea(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(){return(mE=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&nE(r.auth,a,n),e.next=8,GS(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yE(){return(yE=ua(Ei().mark((function e(t,n,r){var i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&nE(i.auth,o,r),e.next=8,ZS(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gE(e,t){return kE.apply(this,arguments)}function kE(){return kE=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(){return(bE=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s,c;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ea(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,J_(a,gE(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=ua(Ei().mark((function e(t,n,r){var i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,J_(t,VS(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}var _E=hi((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fi(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),SE=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a){var o;return fi(this,n),(o=t.call(this,e,r,i)).username=a,o}return hi(n)}(_E),IE=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"facebook.com",r)}return hi(n)}(_E),EE=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return hi(n)}(SE),TE=function(e){yi(n,e);var t=xi(n);function n(e,r){return fi(this,n),t.call(this,e,"google.com",r)}return hi(n)}(_E),CE=function(e){yi(n,e);var t=xi(n);function n(e,r,i){return fi(this,n),t.call(this,e,"twitter.com",r,i)}return hi(n)}(SE);function RE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=X_(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new _E(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new IE(a,i);case"github.com":return new EE(a,i);case"google.com":return new TE(a,i);case"twitter.com":return new CE(a,i,e.screenName||null);case"custom":case"anonymous":return new _E(a,null);default:return new _E(a,r,i)}}(n)}var AE=function(){function e(t,n){fi(this,e),this.type=t,this.credential=n}return hi(e,[{key:"toJSON",value:function(){return{multiFactorSession:l({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),NE=function(){function e(t,n,r){fi(this,e),this.session=t,this.hints=n,this.signInResolver=r}return hi(e,[{key:"resolveSignIn",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=NS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return eE._fromServerResponse(r,e)}));k_(i.mfaPendingCredential,r,"internal-error");var o=AE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ua(Ei().mark((function e(t){var a,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,RI._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return k_(n.user,r,"internal-error"),e.abrupt("return",RI._forOperation(n.user,n.operationType,u));case 17:p_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function PE(e,t){return O_(e,"POST","/v2/accounts/mfaEnrollment:start",P_(e,t))}function OE(e,t){return O_(e,"POST","/v2/accounts/mfaEnrollment:withdraw",P_(e,t))}var DE=function(){function e(t){var n=this;fi(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return eE._fromServerResponse(t.auth,e)})))}))}return hi(e,[{key:"getSession",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=AE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,J_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ua(Ei().mark((function e(t){var n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,J_(this.user,OE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ME=new WeakMap;var LE="__sak",FE=function(){function e(t,n){fi(this,e),this.storageRetriever=t,this.type=n}return hi(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(LE,"1"),this.storage.removeItem(LE),Promise.resolve(!0)):Promise.resolve(!1)}catch(Fk){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var UE=function(e){yi(n,e);var t=xi(n);function n(){var e;return fi(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Di();return kS(e)||IS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=CS(),e._shouldAllowMigration=!0,e}return hi(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);TS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ua(Ei().mark((function e(t,r){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(gi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ua(Ei().mark((function e(t){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(gi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(gi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(FE);UE.type="LOCAL";var VE=UE,jE=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return hi(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(FE);jE.type="SESSION";var zE=jE;function BE(e){return Promise.all(e.map(function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var qE=function(){function e(t){fi(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return hi(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ua(Ei().mark((function e(t){var n,r,i,a,o,u,s,c;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,BE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function WE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}qE.receivers=[];var KE=function(){function e(t){fi(this,e),this.target=t,this.handlers=new Set}return hi(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=WE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function HE(){return window}function GE(){return"undefined"!==typeof HE().WorkerGlobalScope&&"function"===typeof HE().importScripts}function $E(){return QE.apply(this,arguments)}function QE(){return(QE=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function YE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var XE="firebaseLocalStorageDb",JE="firebaseLocalStorage",ZE="fbase_key",eT=function(){function e(t){fi(this,e),this.request=t}return hi(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function tT(e,t){return e.transaction([JE],t?"readwrite":"readonly").objectStore(JE)}function nT(){var e=indexedDB.deleteDatabase(XE);return new eT(e).toPromise()}function rT(){var e=indexedDB.open(XE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(JE,{keyPath:ZE})}catch(r){n(r)}})),e.addEventListener("success",ua(Ei().mark((function n(){var r;return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(JE)){n.next=12;break}return r.close(),n.next=5,nT();case 5:return n.t0=t,n.next=8,rT();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return aT=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tT(t,!0).put((l(i={},ZE,n),l(i,"value",r),i)),e.abrupt("return",new eT(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e,t){return uT.apply(this,arguments)}function uT(){return uT=ua(Ei().mark((function e(t,n){var r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tT(t,!1).get(n),e.next=3,new eT(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t){var n=tT(e,!0).delete(t);return new eT(n).toPromise()}var cT=function(){function e(){fi(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return hi(e,[{key:"_openDb",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,rT();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ua(Ei().mark((function e(){var t=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=qE._getInstance(GE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ua(Ei().mark((function e(n,r){var i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ua(Ei().mark((function e(){var t,n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$E();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new KE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&YE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,rT();case 5:return t=e.sent,e.next=8,iT(t,LE,"1");case 8:return e.next=10,sT(t,LE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ua(Ei().mark((function e(t,n){var r=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return iT(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return oT(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ua(Ei().mark((function e(t){var n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return sT(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=tT(e,!1).getAll();return new eT(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=pi(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ua(Ei().mark((function t(){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();cT.type="LOCAL";var lT=cT;function fT(e,t){return O_(e,"POST","/v2/accounts/mfaSignIn:start",P_(e,t))}function dT(e){return hT.apply(this,arguments)}function hT(){return hT=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O_(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function pT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=v_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function vT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var mT=1e12,yT=function(){function e(t){fi(this,e),this.auth=t,this.counter=mT,this._widgets=new Map}return hi(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new gT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||mT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||mT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||mT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gT=function(){function e(t,n,r){var i=this;fi(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;k_(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return hi(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var kT=vT("rcb"),bT=new T_(3e4,6e4),wT="https://www.google.com/recaptcha/api.js?",xT=function(){function e(){fi(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!HE().grecaptcha}return hi(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return k_(_T(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(HE().grecaptcha):new Promise((function(r,i){var a=HE().setTimeout((function(){i(v_(e,"network-request-failed"))}),bT.get());HE()[kT]=function(){HE().clearTimeout(a),delete HE()[kT];var o=HE().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(v_(e,"internal-error"))},pT("".concat(wT,"?").concat($i({onload:kT,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(v_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!HE().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function _T(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ST=function(){function e(){fi(this,e)}return hi(e,[{key:"load",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new yT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),IT="recaptcha",ET={theme:"light",type:"image"},TT=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ET),r=arguments.length>2?arguments[2]:void 0;fi(this,e),this.parameters=n,this.type=IT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=NS(r),this.isInvisible="invisible"===this.parameters.size,k_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;k_(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ST:new xT,this.validateStartingState()}return hi(e,[{key:"verify",value:function(){var e=ua(Ei().mark((function e(){var t,n,r,i=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){k_(!this.parameters.sitekey,this.auth,"argument-error"),k_(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k_("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=HE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){k_(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ua(Ei().mark((function e(){var t,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k_(I_()&&!GE(),this.auth,"internal-error"),e.next=3,CT();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,dT(this.auth);case 8:k_(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return k_(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function CT(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var RT=function(){function e(t,n){fi(this,e),this.verificationId=t,this.onConfirmation=n}return hi(e,[{key:"confirm",value:function(e){var t=vI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function AT(){return AT=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),e.next=3,DT(i,n,ea(r));case 3:return a=e.sent,e.abrupt("return",new RT(a,(function(e){return KI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e,t,n){return PT.apply(this,arguments)}function PT(){return(PT=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),e.next=3,VI(!1,i,"phone");case 3:return e.next=5,DT(i.auth,n,ea(r));case 5:return a=e.sent,e.abrupt("return",new RT(a,(function(e){return GI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OT(){return(OT=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),e.next=3,DT(i.auth,n,ea(r));case 3:return a=e.sent,e.abrupt("return",new RT(a,(function(e){return QI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DT(e,t,n){return MT.apply(this,arguments)}function MT(){return MT=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,k_("string"===typeof a,t,"argument-error"),k_(r.type===IT,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return k_("enroll"===u.type,t,"internal-error"),e.next=13,PE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return k_("signin"===u.type,t,"internal-error"),k_(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,fT(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,cI(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),MT.apply(this,arguments)}function LT(){return(LT=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FI(ea(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var FT=function(){function e(t){fi(this,e),this.providerId=e.PROVIDER_ID,this.auth=NS(t)}return hi(e,[{key:"verifyPhoneNumber",value:function(e,t){return DT(this.auth,e,ea(t))}}],[{key:"credential",value:function(e,t){return vI._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?vI._fromTokenResponse(n,r):null}}]),e}();function UT(e,t){return t?__(t):(k_(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}FT.PROVIDER_ID="phone",FT.PHONE_SIGN_IN_METHOD="phone";var VT=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this,"custom","custom")).params=e,r}return hi(n,[{key:"_getIdTokenResponse",value:function(e){return oI(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return oI(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return oI(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(LS);function jT(e){return qI(e.auth,new VT(e),e.bypassAuthState)}function zT(e){var t=e.auth,n=e.user;return k_(n,t,"internal-error"),zI(n,new VT(e),e.bypassAuthState)}function BT(e){return qT.apply(this,arguments)}function qT(){return qT=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,k_(r=t.user,n,"internal-error"),e.abrupt("return",FI(r,new VT(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}var WT=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];fi(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return hi(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ua(Ei().mark((function t(n,r){return Ei().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ua(Ei().mark((function e(t){var n,r,i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jT;case"linkViaPopup":case"linkViaRedirect":return BT;case"reauthViaPopup":case"reauthViaRedirect":return zT;default:p_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){w_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){w_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),KT=new T_(2e3,1e4);function HT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),y_(t,n,gI),a=UT(i,r),o=new XT(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function $T(){return($T=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y_((i=ea(t)).auth,n,gI),a=UT(i.auth,r),o=new XT(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QT(e,t,n){return YT.apply(this,arguments)}function YT(){return(YT=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y_((i=ea(t)).auth,n,gI),a=UT(i.auth,r),o=new XT(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XT=function(e){yi(n,e);var t=xi(n);function n(e,r,i,a,o){var u;return fi(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=vi(u),u}return hi(n,[{key:"executeNotNull",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return k_(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ua(Ei().mark((function e(){var t,n=this;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w_(1===this.filter.length,"Popup operations only handle one event"),t=WE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(v_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(v_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(v_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,KT.get())}()}}]),n}(WT);XT.currentPopupAction=null;var JT=new Map,ZT=function(e){yi(n,e);var t=xi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return fi(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return hi(n,[{key:"execute",value:function(){var e=ua(Ei().mark((function e(){var t,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JT.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,eC(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ko(gi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:JT.set(this.auth._key(),t);case 21:return this.bypassAuthState||JT.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ua(Ei().mark((function e(t){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ko(gi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ko(gi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(WT);function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=ua(Ei().mark((function e(t,n){var r,i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=aC(n),i=iC(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iC(t)._set(aC(n),"true"));case 1:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e){return __(e._redirectPersistence)}function aC(e){return vS("pendingRedirect",e.config.apiKey,e.name)}function oC(e,t,n){return function(e,t,n){return uC.apply(this,arguments)}(e,t,n)}function uC(){return uC=ua(Ei().mark((function e(t,n,r){var i,a;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NS(t),y_(t,n,gI),a=UT(i,r),e.next=5,nC(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t,n){return function(e,t,n){return cC.apply(this,arguments)}(e,t,n)}function cC(){return(cC=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y_((i=ea(t)).auth,n,gI),a=UT(i.auth,r),e.next=5,nC(a,i.auth);case 5:return e.next=7,mC(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lC(e,t,n){return function(e,t,n){return fC.apply(this,arguments)}(e,t,n)}function fC(){return(fC=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y_((i=ea(t)).auth,n,gI),a=UT(i.auth,r),e.next=5,VI(!1,i,n.providerId);case 5:return e.next=7,nC(a,i.auth);case 7:return e.next=9,mC(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(e,t){return hC.apply(this,arguments)}function hC(){return hC=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NS(t)._initializationPromise;case 2:return e.abrupt("return",pC(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function pC(e,t){return vC.apply(this,arguments)}function vC(){return vC=ua(Ei().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=NS(t),a=UT(i,n),o=new ZT(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function mC(e){return yC.apply(this,arguments)}function yC(){return(yC=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=WE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gC=function(){function e(t){fi(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return hi(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(v_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wC(e){return xC.apply(this,arguments)}function xC(){return xC=ua(Ei().mark((function e(t){var n,r=arguments;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",O_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}var _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;function IC(){return IC=ua(Ei().mark((function e(t){var n,r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wC(t);case 4:n=e.sent,r=n.authorizedDomains,i=pi(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!EC(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:p_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),IC.apply(this,arguments)}function EC(e){var t=S_(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!SC.test(r))return!1;if(_C.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var TC=new T_(3e4,6e4);function CC(){var e=HE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=W(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var RC=null;function AC(e){return RC=RC||function(e){return new Promise((function(t,n){var r,i,a;function o(){CC(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){CC(),n(v_(e,"network-request-failed"))},timeout:TC.get()})}if(null===(i=null===(r=HE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=HE().gapi)||void 0===a?void 0:a.load)){var u=vT("iframefcb");return HE()[u]=function(){gapi.load?o():n(v_(e,"network-request-failed"))},pT("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw RC=null,e}))}(e),RC}var NC=new T_(5e3,15e3),PC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(e){var t=e.config;k_(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?C_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ja},i=OC.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat($i(r).slice(1))}function MC(e){return LC.apply(this,arguments)}function LC(){return LC=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AC(t);case 2:return n=e.sent,k_(r=HE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:DC(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PC,dontclear:!0},(function(e){return new Promise(function(){var n=ua(Ei().mark((function n(r,i){var a,o,u;return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){HE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=v_(t,"network-request-failed"),o=HE().setTimeout((function(){i(a)}),NC.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}var FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC="_blank",VC="http://localhost",jC=function(){function e(t){fi(this,e),this.window=t,this.associatedEvent=null}return hi(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function zC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},FC),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Di().toLowerCase();n&&(u=bS(l)?UC:n),gS(l)&&(t=t||VC,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ES(l)&&"_self"!==u)return BC(t||"",u),new jC(null);var d=window.open(t||"",u,f);k_(d,e,"popup-blocked");try{d.focus()}catch(h){}return new jC(d)}function BC(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qC="__/auth/handler",WC="emulator/auth/handler";function KC(e,t,n,r,i,a){k_(e.config.authDomain,e,"auth-domain-config-required"),k_(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ja,eventId:i};if(t instanceof gI){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof kI){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qC);return C_(t,WC)}(e),"?").concat($i(p).slice(1))}var HC="webStorageSupport",GC=function(){function e(){fi(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zE,this._completeRedirectFn=pC}return hi(e,[{key:"_openPopup",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){var a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w_(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=KC(t,n,r,S_(),i),e.abrupt("return",zC(t,o,WE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=KC(t,n,r,S_(),i),HE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(w_(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MC(t);case 2:return n=e.sent,r=new gC(t),n.register("authEvent",(function(e){return k_(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(HC,{type:HC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return IC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return CS()||kS()||IS()}}]),e}(),$C=GC,QC=function(){function e(t){fi(this,e),this.factorId=t}return hi(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b_("unexpected MultiFactorSessionType")}}}]),e}(),YC=function(e){yi(n,e);var t=xi(n);function n(e){var r;return fi(this,n),(r=t.call(this,"phone")).credential=e,r}return hi(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return O_(e,"POST","/v2/accounts/mfaEnrollment:finalize",P_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return O_(e,"POST","/v2/accounts/mfaSignIn:finalize",P_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(QC),XC=function(){function e(){fi(this,e)}return hi(e,null,[{key:"assertion",value:function(e){return YC._fromCredential(e)}}]),e}();XC.FACTOR_ID="phone";var JC,ZC="@firebase/auth",eR="0.19.11",tR=function(){function e(t){fi(this,e),this.auth=t,this.internalListeners=new Map}return hi(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){k_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function nR(){return window}JC="Browser",Oa(new sa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){k_(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),k_(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:JC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(JC)},i=new AS(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(__);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Oa(new sa("auth-internal",(function(e){return function(e){return new tR(e)}(NS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(ZC,eR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(JC)),Ha(ZC,eR,"esm2017");function rR(e,t,n){return iR.apply(this,arguments)}function iR(){return iR=ua(Ei().mark((function e(t,n,r){var i,a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nR(),o=a.BuildInfo,w_(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,lR(n.sessionId);case 4:return u=e.sent,s={},IS()?s.ibi=o.packageName:xS()?s.apn=o.packageName:p_(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",KC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),iR.apply(this,arguments)}function aR(){return aR=ua(Ei().mark((function e(t){var n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nR(),r=n.BuildInfo,i={},IS()?i.iosBundleId=r.packageName:xS()?i.androidPackageName=r.packageName:p_(t,"operation-not-supported-in-this-environment"),e.next=5,wC(t,i);case 5:case"end":return e.stop()}}),e)}))),aR.apply(this,arguments)}function oR(e){var t=nR().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function uR(e,t,n){return sR.apply(this,arguments)}function sR(){return sR=ua(Ei().mark((function e(t,n,r){var i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nR(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(v_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),xS()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sR.apply(this,arguments)}function cR(e){var t,n,r,i,a,o,u,s,c,l,f=nR();k_("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),k_("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),k_("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),k_("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),k_("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function lR(e){return fR.apply(this,arguments)}function fR(){return(fR=ua(Ei().mark((function e(t){var n,r,i;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dR(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e){if(w_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hR=function(e){yi(n,e);var t=xi(n);function n(){var e;return fi(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return hi(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ko(gi(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gC);function pR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:kR(),postBody:null,tenantId:e.tenantId,error:v_(e,"no-auth-event")}}function vR(e,t){return bR()._set(wR(e),t)}function mR(e){return yR.apply(this,arguments)}function yR(){return yR=ua(Ei().mark((function e(t){var n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bR()._get(wR(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bR()._remove(wR(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yR.apply(this,arguments)}function gR(e,t){var n,r,i=function(e){var t=xR(e),n=t.link?decodeURIComponent(t.link):void 0,r=xR(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xR(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=xR(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?v_(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function kR(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function bR(){return __(VE)}function wR(e){return vS("authEvent",e.config.apiKey,e.name)}function xR(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||q(t)||u(t)||s();r[0];return Qi(r.slice(1).join("?"))}var _R=function(){function e(){fi(this,e),this._redirectPersistence=zE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pC}return hi(e,[{key:"_initialize",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hR(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){p_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){var a,o,u,s;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cR(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),JT.clear(),e.next=10,this._originValidation(t);case 10:return o=pR(t,r,i),e.next=13,vR(t,o);case 13:return e.next=15,rR(t,o,n);case 15:return u=e.sent,e.next=18,oR(u);case 18:return s=e.sent,e.abrupt("return",uR(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return aR.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=nR(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ua(Ei().mark((function n(){return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mR(e);case 2:t.onEvent(IR());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ua(Ei().mark((function n(r){var i,a;return Ei().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,mR(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=gR(i,r.url)),t.onEvent(a||IR());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");nR().handleOpenURL=function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),SR=_R;function IR(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:v_("no-auth-event")}}function ER(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function TR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return!("file:"!==ER()&&"ionic:"!==ER()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function CR(){return Vi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function RR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return/Edge\/\d+/.test(e)}function AR(){try{var e=self.localStorage,t=WE();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Di();return CR()||RR(e)}()||ji()}catch(n){return NR()&&ji()}return!1}function NR(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function PR(){return("http:"===ER()||"https:"===ER()||Fi()||TR())&&!(Ui()||Li())&&AR()&&!NR()}function OR(){return TR()&&"undefined"!==typeof document}function DR(){return MR.apply(this,arguments)}function MR(){return(MR=ua(Ei().mark((function e(){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OR()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LR={LOCAL:"local",NONE:"none",SESSION:"session"},FR=k_,UR="persistence";function VR(e,t){FR(Object.values(LR).includes(t),e,"invalid-persistence-type"),Ui()?FR(t!==LR.SESSION,e,"unsupported-persistence-type"):Li()?FR(t===LR.NONE,e,"unsupported-persistence-type"):NR()?FR(t===LR.NONE||t===LR.LOCAL&&ji(),e,"unsupported-persistence-type"):FR(t===LR.NONE||AR(),e,"unsupported-persistence-type")}function jR(e){return zR.apply(this,arguments)}function zR(){return zR=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=BR(),r=vS(UR,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),zR.apply(this,arguments)}function BR(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qR=k_,WR=function(){function e(){fi(this,e),this.browserResolver=__($C),this.cordovaResolver=__(SR),this.underlyingResolver=null,this._redirectPersistence=zE,this._completeRedirectFn=pC}return hi(e,[{key:"_initialize",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ua(Ei().mark((function e(t,n,r,i){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return OR()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qR(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,DR();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function KR(e){return e.unwrap()}function HR(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new XR(e,function(e,t){var n,r=ea(e),i=t;return k_(t.customData.operationType,r,"argument-error"),k_(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),NE._fromError(r,i)}(e,t));else if(r){var i=GR(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function GR(e){var t=(e instanceof zi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof zi)&&"temporaryProof"in t&&"phoneNumber"in t)return FT.credentialFromResult(e);var n,r=t.providerId;if(!r||r===e_)return null;switch(r){case Zx:n=xI;break;case Xx:n=wI;break;case Jx:n=_I;break;case t_:n=EI;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?SI._create(r,u):sI._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new bI(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof zi?n.credentialFromError(e):n.credentialFromResult(e)}function $R(e,t){return t.catch((function(t){throw t instanceof zi&&HR(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,GR(t)),additionalUserInfo:RE(e),user:JR.getOrCreate(r)}}))}function QR(e,t){return YR.apply(this,arguments)}function YR(){return YR=ua(Ei().mark((function e(t,n){var r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $R(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}var XR=function(){function e(t,n){fi(this,e),this.resolver=n,this.auth=t.wrapped()}return hi(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $R(KR(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),JR=function(){function e(t){fi(this,e),this._delegate=t,this.multiFactor=function(e){var t=ea(e);return ME.has(t)||ME.set(t,DE._fromUser(t)),ME.get(t)}(t)}return hi(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(this.auth,GI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QR(this.auth,NT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(this.auth,QT(this._delegate,t,WR)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jR(NS(this.auth));case 2:return e.abrupt("return",lC(this._delegate,t,WR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(this.auth,QI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return QR(this.auth,function(e,t,n){return OT.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $R(this.auth,function(e,t,n){return $T.apply(this,arguments)}(this._delegate,e,WR))}},{key:"reauthenticateWithRedirect",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jR(NS(this.auth));case 2:return e.abrupt("return",sC(this._delegate,t,WR));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return mE.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MI(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return wE(ea(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return wE(ea(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return LT.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return bE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return yE.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();JR.USER_MAP=new WeakMap;var ZR=k_,eA=function(){function e(t,n){if(fi(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ZR(r,"invalid-api-key",{appName:t.name}),ZR(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?WR:void 0;this._delegate=n.initialize({options:{persistence:nA(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(c_),this.linkUnderlyingAuth()}return hi(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?JR.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){OS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return aE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return oE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return iE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ua(Ei().mark((function e(t,n){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$R(this._delegate,cE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return vE.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=mI.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ua(Ei().mark((function e(){var t;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZR(PR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dC(this._delegate,WR);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$R(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){NS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return fE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return rE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ua(Ei().mark((function e(t){var n,r;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VR(this._delegate,t),e.t0=t,e.next=e.t0===LR.SESSION?4:e.t0===LR.LOCAL?6:e.t0===LR.NONE?11:13;break;case 4:return n=zE,e.abrupt("break",14);case 6:return e.next=8,__(lT)._isAvailable();case 8:return r=e.sent,n=r?lT:VE,e.abrupt("break",14);case 11:return n=pS,e.abrupt("break",14);case 13:return e.abrupt("return",p_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $R(this._delegate,function(e){return NI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $R(this._delegate,KI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $R(this._delegate,function(e,t){return ZI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $R(this._delegate,function(e,t,n){return KI(ea(e),yI.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $R(this._delegate,function(e,t,n){return dE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return QR(this._delegate,function(e,t,n){return AT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZR(PR(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$R(this._delegate,HT(this._delegate,t,WR)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ua(Ei().mark((function e(t){return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZR(PR(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jR(this._delegate);case 3:return e.abrupt("return",oC(this._delegate,t,WR));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return sE.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&JR.getOrCreate(e))},error:t,complete:n}}function nA(e,t){var n=function(e,t){var n=BR();if(!n)return[];var r=vS(UR,e,t);switch(n.getItem(r)){case LR.NONE:return[pS];case LR.LOCAL:return[lT,zE];case LR.SESSION:return[zE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(lT)||n.push(lT),"undefined"!==typeof window)for(var r=0,i=[VE,zE];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(pS)||n.push(pS),n}eA.Persistence=LR;var rA=function(){function e(){fi(this,e),this.providerId="phone",this._delegate=new FT(KR(yo.auth()))}return hi(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return FT.credential(e,t)}}]),e}();rA.PHONE_SIGN_IN_METHOD=FT.PHONE_SIGN_IN_METHOD,rA.PROVIDER_ID=FT.PROVIDER_ID;var iA=k_,aA=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yo.app();fi(this,e),iA(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new TT(t,n,i.auth()),this.type=this._delegate.type}return hi(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new sa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new eA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:n_,PASSWORD_RESET:r_,RECOVER_EMAIL:i_,REVERT_SECOND_FACTOR_ADDITION:a_,VERIFY_AND_CHANGE_EMAIL:o_,VERIFY_EMAIL:u_}},EmailAuthProvider:yI,FacebookAuthProvider:wI,GithubAuthProvider:_I,GoogleAuthProvider:xI,OAuthProvider:bI,SAMLAuthProvider:II,PhoneAuthProvider:rA,PhoneMultiFactorGenerator:XC,RecaptchaVerifier:aA,TwitterAuthProvider:EI,Auth:eA,AuthCredential:LS,Error:zi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.11")}(yo);var oA="firebasestorage.googleapis.com",uA=function(e){yi(n,e);var t=xi(n);function n(e,r){var i;return fi(this,n),(i=t.call(this,sA(e),"Firebase Storage: ".concat(r," (").concat(sA(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(vi(i),n.prototype),i}return hi(n,[{key:"_codeEquals",value:function(e){return sA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(zi);function sA(e){return"storage/"+e}function cA(){return new uA("unknown","An unknown error occurred, please check the error payload for server response.")}function lA(){return new uA("canceled","User canceled the upload/download.")}function fA(){return new uA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dA(e){return new uA("invalid-argument",e)}function hA(){return new uA("app-deleted","The Firebase app was deleted.")}function pA(e){return new uA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vA(e,t){return new uA("invalid-format","String does not match format '"+e+"': "+t)}function mA(e){throw new uA("internal-error","Internal error: "+e)}var yA,gA=function(){function e(t,n){fi(this,e),this.bucket=t,this.path_=n}return hi(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new uA("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===oA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new uA("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kA=function(){function e(t){fi(this,e),this.promise_=Promise.reject(t)}return hi(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function bA(e){return"string"===typeof e||e instanceof String}function wA(e){return xA()&&e instanceof Blob}function xA(){return"undefined"!==typeof Blob}function _A(e,t,n,r){if(r<t)throw dA("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw dA("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function SA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function IA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yA||(yA={}));var EA=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this;fi(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return hi(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=cA();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?hA():lA());else i(new uA("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new TA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new TA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yA.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new TA(o,r))}else{var u=r.getErrorCode()===yA.ABORT;t(!1,new TA(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),TA=hi((function e(t,n,r){fi(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function CA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function RA(){for(var e=CA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(xA())return new Blob(n);throw new uA("unsupported-environment","This browser doesn't seem to support creating Blobs")}var AA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},NA=hi((function e(t,n){fi(this,e),this.data=t,this.contentType=n||null}));function PA(e,t){switch(e){case AA.RAW:return new NA(OA(t));case AA.BASE64:case AA.BASE64URL:return new NA(DA(e,t));case AA.DATA_URL:return new NA(function(e){var t=new MA(e);return t.base64?DA(AA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw vA(AA.DATA_URL,"Malformed data URL.")}return OA(t)}(t.rest)}(t),new MA(t).contentType)}throw cA()}function OA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function DA(e,t){switch(e){case AA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vA(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case AA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vA(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw vA(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var MA=hi((function e(t){fi(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vA(AA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var LA=function(){function e(t,n){fi(this,e);var r=0,i="";wA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return hi(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(wA(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(xA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(RA.apply(null,i))}var a=n.map((function(e){return bA(e)?PA(AA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function FA(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function UA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function VA(e,t){return t}var jA=hi((function e(t,n,r,i){fi(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||VA})),zA=null;function BA(){if(zA)return zA;var e=[];e.push(new jA("bucket")),e.push(new jA("generation")),e.push(new jA("metageneration")),e.push(new jA("name","fullPath",!0));var t=new jA("name");t.xform=function(e,t){return function(e){return!bA(e)||e.length<2?e:UA(e)}(t)},e.push(t);var n=new jA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new jA("timeCreated")),e.push(new jA("updated")),e.push(new jA("md5Hash",null,!0)),e.push(new jA("cacheControl",null,!0)),e.push(new jA("contentDisposition",null,!0)),e.push(new jA("contentEncoding",null,!0)),e.push(new jA("contentLanguage",null,!0)),e.push(new jA("contentType",null,!0)),e.push(new jA("metadata","customMetadata",!0)),zA=e}function qA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gA(n,r);return t._makeStorageReference(i)}})}(r,e),r}function WA(e,t,n){var r=FA(t);return null===r?null:qA(e,r,n)}function KA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function HA(e,t,n){var r=FA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=pi(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new gA(t,o));r.prefixes.push(u)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var s,c=pi(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new gA(t,l.name));r.items.push(f)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var GA=hi((function e(t,n,r,i){fi(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function $A(e){if(!e)throw cA()}function QA(e,t){return function(n,r){var i=WA(e,r,t);return $A(null!==i),i}}function YA(e,t){return function(n,r){var i=WA(e,r,t);return $A(null!==i),function(e,t,n,r){var i=FA(t);if(null===i)return null;if(!bA(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return SA("/b/"+o(i)+"/o/"+o(a),n,r)+IA({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function XA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new uA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new uA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new uA("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new uA("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function JA(e){var t=XA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new uA("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZA(e,t,n){var r=SA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GA(r,"GET",QA(e,n),i);return a.errorHandler=JA(t),a}function eN(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=SA(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new GA(o,"GET",function(e,t){return function(n,r){var i=HA(e,t,r);return $A(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=XA(t),s}function tN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nN(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=tN(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+KA(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=LA.getBlob(c,r,l);if(null===f)throw fA();var d={name:s.fullPath},h=SA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new GA(h,"POST",QA(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=XA(t),v}var rN=hi((function e(t,n,r,i){fi(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){$A(!1)}return $A(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aN=262144;function oN(e,t,n,r,i,a,o,u){var s=new rN(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new uA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,d=f+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,d);if(null===p)throw fA();var v=t.maxUploadRetryTime,m=new GA(n,"POST",(function(e,n){var i,o=iN(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?QA(t,a)(e,n):null,new rN(u,c,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=XA(e),m}var uN={STATE_CHANGED:"state_changed"},sN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cN(e){switch(e){case"running":case"pausing":case"canceling":return sN.RUNNING;case"paused":return sN.PAUSED;case"success":return sN.SUCCESS;case"canceled":return sN.CANCELED;default:return sN.ERROR}}var lN=hi((function e(t,n,r){fi(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function fN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var dN=function(){function e(){var t=this;fi(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yA.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yA.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yA.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return hi(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mA("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mA("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mA("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),hN=function(e){yi(n,e);var t=xi(n);function n(){return fi(this,n),t.apply(this,arguments)}return hi(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(dN);function pN(){return new hN}var vN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fi(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=BA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return hi(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tN(t,r,i),u={name:o.fullPath},s=SA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=KA(o,n),f=e.maxUploadRetryTime,d=new GA(s,"POST",(function(e){var t;iN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){$A(!1)}return $A(bA(t)),t}),f);return d.urlParams=u,d.headers=c,d.body=l,d.errorHandler=XA(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new GA(n,"POST",(function(e){var t=iN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){$A(!1)}n||$A(!1);var i=Number(n);return $A(!isNaN(i)),new rN(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=XA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pN,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aN*this._chunkMultiplier,n=new rN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,pN,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){aN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nN(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cN(this._state)){case sN.SUCCESS:fN(this._resolve.bind(null,this.snapshot))();break;case sN.CANCELED:case sN.ERROR:fN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cN(this._state)){case sN.RUNNING:case sN.PAUSED:e.next&&fN(e.next.bind(e,this.snapshot))();break;case sN.SUCCESS:e.complete&&fN(e.complete.bind(e))();break;default:e.error&&fN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mN=function(){function e(t,n){fi(this,e),this._service=t,this._location=n instanceof gA?n:gA.makeFromUrl(n,t.host)}return hi(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gA(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return UA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gA(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pA(e)}}]),e}();function yN(e,t,n){return gN.apply(this,arguments)}function gN(){return(gN=ua(Ei().mark((function e(t,n,r){var i,a,o,u;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kN(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,W(u.prefixes)),(a=n.items).push.apply(a,W(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,yN(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kN(e,t){null!=t&&"number"===typeof t.maxResults&&_A("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eN(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pN)}function bN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=SA(t.fullServerUrl(),e.host,e._protocol),a=KA(n,r),o=e.maxOperationRetryTime,u=new GA(i,"PATCH",QA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=JA(t),u}(e.storage,e._location,t,BA());return e.storage.makeRequestWithTokens(n,pN)}function wN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=SA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GA(r,"GET",YA(e,n),i);return a.errorHandler=JA(t),a}(e.storage,e._location,BA());return e.storage.makeRequestWithTokens(t,pN).then((function(e){if(null===e)throw new uA("no-download-url","The given file does not have any download URLs.");return e}))}function xN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=SA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=JA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pN)}function _N(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gA(e._location.bucket,n);return new mN(e.storage,r)}function SN(e,t){if(e instanceof CN){var n=e;if(null==n._bucket)throw new uA("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mN(n,n._bucket);return null!=t?SN(r,t):r}return void 0!==t?_N(e,t):e}function IN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CN)return new mN(e,t);throw dA("To use ref(service, url), the first argument must be a Storage instance.")}return SN(e,t)}function EN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gA.makeFromBucketSpec(n,e)}function TN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Oi(i,e.app.options.projectId))}var CN=function(){function e(t,n,r,i,a){fi(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gA.makeFromBucketSpec(i,this._host):EN(this._host,this.app.options)}return hi(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gA.makeFromBucketSpec(this._url,e):this._bucket=EN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ua(Ei().mark((function e(){var t,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ua(Ei().mark((function e(){var t,n;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kA(hA());var a=function(e,t,n,r,i,a){var o=IA(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new EA(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ua(Ei().mark((function e(t,n){var r,i,a,o;return Ei().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),RN="@firebase/storage",AN="0.9.4",NN="storage";function PN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vN(e,new LA(t),n)}(e=ea(e),t,n)}function ON(e){return function(e){e._throwIfRoot("getMetadata");var t=ZA(e.storage,e._location,BA());return e.storage.makeRequestWithTokens(t,pN)}(e=ea(e))}function DN(e){return function(e){var t={prefixes:[],items:[]};return yN(e,t).then((function(){return t}))}(e=ea(e))}function MN(e,t){return IN(e=ea(e),t)}function LN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};TN(e,t,n,r)}function FN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CN(r,i,a,n,ja)}Oa(new sa(NN,FN,"PUBLIC").setMultipleInstances(!0)),Ha(RN,AN,""),Ha(RN,AN,"esm2017");var UN=function(){function e(t,n,r){fi(this,e),this._delegate=t,this.task=n,this.ref=r}return hi(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),VN=function(){function e(t,n){fi(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return hi(e,[{key:"snapshot",get:function(){return new UN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new UN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new UN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new UN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),jN=function(){function e(t,n){fi(this,e),this._delegate=t,this._service=n}return hi(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new zN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new zN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),zN=function(){function e(t,n){fi(this,e),this._delegate=t,this.storage=n}return hi(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return _N(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new VN(PN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=PA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new VN(new vN(this._delegate,new LA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return DN(this._delegate).then((function(t){return new jN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kN(e=ea(e),t)}(this._delegate,e||void 0).then((function(e){return new jN(e,t.storage)}))}},{key:"getMetadata",value:function(){return ON(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return bN(e=ea(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return wN(ea(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),xN(ea(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pA(e)}}]),e}(),BN=function(){function e(t,n){fi(this,e),this.app=t,this._delegate=n}return hi(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(qN(e))throw dA("ref() expected a child path but got a URL, use refFromURL instead.");return new zN(MN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!qN(e))throw dA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gA.makeFromUrl(e,this._delegate.host)}catch(t){throw dA("refFromUrl() expected a valid full URL but got an invalid one.")}return new zN(MN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};LN(this._delegate,e,t,n)}}]),e}();function qN(e){return/^[A-Za-z]+:\/\//.test(e)}function WN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new BN(r,i)}!function(e){var t={TaskState:sN,TaskEvent:uN,StringFormat:AA,Storage:BN,Reference:zN};e.INTERNAL.registerComponent(new sa("storage-compat",WN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.12")}(yo);var KN=yo.initializeApp({apiKey:"AIzaSyDj4oBLNxgQJ1PgmqF4qf_gM6mQo0VY4mI",authDomain:"instagram-clone-b210b.firebaseapp.com",projectId:"instagram-clone-b210b",storageBucket:"instagram-clone-b210b.appspot.com",messagingSenderId:"355256084822",appId:"1:355256084822:web:6f8da76495caff98274ef7"}).firestore(),HN=yo.auth(),GN=yo.storage(),$N=["className","component"];var QN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?Cn:o,s=vn("div")(u),c=t.forwardRef((function(e,t){var r=Pr(n),o=Me(e),u=o.className,c=o.component,l=void 0===c?"div":c,h=f(o,$N);return(0,Mr.jsx)(s,d({as:l,ref:t,className:Br(u,a?a(i):i),theme:r},h))}));return c}({defaultTheme:br(),defaultClassName:"MuiBox-root",generateClassName:Hr.generate}),YN=QN;function XN(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function JN(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){XN(e,t),XN(n,t)}}),[e,n])}var ZN=JN,eP="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function tP(e){var n=t.useRef(e);return eP((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var nP,rP=tP,iP=!0,aP=!1,oP={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uP(e){e.metaKey||e.altKey||e.ctrlKey||(iP=!0)}function sP(){iP=!1}function cP(){"hidden"===this.visibilityState&&aP&&(iP=!0)}function lP(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return iP||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!oP[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var fP=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",uP,!0),t.addEventListener("mousedown",sP,!0),t.addEventListener("pointerdown",sP,!0),t.addEventListener("touchstart",sP,!0),t.addEventListener("visibilitychange",cP,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!lP(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(aP=!0,window.clearTimeout(nP),nP=window.setTimeout((function(){aP=!1}),100),n.current=!1,!0)},ref:e}};function dP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function hP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mi(e,t)}var pP=t.createContext(null);function vP(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function mP(e,t,n){return null!=n[t]?n[t]:e.props[t]}function yP(e,n,r){var i=vP(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:mP(u,"exit",e),enter:mP(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:mP(u,"exit",e),enter:mP(u,"enter",e)})}})),a}var gP=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},kP=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(vi(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}hP(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,vP(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:mP(e,"appear",r),enter:mP(e,"enter",r),exit:mP(e,"exit",r)})}))):yP(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=vP(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=d({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=f(e,["component","childFactory"]),a=this.state.contextValue,o=gP(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(pP.Provider,{value:a},o):t.createElement(pP.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);kP.propTypes={},kP.defaultProps={component:"div",childFactory:function(e){return e}};var bP=kP,wP=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),xP=en((function(e,n){var r=e.styles,i=Jt([r],void 0,(0,t.useContext)(tn)),a=(0,t.useRef)();return wP((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),wP((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&an(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function _P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jt(t)}var SP=function(){var e=_P.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var IP=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,h=c(t.useState(!1),2),p=h[0],v=h[1],m=Br(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=Br(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,Mr.jsx)("span",{className:m,style:y,children:(0,Mr.jsx)("span",{className:g})})};var EP,TP,CP,RP,AP,NP,PP,OP,DP=Qr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),MP=["center","classes","className"],LP=SP(AP||(AP=EP||(EP=dP(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),FP=SP(NP||(NP=TP||(TP=dP(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),UP=SP(PP||(PP=CP||(CP=dP(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),VP=Ir("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jP=Ir(IP,{name:"MuiTouchRipple",slot:"Ripple"})(OP||(OP=RP||(RP=dP(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),DP.rippleVisible,LP,550,(function(e){return e.theme.transitions.easing.easeInOut}),DP.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),DP.child,DP.childLeaving,FP,550,(function(e){return e.theme.transitions.easing.easeInOut}),DP.childPulsate,UP,(function(e){return e.theme.transitions.easing.easeInOut})),zP=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,l=f(r,MP),h=c(t.useState([]),2),p=h[0],v=h[1],m=t.useRef(0),y=t.useRef(null);t.useEffect((function(){y.current&&(y.current(),y.current=null)}),[p]);var g=t.useRef(!1),k=t.useRef(null),b=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(k.current)}}),[]);var x=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat(W(e),[(0,Mr.jsx)(jP,{classes:{ripple:Br(u.ripple,DP.ripple),rippleVisible:Br(u.rippleVisible,DP.rippleVisible),ripplePulsate:Br(u.ripplePulsate,DP.ripplePulsate),child:Br(u.child,DP.child),childLeaving:Br(u.childLeaving,DP.childLeaving),childPulsate:Br(u.childPulsate,DP.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,y.current=a}),[u]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,f,d,h=c?null:w.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var _=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===b.current&&(b.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},k.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,x]),S=t.useCallback((function(){_({},{pulsate:!0})}),[_]),I=t.useCallback((function(e,t){if(clearTimeout(k.current),"touchend"===e.type&&b.current)return b.current(),b.current=null,void(k.current=setTimeout((function(){I(e,t)})));b.current=null,v((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:S,start:_,stop:I}}),[S,_,I]),(0,Mr.jsx)(VP,d({className:Br(u.root,DP.root,s),ref:w},l,{children:(0,Mr.jsx)(bP,{component:null,exit:!0,children:p})}))})),BP=zP;function qP(e){return $r("MuiButtonBase",e)}var WP,KP=Qr("MuiButtonBase",["root","disabled","focusVisible"]),HP=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],GP=Ir("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((l(WP={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(KP.disabled),{pointerEvents:"none",cursor:"default"}),l(WP,"@media print",{colorAdjust:"exact"}),WP)),$P=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,l=r.component,h=void 0===l?"button":l,p=r.disabled,v=void 0!==p&&p,m=r.disableRipple,y=void 0!==m&&m,g=r.disableTouchRipple,k=void 0!==g&&g,b=r.focusRipple,w=void 0!==b&&b,x=r.LinkComponent,_=void 0===x?"a":x,S=r.onBlur,I=r.onClick,E=r.onContextMenu,T=r.onDragLeave,C=r.onFocus,R=r.onFocusVisible,A=r.onKeyDown,N=r.onKeyUp,P=r.onMouseDown,O=r.onMouseLeave,D=r.onMouseUp,M=r.onTouchEnd,L=r.onTouchMove,F=r.onTouchStart,U=r.tabIndex,V=void 0===U?0:U,j=r.TouchRippleProps,z=r.touchRippleRef,B=r.type,q=f(r,HP),W=t.useRef(null),K=t.useRef(null),H=ZN(K,z),G=fP(),$=G.isFocusVisibleRef,Q=G.onFocus,Y=G.onBlur,X=G.ref,J=c(t.useState(!1),2),Z=J[0],ee=J[1];v&&Z&&ee(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ee(!0),W.current.focus()}}}),[]);var te=c(t.useState(!1),2),ne=te[0],re=te[1];t.useEffect((function(){re(!0)}),[]);var ie=ne&&!y&&!v;function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;return rP((function(r){return t&&t(r),!n&&K.current&&K.current[e](r),!0}))}t.useEffect((function(){Z&&w&&!y&&ne&&K.current.pulsate()}),[y,w,Z,ne]);var oe=ae("start",P),ue=ae("stop",E),se=ae("stop",T),ce=ae("stop",D),le=ae("stop",(function(e){Z&&e.preventDefault(),O&&O(e)})),fe=ae("start",F),de=ae("stop",M),he=ae("stop",L),pe=ae("stop",(function(e){Y(e),!1===$.current&&ee(!1),S&&S(e)}),!1),ve=rP((function(e){W.current||(W.current=e.currentTarget),Q(e),!0===$.current&&(ee(!0),R&&R(e)),C&&C(e)})),me=function(){var e=W.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),ge=rP((function(e){w&&!ye.current&&Z&&K.current&&" "===e.key&&(ye.current=!0,K.current.stop(e,(function(){K.current.start(e)}))),e.target===e.currentTarget&&me()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&me()&&"Enter"===e.key&&!v&&(e.preventDefault(),I&&I(e))})),ke=rP((function(e){w&&" "===e.key&&K.current&&Z&&!e.defaultPrevented&&(ye.current=!1,K.current.stop(e,(function(){K.current.pulsate(e)}))),N&&N(e),I&&e.target===e.currentTarget&&me()&&" "===e.key&&!e.defaultPrevented&&I(e)})),be=h;"button"===be&&(q.href||q.to)&&(be=_);var we={};"button"===be?(we.type=void 0===B?"button":B,we.disabled=v):(q.href||q.to||(we.role="button"),v&&(we["aria-disabled"]=v));var xe=ZN(X,W),_e=ZN(n,xe);var Se=d({},r,{centerRipple:o,component:h,disabled:v,disableRipple:y,disableTouchRipple:k,focusRipple:w,tabIndex:V,focusVisible:Z}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=qr({root:["root",t&&"disabled",n&&"focusVisible"]},qP,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,Mr.jsxs)(GP,d({as:be,className:Br(Ie.root,s),ownerState:Se,onBlur:pe,onClick:I,onContextMenu:ue,onFocus:ve,onKeyDown:ge,onKeyUp:ke,onMouseDown:oe,onMouseLeave:le,onMouseUp:ce,onDragLeave:se,onTouchEnd:de,onTouchMove:he,onTouchStart:fe,ref:_e,tabIndex:v?-1:V,type:B},we,q,{children:[u,ie?(0,Mr.jsx)(BP,d({ref:H,center:o},j)):null]}))})),QP=$P;function YP(e){return $r("MuiButton",e)}var XP=Qr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var JP=t.createContext({}),ZP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],eO=function(e){return d({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},tO=Ir(QP,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Wr(n.color))],t["size".concat(Wr(n.size))],t["".concat(n.variant,"Size").concat(Wr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return d({},n.typography.button,(l(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":d({textDecoration:"none",backgroundColor:qn(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:qn(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:qn(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":d({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},"&.".concat(XP.focusVisible),d({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),l(t,"&.".concat(XP.disabled),d({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat(qn(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(l(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(XP.focusVisible),{boxShadow:"none"}),l(t,"&:active",{boxShadow:"none"}),l(t,"&.".concat(XP.disabled),{boxShadow:"none"}),t)})),nO=Ir("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Wr(n.size))]]}})((function(e){var t=e.ownerState;return d({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},eO(t))})),rO=Ir("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Wr(n.size))]]}})((function(e){var t=e.ownerState;return d({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},eO(t))})),iO=t.forwardRef((function(e,n){var r=t.useContext(JP),i=Dr({props:Er(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,h=i.disabled,p=void 0!==h&&h,v=i.disableElevation,m=void 0!==v&&v,y=i.disableFocusRipple,g=void 0!==y&&y,k=i.endIcon,b=i.focusVisibleClassName,w=i.fullWidth,x=void 0!==w&&w,_=i.size,S=void 0===_?"medium":_,I=i.startIcon,E=i.type,T=i.variant,C=void 0===T?"text":T,R=f(i,ZP),A=d({},i,{color:u,component:c,disabled:p,disableElevation:m,disableFocusRipple:g,fullWidth:x,size:S,type:E,variant:C}),N=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return d({},o,qr({root:["root",a,"".concat(a).concat(Wr(t)),"size".concat(Wr(i)),"".concat(a,"Size").concat(Wr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Wr(i))],endIcon:["endIcon","iconSize".concat(Wr(i))]},YP,o))}(A),P=I&&(0,Mr.jsx)(nO,{className:N.startIcon,ownerState:A,children:I}),O=k&&(0,Mr.jsx)(rO,{className:N.endIcon,ownerState:A,children:k});return(0,Mr.jsxs)(tO,d({ownerState:A,className:Br(l,r.className),component:c,disabled:p,focusRipple:!g,focusVisibleClassName:Br(N.focusVisible,b),ref:n,type:E},R,{classes:N,children:[P,a,O]}))})),aO=iO;var oO=function(e){return"string"===typeof e};function uO(e){return e&&e.ownerDocument||document}function sO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var cO=n(164);var lO=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=c(t.useState(null),2),s=u[0],l=u[1],f=JN(t.isValidElement(r)?r.ref:null,n);return eP((function(){o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),eP((function(){if(s&&!o)return XN(n,s),function(){XN(n,null)}}),[n,s,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:f}):r:s?cO.createPortal(r,s):s}));function fO(e){return uO(e).defaultView||window}function dO(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function hO(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pO(e){return parseInt(fO(e).getComputedStyle(e).paddingRight,10)||0}function vO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(W(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&hO(e,i)}))}function mO(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function yO(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=uO(e);return t.body===e?fO(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=dO(uO(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(pO(r)+i,"px");var a=uO(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(pO(e)+i,"px")}))}var o=r.parentElement,u=fO(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var gO=function(){function e(){fi(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return hi(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&hO(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);vO(t,e.mount,e.modalRef,r,!0);var i=mO(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=mO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=yO(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=mO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&hO(e.modalRef,!0),vO(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&hO(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),kO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function bO(e){var t=[],n=[];return Array.from(e.querySelectorAll(kO)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function wO(){return!0}var xO=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?bO:c,f=e.isEnabled,d=void 0===f?wO:f,h=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),k=t.useRef(!1),b=t.useRef(null),w=JN(n.ref,b),x=t.useRef(null);t.useEffect((function(){h&&b.current&&(k.current=!i)}),[i,h]),t.useEffect((function(){if(h&&b.current){var e=uO(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),k.current&&b.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),t.useEffect((function(){if(h&&b.current){var e=uO(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!k.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(b.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0};return(0,Mr.jsxs)(t.Fragment,{children:[(0,Mr.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,Mr.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function _O(e){return $r("MuiModal",e)}Qr("MuiModal",["root","hidden"]);var SO=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var IO=new gO,EO=t.forwardRef((function(e,n){var r=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,l=void 0!==s&&s,h=e.component,p=void 0===h?"div":h,v=e.components,m=void 0===v?{}:v,y=e.componentsProps,g=void 0===y?{}:y,k=e.container,b=e.disableAutoFocus,w=void 0!==b&&b,x=e.disableEnforceFocus,_=void 0!==x&&x,S=e.disableEscapeKeyDown,I=void 0!==S&&S,E=e.disablePortal,T=void 0!==E&&E,C=e.disableRestoreFocus,R=void 0!==C&&C,A=e.disableScrollLock,N=void 0!==A&&A,P=e.hideBackdrop,O=void 0!==P&&P,D=e.keepMounted,M=void 0!==D&&D,L=e.manager,F=void 0===L?IO:L,U=e.onBackdropClick,V=e.onClose,j=e.onKeyDown,z=e.open,B=e.theme,q=e.onTransitionEnter,W=e.onTransitionExited,K=f(e,SO),H=c(t.useState(!0),2),G=H[0],$=H[1],Q=t.useRef({}),Y=t.useRef(null),X=t.useRef(null),J=JN(X,n),Z=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ee=function(){return Q.current.modalRef=X.current,Q.current.mountNode=Y.current,Q.current},te=function(){F.mount(ee(),{disableScrollLock:N}),X.current.scrollTop=0},ne=tP((function(){var e=function(e){return"function"===typeof e?e():e}(k)||uO(Y.current).body;F.add(ee(),e),X.current&&te()})),re=t.useCallback((function(){return F.isTopModal(ee())}),[F]),ie=tP((function(e){Y.current=e,e&&(z&&re()?te():hO(X.current,!0))})),ae=t.useCallback((function(){F.remove(ee())}),[F]);t.useEffect((function(){return function(){ae()}}),[ae]),t.useEffect((function(){z?ne():Z&&l||ae()}),[z,ae,Z,l,ne]);var oe=d({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:w,disableEnforceFocus:_,disableEscapeKeyDown:I,disablePortal:T,disableRestoreFocus:R,disableScrollLock:N,exited:G,hideBackdrop:O,keepMounted:M}),ue=function(e){var t=e.open,n=e.exited;return qr({root:["root",!t&&n&&"hidden"]},_O,e.classes)}(oe);if(!M&&!z&&(!Z||G))return null;var se={};void 0===a.props.tabIndex&&(se.tabIndex="-1"),Z&&(se.onEnter=sO((function(){$(!1),q&&q()}),a.props.onEnter),se.onExited=sO((function(){$(!0),W&&W(),l&&ae()}),a.props.onExited));var ce=m.Root||p,le=g.root||{};return(0,Mr.jsx)(lO,{ref:ie,container:k,disablePortal:T,children:(0,Mr.jsxs)(ce,d({role:"presentation"},le,!oO(ce)&&{as:p,ownerState:d({},oe,le.ownerState),theme:B},K,{ref:J,onKeyDown:function(e){j&&j(e),"Escape"===e.key&&re()&&(I||(e.stopPropagation(),V&&V(e,"escapeKeyDown")))},className:Br(ue.root,le.className,u),children:[!O&&r?(0,Mr.jsx)(r,d({"aria-hidden":!0,open:z,onClick:function(e){e.target===e.currentTarget&&(U&&U(e),V&&V(e,"backdropClick"))}},i)):null,(0,Mr.jsx)(xO,{disableEnforceFocus:_,disableAutoFocus:w,disableRestoreFocus:R,isEnabled:re,open:z,children:t.cloneElement(a,se)})]}))})})),TO=EO,CO=!1,RO="unmounted",AO="exited",NO="entering",PO="entered",OO="exiting",DO=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=AO,r.appearStatus=NO):i=PO:i=t.unmountOnExit||t.mountOnEnter?RO:AO,r.state={status:i},r.nextCallback=null,r}hP(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===RO?{status:AO}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==NO&&n!==PO&&(t=NO):n!==NO&&n!==PO||(t=OO)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===NO?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===AO&&this.setState({status:RO})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[cO.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||CO?this.safeSetState({status:PO},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:NO},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:PO},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:cO.findDOMNode(this);t&&!CO?(this.props.onExit(r),this.safeSetState({status:OO},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:AO},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:AO},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:cO.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===RO)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,f(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(pP.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function MO(){}DO.contextType=pP,DO.propTypes={},DO.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:MO,onEntering:MO,onEntered:MO,onExit:MO,onExiting:MO,onExited:MO},DO.UNMOUNTED=RO,DO.EXITED=AO,DO.ENTERING=NO,DO.ENTERED=PO,DO.EXITING=OO;var LO=DO;function FO(){return Pr(wr)}var UO=function(e){return e.scrollTop};function VO(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var jO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],zO={entering:{opacity:1},entered:{opacity:1}},BO=t.forwardRef((function(e,n){var r=FO(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,h=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,k=e.style,b=e.timeout,w=void 0===b?i:b,x=e.TransitionComponent,_=void 0===x?LO:x,S=f(e,jO),I=t.useRef(null),E=ZN(s.ref,n),T=ZN(I,E),C=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},R=C(v),A=C((function(e,t){UO(e);var n=VO({style:k,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),N=C(p),P=C(g),O=C((function(e){var t=VO({style:k,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=C(y);return(0,Mr.jsx)(_,d({appear:u,in:l,nodeRef:I,onEnter:A,onEntered:N,onEntering:R,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){a&&a(I.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(s,d({style:d({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},zO[e],k,s.props.style),ref:T},n))}}))})),qO=BO;function WO(e){return $r("MuiBackdrop",e)}Qr("MuiBackdrop",["root","invisible"]);var KO=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],HO=Ir("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return d({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),GO=t.forwardRef((function(e,t){var n,r,i=Dr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,l=i.componentsProps,h=void 0===l?{}:l,p=i.className,v=i.invisible,m=void 0!==v&&v,y=i.open,g=i.transitionDuration,k=i.TransitionComponent,b=void 0===k?qO:k,w=f(i,KO),x=d({},i,{component:u,invisible:m}),_=function(e){var t=e.classes;return qr({root:["root",e.invisible&&"invisible"]},WO,t)}(x);return(0,Mr.jsx)(b,d({in:y,timeout:g},w,{children:(0,Mr.jsx)(HO,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:Br(_.root,p),ownerState:d({},x,null==(r=h.root)?void 0:r.ownerState),classes:_,ref:t,children:a})}))})),$O=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],QO=Ir("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return d({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),YO=Ir(GO,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),XO=t.forwardRef((function(e,n){var r,i=Dr({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?YO:a,u=i.closeAfterTransition,s=void 0!==u&&u,l=i.children,h=i.components,p=void 0===h?{}:h,v=i.componentsProps,m=void 0===v?{}:v,y=i.disableAutoFocus,g=void 0!==y&&y,k=i.disableEnforceFocus,b=void 0!==k&&k,w=i.disableEscapeKeyDown,x=void 0!==w&&w,_=i.disablePortal,S=void 0!==_&&_,I=i.disableRestoreFocus,E=void 0!==I&&I,T=i.disableScrollLock,C=void 0!==T&&T,R=i.hideBackdrop,A=void 0!==R&&R,N=i.keepMounted,P=void 0!==N&&N,O=f(i,$O),D=c(t.useState(!0),2),M=D[0],L=D[1],F={closeAfterTransition:s,disableAutoFocus:g,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:A,keepMounted:P},U=function(e){return e.classes}(d({},i,F,{exited:M}));return(0,Mr.jsx)(TO,d({components:d({Root:QO},p),componentsProps:{root:d({},m.root,(!p.Root||!oO(p.Root))&&{ownerState:d({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return L(!1)},onTransitionExited:function(){return L(!0)},ref:n},O,{classes:U},F,{children:l}))})),JO=0;var ZO=r.useId;function eD(e){if(void 0!==ZO){var n=ZO();return null!=e?e:n}return function(e){var n=c(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(JO+=1))}),[r]),a}(e)}function tD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}var nD=["onChange","maxRows","minRows","style","value"];function rD(e,t){return parseInt(e[t],10)||0}var iD={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},aD=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,l=f(e,nD),h=t.useRef(null!=s).current,p=t.useRef(null),v=JN(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=p.current,n=fO(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=rD(n,"padding-bottom")+rD(n,"padding-top"),s=rD(n,"border-bottom-width")+rD(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var d=(f=Math.max(f,l))+("border-box"===a?u+s:0),h=Math.abs(f-c)<=1;b((function(e){return y.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==h)?(y.current+=1,{overflow:h,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=tD((function(){y.current=0,w()})),n=fO(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),eP((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,Mr.jsxs)(t.Fragment,{children:[(0,Mr.jsx)("textarea",d({value:s,onChange:function(e){y.current=0,h||w(),r&&r(e)},ref:v,rows:o,style:d({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},l)),(0,Mr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:d({},iD,u,{padding:0})})]})})),oD=aD;function uD(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var sD=t.createContext();function cD(){return t.useContext(sD)}var lD=eP;function fD(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Mr.jsx)(xP,{styles:i})}var dD=function(e){return(0,Mr.jsx)(fD,d({},e,{defaultTheme:wr}))};function hD(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function pD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(hD(e.value)&&""!==e.value||t&&hD(e.defaultValue)&&""!==e.defaultValue)}function vD(e){return $r("MuiInputBase",e)}var mD=Qr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),yD=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],gD=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Wr(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},kD=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},bD=Ir("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gD})((function(e){var t=e.theme,n=e.ownerState;return d({},t.typography.body1,l({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(mD.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&d({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),wD=Ir("input",{name:"MuiInputBase",slot:"Input",overridesResolver:kD})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return d((l(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(mD.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),l(t,"&.".concat(mD.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),l(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),xD=(0,Mr.jsx)(dD,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),_D=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,l=void 0===s?{}:s,h=r.componentsProps,p=void 0===h?{}:h,v=r.defaultValue,m=r.disabled,y=r.disableInjectingGlobalStyles,g=r.endAdornment,b=r.fullWidth,w=void 0!==b&&b,x=r.id,_=r.inputComponent,S=void 0===_?"input":_,I=r.inputProps,E=void 0===I?{}:I,T=r.inputRef,C=r.maxRows,R=r.minRows,A=r.multiline,N=void 0!==A&&A,P=r.name,O=r.onBlur,D=r.onChange,M=r.onClick,L=r.onFocus,F=r.onKeyDown,U=r.onKeyUp,V=r.placeholder,j=r.readOnly,z=r.renderSuffix,B=r.rows,q=r.startAdornment,W=r.type,K=void 0===W?"text":W,H=r.value,G=f(r,yD),$=null!=E.value?E.value:H,Q=t.useRef(null!=$).current,Y=t.useRef(),X=t.useCallback((function(e){0}),[]),J=ZN(E.ref,X),Z=ZN(T,J),ee=ZN(Y,Z),te=c(t.useState(!1),2),ne=te[0],re=te[1],ie=cD();var ae=uD({props:r,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,t.useEffect((function(){!ie&&m&&ne&&(re(!1),O&&O())}),[ie,m,ne,O]);var oe=ie&&ie.onFilled,ue=ie&&ie.onEmpty,se=t.useCallback((function(e){pD(e)?oe&&oe():ue&&ue()}),[oe,ue]);lD((function(){Q&&se({value:$})}),[$,se,Q]);t.useEffect((function(){se(Y.current)}),[]);var ce=S,le=E;N&&"input"===ce&&(le=d(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:C,minRows:R},le),ce=oD);t.useEffect((function(){ie&&ie.setAdornedStart(Boolean(q))}),[ie,q]);var fe=d({},r,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:g,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:w,hiddenLabel:ae.hiddenLabel,multiline:N,size:ae.size,startAdornment:q,type:K}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,d=e.startAdornment,h=e.type;return qr({root:["root","color".concat(Wr(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd"]},vD,t)}(fe),he=l.Root||bD,pe=p.root||{},ve=l.Input||wD;return le=d({},le,p.input),(0,Mr.jsxs)(t.Fragment,{children:[!y&&xD,(0,Mr.jsxs)(he,d({},pe,!oO(he)&&{ownerState:d({},fe,pe.ownerState)},{ref:n,onClick:function(e){Y.current&&e.currentTarget===e.target&&Y.current.focus(),M&&M(e)}},G,{className:Br(de.root,pe.className,u),children:[q,(0,Mr.jsx)(sD.Provider,{value:null,children:(0,Mr.jsx)(ve,d({ownerState:fe,"aria-invalid":ae.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:v,disabled:ae.disabled,id:x,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?Y.current:{value:"x"})},name:P,placeholder:V,readOnly:j,required:ae.required,rows:B,value:$,onKeyDown:F,onKeyUp:U,type:K},le,!oO(ve)&&{as:ce,ownerState:d({},fe,le.ownerState)},{ref:ee,className:Br(de.input,le.className),onBlur:function(e){O&&O(e),E.onBlur&&E.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!Q){var t=e.target||Y.current;if(null==t)throw new Error(k(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];E.onChange&&E.onChange.apply(E,[e].concat(r)),D&&D.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(L&&L(e),E.onFocus&&E.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),g,z?z(d({},ae,{startAdornment:q})):null]}))]})})),SD=_D;function ID(e){return $r("MuiInput",e)}var ED=d({},mD,Qr("MuiInput",["root","underline","input"])),TD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],CD=Ir(bD,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(W(gD(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return d({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(l(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(ED.focused,":after"),{transform:"scaleX(1)"}),l(t,"&.".concat(ED.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),l(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),l(t,"&:hover:not(.".concat(ED.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),l(t,"&.".concat(ED.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),RD=Ir(wD,{name:"MuiInput",slot:"Input",overridesResolver:kD})({}),AD=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,h=n.multiline,p=void 0!==h&&h,v=n.type,m=void 0===v?"text":v,y=f(n,TD),g=function(e){var t=e.classes;return d({},t,qr({root:["root",!e.disableUnderline&&"underline"],input:["input"]},ID,t))}(n),k={root:{ownerState:{disableUnderline:r}}},b=o?I(o,k):k;return(0,Mr.jsx)(SD,d({components:d({Root:CD,Input:RD},a),componentsProps:b,fullWidth:s,inputComponent:l,multiline:p,ref:t,type:m},y,{classes:g}))}));AD.muiName="Input";var ND=AD;function PD(e){return $r("MuiFilledInput",e)}var OD=d({},mD,Qr("MuiFilledInput",["root","underline","input"])),DD=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],MD=Ir(bD,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(W(gD(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,a="light"===r.palette.mode,o=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return d((l(t={position:"relative",backgroundColor:u,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:u}}},"&.".concat(OD.focused),{backgroundColor:u}),l(t,"&.".concat(OD.disabled),{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(l(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(OD.focused,":after"),{transform:"scaleX(1)"}),l(n,"&.".concat(OD.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),l(n,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),l(n,"&:hover:not(.".concat(OD.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),l(n,"&.".concat(OD.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&d({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),LD=Ir(wD,{name:"MuiFilledInput",slot:"Input",overridesResolver:kD})((function(e){var t=e.theme,n=e.ownerState;return d({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),FD=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,l=n.multiline,h=void 0!==l&&l,p=n.type,v=void 0===p?"text":p,m=f(n,DD),y=d({},n,{fullWidth:u,inputComponent:c,multiline:h,type:v}),g=function(e){var t=e.classes;return d({},t,qr({root:["root",!e.disableUnderline&&"underline"],input:["input"]},PD,t))}(n),k={root:{ownerState:y},input:{ownerState:y}},b=a?I(a,k):k;return(0,Mr.jsx)(SD,d({components:d({Root:MD,Input:LD},i),componentsProps:b,fullWidth:u,inputComponent:c,multiline:h,ref:t,type:v},m,{classes:g}))}));FD.muiName="Input";var UD,VD=FD,jD=["children","classes","className","label","notched"],zD=Ir("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),BD=Ir("legend")((function(e){var t=e.ownerState,n=e.theme;return d({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&d({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function qD(e){return $r("MuiOutlinedInput",e)}var WD=d({},mD,Qr("MuiOutlinedInput",["root","notchedOutline","input"])),KD=["components","fullWidth","inputComponent","label","multiline","notched","type"],HD=Ir(bD,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:gD})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return d((l(t={position:"relative",borderRadius:n.shape.borderRadius},"&:hover .".concat(WD.notchedOutline),{borderColor:n.palette.text.primary}),l(t,"@media (hover: none)",l({},"&:hover .".concat(WD.notchedOutline),{borderColor:i})),l(t,"&.".concat(WD.focused," .").concat(WD.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),l(t,"&.".concat(WD.error," .").concat(WD.notchedOutline),{borderColor:n.palette.error.main}),l(t,"&.".concat(WD.disabled," .").concat(WD.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&d({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),GD=Ir((function(e){var t=e.className,n=e.label,r=e.notched,i=f(e,jD),a=null!=n&&""!==n,o=d({},e,{notched:r,withLabel:a});return(0,Mr.jsx)(zD,d({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Mr.jsx)(BD,{ownerState:o,children:a?(0,Mr.jsx)("span",{children:n}):UD||(UD=(0,Mr.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),$D=Ir(wD,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:kD})((function(e){var t=e.theme,n=e.ownerState;return d({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),QD=t.forwardRef((function(e,n){var r,i=Dr({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,u=i.fullWidth,s=void 0!==u&&u,c=i.inputComponent,l=void 0===c?"input":c,h=i.label,p=i.multiline,v=void 0!==p&&p,m=i.notched,y=i.type,g=void 0===y?"text":y,k=f(i,KD),b=function(e){var t=e.classes;return d({},t,qr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},qD,t))}(i),w=uD({props:i,muiFormControl:cD(),states:["required"]});return(0,Mr.jsx)(SD,d({components:d({Root:HD,Input:$D},o),renderSuffix:function(e){return(0,Mr.jsx)(GD,{className:b.notchedOutline,label:null!=h&&""!==h&&w.required?r||(r=(0,Mr.jsxs)(t.Fragment,{children:[h,"\xa0","*"]})):h,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:l,multiline:v,ref:n,type:g},k,{classes:d({},b,{notchedOutline:null})}))}));QD.muiName="Input";var YD=QD;function XD(e){return $r("MuiFormLabel",e)}var JD=Qr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),ZD=["children","className","color","component","disabled","error","filled","focused","required"],eM=Ir("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return d({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return d({color:n.palette.text.secondary},n.typography.body1,(l(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(JD.focused),{color:n.palette[r.color].main}),l(t,"&.".concat(JD.disabled),{color:n.palette.text.disabled}),l(t,"&.".concat(JD.error),{color:n.palette.error.main}),t))})),tM=Ir("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return l({},"&.".concat(JD.error),{color:t.palette.error.main})})),nM=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=f(n,ZD),s=uD({props:n,muiFormControl:cD(),states:["color","required","focused","disabled","error","filled"]}),c=d({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return qr({root:["root","color".concat(Wr(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},XD,t)}(c);return(0,Mr.jsxs)(eM,d({as:o,ownerState:c,className:Br(l.root,i),ref:t},u,{children:[r,s.required&&(0,Mr.jsxs)(tM,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),rM=nM;function iM(e){return $r("MuiInputLabel",e)}Qr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var aM=["disableAnimation","margin","shrink","variant"],oM=Ir(rM,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[l({},"& .".concat(JD.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return d({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&d({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&d({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&d({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),uM=t.forwardRef((function(e,t){var n=Dr({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=f(n,aM),u=cD(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=uD({props:n,muiFormControl:u,states:["size","variant","required"]}),l=d({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return d({},t,qr({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},iM,t))}(l);return(0,Mr.jsx)(oM,d({"data-shrink":s,ownerState:l,ref:t},o,{classes:h}))}));var sM=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function cM(e){return $r("MuiFormControl",e)}Qr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var lM=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],fM=Ir("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return d({},t.root,t["margin".concat(Wr(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return d({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),dM=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,l=void 0===s?"div":s,h=r.disabled,p=void 0!==h&&h,v=r.error,m=void 0!==v&&v,y=r.focused,g=r.fullWidth,k=void 0!==g&&g,b=r.hiddenLabel,w=void 0!==b&&b,x=r.margin,_=void 0===x?"none":x,S=r.required,I=void 0!==S&&S,E=r.size,T=void 0===E?"medium":E,C=r.variant,R=void 0===C?"outlined":C,A=f(r,lM),N=d({},r,{color:u,component:l,disabled:p,error:m,fullWidth:k,hiddenLabel:w,margin:_,required:I,size:T,variant:R}),P=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return qr({root:["root","none"!==n&&"margin".concat(Wr(n)),r&&"fullWidth"]},cM,t)}(N),O=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(sM(t,["Input","Select"])){var n=sM(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),D=c(O,2),M=D[0],L=D[1],F=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){sM(t,["Input","Select"])&&pD(t.props,!0)&&(e=!0)})),e})),U=c(F,2),V=U[0],j=U[1],z=c(t.useState(!1),2),B=z[0],q=z[1];p&&B&&q(!1);var W=void 0===y||p?B:y,K=t.useCallback((function(){j(!0)}),[]),H={adornedStart:M,setAdornedStart:L,color:u,disabled:p,error:m,filled:V,focused:W,fullWidth:k,hiddenLabel:w,size:T,onBlur:function(){q(!1)},onEmpty:t.useCallback((function(){j(!1)}),[]),onFilled:K,onFocus:function(){q(!0)},registerEffect:undefined,required:I,variant:R};return(0,Mr.jsx)(sD.Provider,{value:H,children:(0,Mr.jsx)(fM,d({as:l,ownerState:N,className:Br(P.root,a),ref:n},A,{children:i}))})})),hM=dM;function pM(e){return $r("MuiFormHelperText",e)}var vM,mM=Qr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),yM=["children","className","component","disabled","error","filled","focused","margin","required","variant"],gM=Ir("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Wr(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return d({color:n.palette.text.secondary},n.typography.caption,(l(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(mM.disabled),{color:n.palette.text.disabled}),l(t,"&.".concat(mM.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),kM=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=f(n,yM),s=uD({props:n,muiFormControl:cD(),states:["variant","size","disabled","error","filled","focused","required"]}),c=d({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return qr({root:["root",i&&"disabled",a&&"error",r&&"size".concat(Wr(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},pM,t)}(c);return(0,Mr.jsx)(gM,d({as:o,ownerState:c,className:Br(l.root,i),ref:t},u,{children:" "===r?vM||(vM=(0,Mr.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),bM=(n(441),uO);var wM=t.createContext({});function xM(e){return $r("MuiList",e)}Qr("MuiList",["root","padding","dense","subheader"]);var _M=["children","className","component","dense","disablePadding","subheader"],SM=Ir("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return d({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),IM=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,l=r.disablePadding,h=void 0!==l&&l,p=r.subheader,v=f(r,_M),m=t.useMemo((function(){return{dense:c}}),[c]),y=d({},r,{component:u,dense:c,disablePadding:h}),g=function(e){var t=e.classes;return qr({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},xM,t)}(y);return(0,Mr.jsx)(wM.Provider,{value:m,children:(0,Mr.jsxs)(SM,d({as:u,className:Br(g.root,a),ref:n,ownerState:y},v,{children:[p,i]}))})})),EM=dO,TM=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function CM(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function RM(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function AM(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function NM(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&AM(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var PM=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,h=void 0!==l&&l,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,k=f(e,TM),b=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});lD((function(){a&&b.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(EM(bM(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var x=ZN(b,n),_=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===_)&&(_=n))}));var S=t.Children.map(s,(function(e,n){if(n===_){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,Mr.jsx)(IM,d({role:"menu",ref:x,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=bM(t).activeElement;if("ArrowDown"===n)e.preventDefault(),NM(t,r,v,h,CM);else if("ArrowUp"===n)e.preventDefault(),NM(t,r,v,h,RM);else if("Home"===n)e.preventDefault(),NM(t,null,v,h,CM);else if("End"===n)e.preventDefault(),NM(t,null,v,h,RM);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&AM(r,i);i.previousKeyMatched&&(u||NM(t,r,!1,h,CM,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},k,{children:S}))})),OM=PM;function DM(e){return $r("MuiPaper",e)}Qr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var MM=["className","component","elevation","square","variant"],LM=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},FM=Ir("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return d({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&d({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(qn("#fff",LM(n.elevation)),", ").concat(qn("#fff",LM(n.elevation)),")")}))})),UM=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,h=void 0===l?"elevation":l,p=f(n,MM),v=d({},n,{component:a,elevation:u,square:c,variant:h}),m=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return qr({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},DM,i)}(v);return(0,Mr.jsx)(FM,d({as:a,ownerState:v,className:Br(m.root,r),ref:t},p))})),VM=UM,jM=tD,zM=fO,BM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function qM(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var WM={entering:{opacity:1,transform:qM(1)},entered:{opacity:1,transform:"none"}},KM="undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&/version\/15\.[4-9]/i.test(navigator.userAgent),HM=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,k=void 0===g?"auto":g,b=e.TransitionComponent,w=void 0===b?LO:b,x=f(e,BM),_=t.useRef(),S=t.useRef(),I=FO(),E=t.useRef(null),T=ZN(o.ref,n),C=ZN(E,T),R=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},A=R(h),N=R((function(e,t){UO(e);var n,r=VO({style:y,timeout:k,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===k?(n=I.transitions.getAutoHeightDuration(e.clientHeight),S.current=n):n=i,e.style.transition=[I.transitions.create("opacity",{duration:n,delay:a}),I.transitions.create("transform",{duration:KM?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),P=R(l),O=R(m),D=R((function(e){var t,n=VO({style:y,timeout:k,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===k?(t=I.transitions.getAutoHeightDuration(e.clientHeight),S.current=t):t=r,e.style.transition=[I.transitions.create("opacity",{duration:t,delay:i}),I.transitions.create("transform",{duration:KM?t:.666*t,delay:KM?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=qM(.75),p&&p(e)})),M=R(v);return t.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),(0,Mr.jsx)(w,d({appear:a,in:s,nodeRef:E,onEnter:N,onEntered:P,onEntering:A,onExit:D,onExited:M,onExiting:O,addEndListener:function(e){"auto"===k&&(_.current=setTimeout(e,S.current||0)),r&&r(E.current,e)},timeout:"auto"===k?null:k},x,{children:function(e,n){return t.cloneElement(o,d({style:d({opacity:0,transform:qM(.75),visibility:"exited"!==e||s?void 0:"hidden"},WM[e],y,o.props.style),ref:C},n))}}))}));HM.muiSupportAuto=!0;var GM=HM;function $M(e){return $r("MuiPopover",e)}Qr("MuiPopover",["root","paper"]);var QM=["onEntering"],YM=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function XM(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function JM(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ZM(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function eL(e){return"function"===typeof e?e():e}var tL=Ir(XO,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),nL=Ir(VM,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rL=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,l=void 0===c?"anchorEl":c,h=r.children,p=r.className,v=r.container,m=r.elevation,y=void 0===m?8:m,g=r.marginThreshold,k=void 0===g?16:g,b=r.open,w=r.PaperProps,x=void 0===w?{}:w,_=r.transformOrigin,S=void 0===_?{vertical:"top",horizontal:"left"}:_,I=r.TransitionComponent,E=void 0===I?GM:I,T=r.transitionDuration,C=void 0===T?"auto":T,R=r.TransitionProps,A=(R=void 0===R?{}:R).onEntering,N=f(r.TransitionProps,QM),P=f(r,YM),O=t.useRef(),D=ZN(O,x.ref),M=d({},r,{anchorOrigin:u,anchorReference:l,elevation:y,marginThreshold:k,PaperProps:x,transformOrigin:S,TransitionComponent:E,transitionDuration:C,TransitionProps:N}),L=function(e){return qr({root:["root"],paper:["paper"]},$M,e.classes)}(M),F=t.useCallback((function(){if("anchorPosition"===l)return s;var e=eL(a),t=(e&&1===e.nodeType?e:bM(O.current).body).getBoundingClientRect();return{top:t.top+XM(t,u.vertical),left:t.left+JM(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),U=t.useCallback((function(e){return{vertical:XM(e,S.vertical),horizontal:JM(e,S.horizontal)}}),[S.horizontal,S.vertical]),V=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=U(t);if("none"===l)return{top:null,left:null,transformOrigin:ZM(n)};var r=F(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=zM(eL(a)),f=c.innerHeight-k,d=c.innerWidth-k;if(i<k){var h=i-k;i-=h,n.vertical+=h}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<k){var v=o-k;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:ZM(n)}}),[a,l,F,U,k]),j=t.useCallback((function(){var e=O.current;if(e){var t=V(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[V]);t.useEffect((function(){b&&j()})),t.useImperativeHandle(i,(function(){return b?{updatePosition:function(){j()}}:null}),[b,j]),t.useEffect((function(){if(b){var e=jM((function(){j()})),t=zM(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,j]);var z=C;"auto"!==C||E.muiSupportAuto||(z=void 0);var B=v||(a?bM(eL(a)).body:void 0);return(0,Mr.jsx)(tL,d({BackdropProps:{invisible:!0},className:Br(L.root,p),container:B,open:b,ref:n,ownerState:M},P,{children:(0,Mr.jsx)(E,d({appear:!0,in:b,onEntering:function(e,t){A&&A(e,t),j()},timeout:z},N,{children:(0,Mr.jsx)(nL,d({elevation:y},x,{ref:D,className:Br(L.paper,x.className),children:h}))}))}))})),iL=rL;function aL(e){return $r("MuiMenu",e)}Qr("MuiMenu",["root","paper","list"]);var oL=["onEntering"],uL=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],sL={vertical:"top",horizontal:"right"},cL={vertical:"top",horizontal:"left"},lL=Ir(iL,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),fL=Ir(VM,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),dL=Ir(OM,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),hL=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,l=void 0===c?{}:c,h=r.onClose,p=r.open,v=r.PaperProps,m=void 0===v?{}:v,y=r.PopoverClasses,g=r.transitionDuration,k=void 0===g?"auto":g,b=r.TransitionProps,w=(b=void 0===b?{}:b).onEntering,x=r.variant,_=void 0===x?"selectedMenu":x,S=f(r.TransitionProps,oL),I=f(r,uL),E=FO(),T="rtl"===E.direction,C=d({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:w,PaperProps:m,transitionDuration:k,TransitionProps:S,variant:_}),R=function(e){return qr({root:["root"],paper:["paper"],list:["list"]},aL,e.classes)}(C),A=a&&!s&&p,N=t.useRef(null),P=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===_&&e.props.selected||-1===P)&&(P=n))})),(0,Mr.jsx)(lL,d({classes:y,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?sL:cL,PaperProps:d({component:fL},m,{classes:d({},m.classes,{root:R.paper})}),className:R.root,open:p,ref:n,transitionDuration:k,TransitionProps:d({onEntering:function(e,t){N.current&&N.current.adjustStyleForScrollbar(e,E),w&&w(e,t)}},S),ownerState:C},I,{children:(0,Mr.jsx)(dL,d({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),h&&h(e,"tabKeyDown"))},actions:N,autoFocus:a&&(-1===P||s),autoFocusItem:A,variant:_},l,{className:Br(R.list,l.className),children:o}))}))})),pL=hL;function vL(e){return $r("MuiNativeSelect",e)}var mL=Qr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),yL=["className","disabled","IconComponent","inputRef","variant"],gL=function(e){var t,n=e.ownerState,r=e.theme;return d((l(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(mL.disabled),{cursor:"default"}),l(t,"&[multiple]",{height:"auto"}),l(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),l(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},kL=Ir("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:xr,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],l({},"&.".concat(mL.multiple),t.multiple)]}})(gL),bL=function(e){var t=e.ownerState,n=e.theme;return d(l({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(mL.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},wL=Ir("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wr(n.variant))],n.open&&t.iconOpen]}})(bL),xL=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=f(e,yL),l=d({},e,{disabled:i,variant:s}),h=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return qr({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wr(n)),a&&"iconOpen",r&&"disabled"]},vL,t)}(l);return(0,Mr.jsxs)(t.Fragment,{children:[(0,Mr.jsx)(kL,d({ownerState:l,className:Br(h.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,Mr.jsx)(wL,{as:a,ownerState:l,className:h.icon})]})})),_L=xL;var SL=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=c(t.useState(r),2),o=a[0],u=a[1];return[i?n:o,t.useCallback((function(e){i||u(e)}),[])]};function IL(e){return $r("MuiSelect",e)}var EL,TL=Qr("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),CL=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],RL=Ir("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[l({},"&.".concat(TL.select),t.select),l({},"&.".concat(TL.select),t[n.variant]),l({},"&.".concat(TL.multiple),t.multiple)]}})(gL,l({},"&.".concat(TL.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),AL=Ir("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wr(n.variant))],n.open&&t.iconOpen]}})(bL),NL=Ir("input",{shouldForwardProp:function(e){return _r(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function PL(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function OL(e){return null==e||"string"===typeof e&&!e.trim()}var DL,ML,LL=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,l=e.defaultOpen,h=e.defaultValue,p=e.disabled,v=e.displayEmpty,m=e.IconComponent,y=e.inputRef,g=e.labelId,b=e.MenuProps,w=void 0===b?{}:b,x=e.multiple,_=e.name,S=e.onBlur,I=e.onChange,E=e.onClose,T=e.onFocus,C=e.onOpen,R=e.open,A=e.readOnly,N=e.renderValue,P=e.SelectDisplayProps,O=void 0===P?{}:P,D=e.tabIndex,M=e.value,L=e.variant,F=void 0===L?"standard":L,U=f(e,CL),V=c(SL({controlled:M,default:h,name:"Select"}),2),j=V[0],z=V[1],B=c(SL({controlled:R,default:l,name:"Select"}),2),q=B[0],W=B[1],K=t.useRef(null),H=t.useRef(null),G=c(t.useState(null),2),$=G[0],Q=G[1],Y=t.useRef(null!=R).current,X=c(t.useState(),2),J=X[0],Z=X[1],ee=ZN(n,y),te=t.useCallback((function(e){H.current=e,e&&Q(e)}),[]);t.useImperativeHandle(ee,(function(){return{focus:function(){H.current.focus()},node:K.current,value:j}}),[j]),t.useEffect((function(){l&&q&&$&&!Y&&(Z(o?null:$.clientWidth),H.current.focus())}),[$,o]),t.useEffect((function(){a&&H.current.focus()}),[a]),t.useEffect((function(){if(g){var e=bM(H.current).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&H.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g]);var ne,re,ie=function(e,t){e?C&&C(t):E&&E(t),Y||(Z(o?null:$.clientWidth),W(e))},ae=t.Children.toArray(u),oe=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(j)?j.slice():[];var r=j.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(z(n),I)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:_}}),I(a,e)}x||ie(!1,t)}}},ue=null!==$&&q;delete U["aria-invalid"];var se=[],ce=!1;(pD({value:j})||v)&&(N?ne=N(j):ce=!0);var le=ae.map((function(e){if(!t.isValidElement(e))return null;var n;if(x){if(!Array.isArray(j))throw new Error(k(2));n=j.some((function(t){return PL(t,e.props.value)})),n&&ce&&se.push(e.props.children)}else(n=PL(j,e.props.value))&&ce&&(re=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:oe(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));ce&&(ne=x?0===se.length?null:se.reduce((function(e,t,n){return e.push(t),n<se.length-1&&e.push(", "),e}),[]):re);var fe,de=J;!o&&Y&&$&&(de=$.clientWidth),fe="undefined"!==typeof D?D:p?null:0;var he=O.id||(_?"mui-component-select-".concat(_):void 0),pe=d({},e,{variant:F,value:j,open:ue}),ve=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return qr({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wr(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},IL,t)}(pe);return(0,Mr.jsxs)(t.Fragment,{children:[(0,Mr.jsx)(RL,d({ref:te,tabIndex:fe,role:"button","aria-disabled":p?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,he].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!A){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ie(!0,e))}},onMouseDown:p||A?null:function(e){0===e.button&&(e.preventDefault(),H.current.focus(),ie(!0,e))},onBlur:function(e){!ue&&S&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:_}}),S(e))},onFocus:T},O,{ownerState:pe,className:Br(ve.select,s,O.className),id:he,children:OL(ne)?EL||(EL=(0,Mr.jsx)("span",{className:"notranslate",children:"\u200b"})):ne})),(0,Mr.jsx)(NL,d({value:Array.isArray(j)?j.join(","):j,name:_,ref:K,"aria-hidden":!0,onChange:function(e){var t=ae.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ae[t];z(n.props.value),I&&I(e,n)}},tabIndex:-1,disabled:p,className:ve.nativeInput,autoFocus:a,ownerState:pe},U)),(0,Mr.jsx)(AL,{as:m,className:ve.icon,ownerState:pe}),(0,Mr.jsx)(pL,d({id:"menu-".concat(_||""),anchorEl:$,open:ue,onClose:function(e){ie(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:d({"aria-labelledby":g,role:"listbox",disableListWrap:!0},w.MenuListProps),PaperProps:d({},w.PaperProps,{style:d({minWidth:de},null!=w.PaperProps?w.PaperProps.style:null)}),children:le}))]})})),FL=LL,UL=ti((0,Mr.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),VL=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],jL={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return xr(e)&&"variant"!==e},slot:"Root"},zL=Ir(ND,jL)(""),BL=Ir(YD,jL)(""),qL=Ir(VD,jL)(""),WL=t.forwardRef((function(e,n){var r=Dr({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,l=r.defaultOpen,h=void 0!==l&&l,p=r.displayEmpty,v=void 0!==p&&p,m=r.IconComponent,y=void 0===m?UL:m,g=r.id,k=r.input,b=r.inputProps,w=r.label,x=r.labelId,_=r.MenuProps,S=r.multiple,E=void 0!==S&&S,T=r.native,C=void 0!==T&&T,R=r.onClose,A=r.onOpen,N=r.open,P=r.renderValue,O=r.SelectDisplayProps,D=r.variant,M=void 0===D?"outlined":D,L=f(r,VL),F=C?_L:FL,U=uD({props:r,muiFormControl:cD(),states:["variant"]}).variant||M,V=k||{standard:DL||(DL=(0,Mr.jsx)(zL,{})),outlined:(0,Mr.jsx)(BL,{label:w}),filled:ML||(ML=(0,Mr.jsx)(qL,{}))}[U],j=function(e){return e.classes}(d({},r,{variant:U,classes:s})),z=ZN(n,V.ref);return t.cloneElement(V,d({inputComponent:F,inputProps:d({children:o,IconComponent:y,variant:U,type:void 0,multiple:E},C?{id:g}:{autoWidth:a,defaultOpen:h,displayEmpty:v,labelId:x,MenuProps:_,onClose:R,onOpen:A,open:N,renderValue:P,SelectDisplayProps:d({id:g},O)},b,{classes:b?I(j,b.classes):j},k?k.props.inputProps:{})},E&&C&&"outlined"===U?{notched:!0}:{},{ref:z,className:Br(V.props.className,c),variant:U},L))}));WL.muiName="Select";var KL=WL;function HL(e){return $r("MuiTextField",e)}Qr("MuiTextField",["root"]);var GL=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],$L={standard:ND,filled:VD,outlined:YD},QL=Ir(hM,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),YL=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,h=n.disabled,p=void 0!==h&&h,v=n.error,m=void 0!==v&&v,y=n.FormHelperTextProps,g=n.fullWidth,k=void 0!==g&&g,b=n.helperText,w=n.id,x=n.InputLabelProps,_=n.inputProps,S=n.InputProps,I=n.inputRef,E=n.label,T=n.maxRows,C=n.minRows,R=n.multiline,A=void 0!==R&&R,N=n.name,P=n.onBlur,O=n.onChange,D=n.onFocus,M=n.placeholder,L=n.required,F=void 0!==L&&L,U=n.rows,V=n.select,j=void 0!==V&&V,z=n.SelectProps,B=n.type,q=n.value,W=n.variant,K=void 0===W?"outlined":W,H=f(n,GL),G=d({},n,{autoFocus:a,color:c,disabled:p,error:m,fullWidth:k,multiline:A,required:F,select:j,variant:K}),$=function(e){return qr({root:["root"]},HL,e.classes)}(G);var Q={};"outlined"===K&&(x&&"undefined"!==typeof x.shrink&&(Q.notched=x.shrink),Q.label=E),j&&(z&&z.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var Y=eD(w),X=b&&Y?"".concat(Y,"-helper-text"):void 0,J=E&&Y?"".concat(Y,"-label"):void 0,Z=$L[K],ee=(0,Mr.jsx)(Z,d({"aria-describedby":X,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:k,multiline:A,name:N,rows:U,maxRows:T,minRows:C,type:B,value:q,id:Y,inputRef:I,onBlur:P,onChange:O,onFocus:D,placeholder:M,inputProps:_},Q,S));return(0,Mr.jsxs)(QL,d({className:Br($.root,u),disabled:p,error:m,fullWidth:k,ref:t,required:F,color:c,variant:K,ownerState:G},H,{children:[null!=E&&""!==E&&(0,Mr.jsx)(uM,d({htmlFor:Y,id:J},x,{children:E})),j?(0,Mr.jsx)(KL,d({"aria-describedby":X,id:Y,labelId:J,value:q,input:ee},z,{children:o})):ee,b&&(0,Mr.jsx)(kM,d({id:X},y,{children:b}))]}))})),XL=YL;var JL=function(e){var n=e.username,r=c((0,t.useState)(null),2),i=r[0],a=r[1],o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=c((0,t.useState)(0),2),f=l[0],d=l[1];return(0,Mr.jsxs)("div",{className:"imageUpload",children:[(0,Mr.jsx)("h3",{className:"uploadTitle",children:"Post an image"}),(0,Mr.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])},className:"imageInput"}),(0,Mr.jsxs)(jr,{direction:"row",spacing:2,className:"postRow",children:[(0,Mr.jsx)(XL,{id:"outlined-basic",label:"Enter a caption",variant:"outlined",value:u,onChange:function(e){return s(e.target.value)},type:"text",className:"captionField",size:"small"}),(0,Mr.jsx)(aO,{variant:"outlined",className:"postButton",onClick:function(){GN.ref("images/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);d(t)}),(function(e){console.log(e),alert(e.message)}),(function(){GN.ref("images").child(i.name).getDownloadURL().then((function(e){KN.collection("posts").add({timestamp:yo.firestore.FieldValue.serverTimestamp(),caption:u,image:e,username:n}),d(0),s(""),a(null)}))}))},children:"Post"})]}),(0,Mr.jsx)("progress",{value:f,max:"100"})]})},ZL={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function eF(){var e=c(t.useState(""),2),n=e[0],r=e[1],i=c(t.useState(""),2),a=i[0],o=i[1],u=c(t.useState(""),2),s=u[0],l=u[1],f=c(t.useState(null),2),d=f[0],h=f[1],p=c(t.useState(!1),2),v=p[0],m=p[1],y=c(t.useState(!1),2),g=y[0],k=y[1];t.useEffect((function(){var e=HN.onAuthStateChanged((function(e){if(e){if(console.log(e),h(e),!e.displayName)return e.updateProfile({displayName:n})}else h(null)}));return function(){e()}}),[n,d]);return(0,Mr.jsxs)("div",{children:[d?(0,Mr.jsx)(jr,{direction:"row",spacing:4,className:"alignVerticallyCenter",children:(0,Mr.jsx)(aO,{onClick:function(){return HN.signOut()},children:"Logout"})}):(0,Mr.jsxs)("div",{className:"loginOptions",children:[(0,Mr.jsx)(aO,{onClick:function(){return m(!0)},children:"Sign Up"}),(0,Mr.jsx)(aO,{onClick:function(){return k(!0)},children:"Sign In"})]}),(0,Mr.jsx)(XO,{open:v,onClose:function(){return m(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Mr.jsxs)(YN,{sx:ZL,children:[(0,Mr.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"}),(0,Mr.jsx)("form",{children:(0,Mr.jsxs)(jr,{direction:"column",spacing:1,children:[(0,Mr.jsx)(XL,{id:"outlined-basic",label:"Username",variant:"outlined",value:n,onChange:function(e){return r(e.target.value)}}),(0,Mr.jsx)(XL,{id:"outlined-basic",value:a,onChange:function(e){return o(e.target.value)},label:"Email",variant:"outlined"}),(0,Mr.jsx)(XL,{id:"outlined-basic",label:"Password",variant:"outlined",value:s,type:"password",onChange:function(e){return l(e.target.value)}}),(0,Mr.jsx)(aO,{onClick:function(e){console.log("handling sign up"),e.preventDefault(),HN.createUserWithEmailAndPassword(a,s).then((function(e){e.user.updateProfile({displayName:n})})).catch((function(e){alert(e.message)})),m(!1)},type:"submit",variant:"text",children:"Sign Up"})]})}),(0,Mr.jsx)("div",{})]})}),(0,Mr.jsx)(XO,{open:g,onClose:function(){return k(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Mr.jsxs)(YN,{sx:ZL,children:[(0,Mr.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"}),(0,Mr.jsx)("form",{children:(0,Mr.jsxs)(jr,{direction:"column",spacing:1,children:[(0,Mr.jsx)(XL,{id:"outlined-basic",value:a,onChange:function(e){return o(e.target.value)},label:"Email",variant:"outlined"}),(0,Mr.jsx)(XL,{id:"outlined-basic",label:"Password",variant:"outlined",value:s,onChange:function(e){return l(e.target.value)}}),(0,Mr.jsx)(aO,{onClick:function(e){console.log("handling sign in"),e.preventDefault(),HN.signInWithEmailAndPassword(a,s).catch((function(e){alert(e.message)})),k(!1)},type:"submit",variant:"text",children:"Sign In"})]})}),(0,Mr.jsx)("div",{})]})}),null!==d&&void 0!==d&&d.displayName?(0,Mr.jsx)(JL,{username:d.displayName}):(0,Mr.jsx)("h4",{children:"Login to upload images"})]})}var tF=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){KN.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]),(0,Mr.jsxs)("div",{className:"App",children:[(0,Mr.jsx)(jr,{direction:"row",className:"header",children:(0,Mr.jsx)("img",{className:"instagramLogo",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram"})}),(0,Mr.jsx)(eF,{}),(0,Mr.jsx)("div",{className:"posts",children:n.map((function(e,t){return(0,Mr.jsx)(li,{image:e.image,username:e.username,caption:e.caption,avatar:e.avatar},t)}))})]})};i.createRoot(document.getElementById("root")).render((0,Mr.jsx)(t.StrictMode,{children:(0,Mr.jsx)(tF,{})}))}()}();
//# sourceMappingURL=main.dc7e3ddf.js.map